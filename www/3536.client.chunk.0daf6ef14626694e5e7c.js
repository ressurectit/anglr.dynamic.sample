"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3536],{50603:(t,e,s)=>{s.d(e,{A:()=>a});var i=s(78072),n=s(56215),r=s(74421),o=s(91775);function a(t){return function(e,s){const a=s;Object.defineProperty(e,`${a}Change`,{get:function(){return this[`ɵ${a}Change`]||(this[`ɵ${a}Change`]=new i.x),this[`ɵ${a}Change`]}}),Object.defineProperty(e,a,{get:function(){return this[`ɵ${a}`]},set:function(e){if(this[`ɵ${a}`]=e,(0,n.gE)(this,a),t?.sync)this[`${a}Change`].next();else{const t=this.ɵɵinjector;if(!t)return;const e=t.get(r.s),s=t.get(o.H),i=e.getId(this);if(!i)return;s.markForCheck({componentId:i,outputName:a})}}}),t?.skipInit&&(0,n.pG)(e,a)}}},83536:(t,e,s)=>{s.r(e),s.d(e,{default:()=>k});var i=s(14392),n=s(97873),r=s(18617),o=s(24445),a=s(84109),u=s(50603),h=s(91314),p=s(10382),l=s(12987),c=s(61006),g=s(5567),m=s(29542),d=s(55163),f=s(40853),y=s(95161);function O(t,e,s,i,n,r,o){try{var a=t[r](o),u=a.value}catch(t){return void s(t)}a.done?e(u):Promise.resolve(u).then(i,n)}const b=function(){var t,e=(t=function*(){return new((yield Promise.all([s.e(6178),s.e(9444),s.e(5895)]).then(s.bind(s,95895))).RestRelationsEditorMetadata)},function(){var e=this,s=arguments;return new Promise((function(i,n){var r=t.apply(e,s);function o(t){O(r,i,n,o,a,"next",t)}function a(t){O(r,i,n,o,a,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();let v=class{get relationsOptions(){return this.ɵRelationsOptions}set relationsOptions(t){this.ɵRelationsOptions=t,this.initialize()}constructor(t){this.emptyParam=[],this.http=t.get(r.e),this.logger=t.get(l.bZ),this.queryStringSerializer=t.get(g.C),this.progressIndicator=t.get(c.u)}ngOnChanges(t){this.makeRequest()}invalidateVisuals(){}initialize(){if(this.relationsOptions&&this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const t in this.relationsOptions.params){const e=this.relationsOptions.params[t];this.emptyParam.push(!0),e.configurable&&e.name&&Object.defineProperty(this,e.name,{configurable:!0,enumerable:!0,set:s=>{e.value=s,this.emptyParam[t]=(0,d.fp)(s)}})}this.relationsOptions?.runImmediately&&this.makeRequest()}makeRequest(){if(this.emptyParam.find((t=>t)))return;if(this.runningRequestSubscription&&(this.runningRequestSubscription.unsubscribe(),this.progressIndicator.hideProgress()),!this.relationsOptions||!this.relationsOptions.method||!this.relationsOptions.url)return void this.logger.warn("RestRelations: missing options for craeting http request {@data}",this.relationsOptions);let t=null,e=this.relationsOptions.url;const s={},i={},n=[];if(this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const r of this.relationsOptions.params){if(!r.name)continue;const o={index:0,key:r.name,value:r.value,transformFn:null};switch(r.type){case"PATH":e=(0,m.t6)(o,e);break;case"BODY":t=r.value;break;case"QUERY":(0,m.F6)(o,s);break;case"QUERY OBJECT":(0,m.Td)(o,n,this.queryStringSerializer);break;case"HEADER":(0,m.qk)(o,i)}}let r=new o.a(this.relationsOptions.method,e,t,{reportProgress:!1,responseType:"json"});if((0,d.Qr)(s)||(r=r.clone({setParams:s})),(0,d.Qr)(i)||(r=r.clone({setHeaders:i})),n.length){const t=(0,m.Ex)(n,r.params);r=r.clone({params:t})}this.runningRequestSubscription=this.http.request(r).pipe((0,f.K)((t=>(this.success=null,this.error=t,y.E)))).subscribe((t=>{if(t.type==a.dt.Response&&t.status>=200&&t.status<=300)return this.success=t.body,void(this.error=null)}))}};(0,i.gn)([(0,u.A)(),(0,i.w6)("design:type",Object)],v.prototype,"success",void 0),(0,i.gn)([(0,u.A)(),(0,i.w6)("design:type",Object)],v.prototype,"error",void 0),v=(0,i.gn)([(0,h.H)(),(0,p.i)(b),(0,i.w6)("design:paramtypes",[n.z])],v);const k=v}}]);
//# sourceMappingURL=3536.client.chunk.0daf6ef14626694e5e7c.js.map