{"version":3,"file":"8856.client.chunk.7c5e11a2aaf51647bb80.js","mappings":"8ZAAA,SAASA,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GAAO,IAAM,IAAIC,EAAOP,EAAIK,GAAKC,GAAUE,EAAQD,EAAKC,KAAgD,CAAvC,MAAOC,GAAwB,YAAfP,EAAOO,EAAgB,CAAMF,EAAKG,KAAQT,EAAQO,GAAiBG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAAW,CAgBxQ,SAASS,EAA8CC,EAAIC,GASzD,GARS,EAALD,IACF,KAAkB,EAAG,MAAO,GAC5B,KAAa,EAAG,sBAAuB,GACvC,KAAkB,EAAG,OACrB,IAAU,GACV,UAGO,EAALA,EAAQ,CACV,MAAME,EAAeD,EAAIE,UACnBC,EAAS,MACf,IAAa,GACb,IAAc,oBAAqBA,EAAOC,aAA1C,CAAwD,YAAaD,EAAOE,UAA5E,CAAuF,OAAQJ,EAAaK,KAA5G,CAAkH,SAAUH,GAC5H,IAAa,GACb,KAAqBF,EAAaK,KACpC,CACF,CAEA,SAASC,EAA8CR,EAAIC,GASzD,GARS,EAALD,IACF,KAAkB,EAAG,MAAO,EAA5B,CAA+B,EAAG,OAClC,IAAU,GACV,OACA,KAAa,EAAG,uBAAwB,GACxC,QAGO,EAALA,EAAQ,CACV,MAAMS,EAAgBR,EAAIE,UACpBO,EAAS,MACf,IAAa,GACb,KAAqBD,EAAcF,MACnC,IAAa,GACb,IAAc,oBAAqBG,EAAOL,aAA1C,CAAwD,YAAaK,EAAOJ,UAA5E,CAAuF,OAAQG,EAAcF,KAA7G,CAAmH,SAAUG,EAC/H,CACF,CAEO,MAAMC,UAAuC,IAClDC,cACEC,SAASC,WAMTC,KAAKC,0BAA2B,QAAO,MAKvCD,KAAKE,0BAA2B,QAAO,IACzC,CAOAC,aACE,IA1EuBC,EA0EnBC,EAAQL,KAEZ,OA5EuBI,EA4EE,YACvB,IAAIE,EAEJ,IAAKD,EAAME,SACT,QAGDD,EAAKD,EAAME,UAAUC,mBAAqBF,EAAGE,iBAAmB,CAC/DhB,KAAM,KAER,MAAMiB,QAAsBJ,EAAMH,yBAAyBQ,iBAAiBL,EAAME,SAASf,MAE3F,IAAKiB,EACH,OAGFJ,EAAME,SAASC,iBAAiBhB,KAAOa,EAAME,SAASf,KACtD,MAAMmB,SAAmBN,EAAMJ,0BAA0BW,YAAYH,KAAmB,GACxFJ,EAAMQ,YAAa,OAAUF,GAC7BN,EAAMS,aAAc,OAAWH,EACjC,EAhGoC,WAAc,IAAII,EAAOf,KAAMgB,EAAOjB,UAAW,OAAO,IAAIjB,SAAQ,SAAUV,EAASC,GAAU,IAAIF,EAAMiC,EAAGa,MAAMF,EAAMC,GAAO,SAAS1C,EAAMK,GAAST,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAAQ,CAAE,SAASJ,EAAO2C,GAAOhD,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAAS2C,EAAM,CAAE5C,OAAM6C,EAAY,GAAI,IAiG/X,EAIFvB,EAA+B,KAAsB,WACnD,IAAI,EACJ,OAAO,SAAgDwB,GACrD,OAAQ,IAAgD,EAA8C,KAAyBxB,KAAkCwB,GAAKxB,EACxK,CACF,CALqD,GAOrDA,EAA+B,KAAsB,KAAqB,CACxEyB,KAAMzB,EACN0B,UAAW,CAAC,CAAC,0BACbC,YAAY,EACZC,SAAU,CAAC,IAA+B,KAC1CC,MAAO,EACPC,KAAM,EACNC,OAAQ,CAAC,CAAC,OAAQ,SAAU,EAAG,SAAU,kBAAmB,CAAC,EAAG,gBAAiB,CAAC,EAAG,kBAAmB,CAAC,EAAG,UAAW,CAAC,QAAS,QAAS,EAAG,QAAS,WAAY,CAAC,EAAG,WAAY,CAAC,QAAS,SAAU,EAAG,QAAS,WAAY,CAAC,EAAG,SAAU,CAAC,EAAG,oBAAqB,YAAa,OAAQ,UAAW,CAAC,EAAG,WACzSC,SAAU,SAAiD3C,EAAIC,GACpD,EAALD,IACF,KAAa,EAAG,wBAAyB,GACzC,KAAkB,EAAG,MAAO,EAA5B,CAA+B,EAAG,MAAO,EAAzC,CAA4C,EAAG,MAAO,GACtD,IAAc,EAAGD,EAA+C,EAAG,EAAG,MAAO,GAC7E,OACA,KAAkB,EAAG,MAAO,GAC5B,IAAc,EAAGS,EAA+C,EAAG,EAAG,MAAO,GAC7E,YAGO,EAALR,IACF,IAAc,SAAUC,EAAxB,CAA6B,iBAAkBA,EAAI2C,gBACnD,IAAa,GACb,IAAc,UAA6B,MAAlB3C,EAAI2B,YAA+D,MAAnC3B,EAAI2B,WAAWL,iBAAtB,KAAwDtB,EAAI2B,WAAWL,iBAAiBsB,QAC1I,IAAa,GACb,IAAc,UAA8B,MAAnB5C,EAAI4B,aAAiE,MAApC5B,EAAI4B,YAAYN,iBAAvB,KAAyDtB,EAAI4B,YAAYN,iBAAiBuB,SAEjJ,EACAC,aAAc,CAAC,IAAc,KAAY,IAAgC,IAA8B,KACvGC,cAAe,EACfC,gBAAiB,ICtIZ,MAAMC,EAEXtC,cAMEG,KAAKoC,SAAW,CACdC,MAAO,cAMTrC,KAAKsC,eAAiB1C,EACtB2C,OAAOC,OAAOxC,KAChB,E","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-relations/src/dynamicItems/customComponent/node/customComponentNode.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-relations/src/dynamicItems/customComponent/metadata/customComponent.relationsMetadata.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { Component, ChangeDetectionStrategy, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RELATIONS_METADATA_STORAGE } from '@anglr/dynamic/relations';\nimport { RelationsNodeBase, RelationNodeInputSAComponent, RelationsNodeHeaderSAComponent, RelationNodeOutputSAComponent } from '@anglr/dynamic/relations-editor';\nimport { LayoutComponentsRegister } from '../../../services';\nimport { getInputs, getOutputs } from '../customComponent.utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n/**\n * Relations node component for custom component\n */\n\nfunction CustomComponentNodeSAComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"relation-node-input\", 8);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const inputMeta_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"parentCoordiantes\", ctx_r0.nodePosition)(\"zoomLevel\", ctx_r0.zoomLevel)(\"name\", inputMeta_r2.name)(\"parent\", ctx_r0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inputMeta_r2.name);\n  }\n}\n\nfunction CustomComponentNodeSAComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"relation-node-output\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const outputMeta_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(outputMeta_r3.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"parentCoordiantes\", ctx_r1.nodePosition)(\"zoomLevel\", ctx_r1.zoomLevel)(\"name\", outputMeta_r3.name)(\"parent\", ctx_r1);\n  }\n}\n\nexport class CustomComponentNodeSAComponent extends RelationsNodeBase {\n  constructor() {\n    super(...arguments); //######################### protected properties #########################\n\n    /**\n     * Storage for relations metadata\n     */\n\n    this.relationsMetadataStorage = inject(RELATIONS_METADATA_STORAGE);\n    /**\n     * Layout components register instance\n     */\n\n    this.layoutComponentsRegister = inject(LayoutComponentsRegister);\n  } //######################### public methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      if (!_this.metadata) {\n        return;\n      }\n\n      (_a = _this.metadata).relationsOptions ?? (_a.relationsOptions = {\n        name: ''\n      });\n      const componentName = yield _this.layoutComponentsRegister.getComponentName(_this.metadata.name);\n\n      if (!componentName) {\n        return;\n      }\n\n      _this.metadata.relationsOptions.name = _this.metadata.name;\n      const relations = (yield _this.relationsMetadataStorage?.getMetadata(componentName)) ?? [];\n      _this.inputsMeta = getInputs(relations);\n      _this.outputsMeta = getOutputs(relations);\n    })();\n  }\n\n}\n\nCustomComponentNodeSAComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵCustomComponentNodeSAComponent_BaseFactory;\n  return function CustomComponentNodeSAComponent_Factory(t) {\n    return (ɵCustomComponentNodeSAComponent_BaseFactory || (ɵCustomComponentNodeSAComponent_BaseFactory = i0.ɵɵgetInheritedFactory(CustomComponentNodeSAComponent)))(t || CustomComponentNodeSAComponent);\n  };\n}();\n\nCustomComponentNodeSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: CustomComponentNodeSAComponent,\n  selectors: [[\"custom-component-node\"]],\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 7,\n  vars: 4,\n  consts: [[\"name\", \"custom\", 3, \"parent\", \"destroySubject\"], [1, \"node-content\"], [1, \"inputs-outputs\"], [1, \"inputs\"], [\"class\", \"input\", 4, \"ngFor\", \"ngForOf\"], [1, \"outputs\"], [\"class\", \"output\", 4, \"ngFor\", \"ngForOf\"], [1, \"input\"], [3, \"parentCoordiantes\", \"zoomLevel\", \"name\", \"parent\"], [1, \"output\"]],\n  template: function CustomComponentNodeSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"relations-node-header\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtemplate(4, CustomComponentNodeSAComponent_div_4_Template, 4, 5, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵtemplate(6, CustomComponentNodeSAComponent_div_6_Template, 4, 5, \"div\", 6);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"parent\", ctx)(\"destroySubject\", ctx.destroySubject);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.inputsMeta == null ? null : ctx.inputsMeta.relationsOptions == null ? null : ctx.inputsMeta.relationsOptions.inputs);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.outputsMeta == null ? null : ctx.outputsMeta.relationsOptions == null ? null : ctx.outputsMeta.relationsOptions.outputs);\n    }\n  },\n  dependencies: [CommonModule, i1.NgForOf, RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent, RelationNodeOutputSAComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CustomComponentNodeSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'custom-component-node',\n      standalone: true,\n      imports: [CommonModule, RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent, RelationNodeOutputSAComponent],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<relations-node-header [parent]=\\\"this\\\" [destroySubject]=\\\"destroySubject\\\" name=\\\"custom\\\"></relations-node-header>\\n\\n<div class=\\\"node-content\\\">\\n    <div class=\\\"inputs-outputs\\\">\\n        <div class=\\\"inputs\\\">\\n            <div class=\\\"input\\\" *ngFor=\\\"let inputMeta of inputsMeta?.relationsOptions?.inputs\\\">\\n                <relation-node-input [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" [name]=\\\"inputMeta.name\\\" [parent]=\\\"this\\\"></relation-node-input>\\n                <div>{{inputMeta.name}}</div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"outputs\\\">\\n            <div class=\\\"output\\\" *ngFor=\\\"let outputMeta of outputsMeta?.relationsOptions?.outputs\\\">\\n                <div>{{outputMeta.name}}</div>\\n                <relation-node-output [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" [name]=\\\"outputMeta.name\\\" [parent]=\\\"this\\\"></relation-node-output>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n    }]\n  }], null, null);\n})();","import { CustomComponentNodeSAComponent } from '../node/customComponentNode.component';\n/**\n * Custom component relations metadata\n */\n\nexport class CustomComponentRelationsEditorMetadata {\n  //######################### constructor #########################\n  constructor() {\n    //######################### public properties - implementation of RelationsEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    this.metaInfo = {\n      group: 'Components'\n    };\n    /**\n     * @inheritdoc\n     */\n\n    this.nodeDefinition = CustomComponentNodeSAComponent;\n    Object.freeze(this);\n  }\n\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","CustomComponentNodeSAComponent_div_4_Template","rf","ctx","inputMeta_r2","$implicit","ctx_r0","nodePosition","zoomLevel","name","CustomComponentNodeSAComponent_div_6_Template","outputMeta_r3","ctx_r1","CustomComponentNodeSAComponent","constructor","super","arguments","this","relationsMetadataStorage","layoutComponentsRegister","initialize","fn","_this","_a","metadata","relationsOptions","componentName","getComponentName","relations","getMetadata","inputsMeta","outputsMeta","self","args","apply","err","undefined","t","type","selectors","standalone","features","decls","vars","consts","template","destroySubject","inputs","outputs","dependencies","encapsulation","changeDetection","CustomComponentRelationsEditorMetadata","metaInfo","group","nodeDefinition","Object","freeze"],"sourceRoot":""}