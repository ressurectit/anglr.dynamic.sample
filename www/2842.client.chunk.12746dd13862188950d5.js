"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[2842],{69738:(e,t,n)=>{n.d(t,{W:()=>i});var o=n(32501);function i(e){return(0,o.R)(e,"layoutEditorDesignerType")}},15523:(e,t,n)=>{n.d(t,{w:()=>i});var o=n(32501);function i(e){return(0,o.R)(e,"layoutEditorMetadata")}},84244:(e,t,n)=>{n.d(t,{V:()=>z});var o=n(14392),i=n(81267),r=n(34987),s=n(10431),a=n(69738),l=n(15523),u=n(74421),c=n(79661),d=n(93533),p=n(91775);function h(e,t,n,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function s(e){h(r,o,i,s,a,"next",e)}function a(e){h(r,o,i,s,a,"throw",e)}s(void 0)}))}}const f=function(){var e=m((function*(){return new((yield n.e(8282).then(n.bind(n,78282))).PlaceholderLayoutEditorMetadata)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=m((function*(){return(yield n.e(7966).then(n.bind(n,47966))).PlaceholderDesignerSAComponent}));return function(){return e.apply(this,arguments)}}();var C=n(39344),v=n(37654),y=n(13341);class P{constructor(e){this.placeholderHandler=e}transform(e){return this.placeholderHandler.getOptions(e)}}P.ɵfac=function(e){return new(e||P)(v.Y(C.E,16))},P.ɵpipe=y.Yj({name:"containerMetadata",type:P,pure:!0,standalone:!0});var w,x=n(46936),M=n(18968),O=n(52900),k=n(94128),E=n(46410),H=n(87859),j=n(28588),D=n(5419);let z=w=class extends r.h{constructor(){super(...arguments),this.placeholderHandler=(0,i.f3)(C.E),this.id=""}setId(e){this.id=e}};z.ɵfac=function(){let e;return function(t){return(e||(e=x.n5(z)))(t||z)}}(),z.ɵcmp=y.Xp({type:z,selectors:[["placeholder"]],standalone:!0,features:[M._([{provide:u.s,useFactory:()=>(0,i.f3)(C.E).relationsComponentManager},{provide:c.N,useFactory:()=>(0,i.f3)(C.E).relationsManager},{provide:d.v,useFactory:()=>(0,i.f3)(C.E).relationsProcessor},{provide:p.H,useFactory:()=>(0,i.f3)(C.E).relationsChangeDetector},{provide:C.E,useFactory:()=>new C.E(w)}]),O.q,k.j],decls:3,vars:3,consts:[[3,"layoutComponentRenderer"]],template:function(e,t){1&e&&(E.yn(0),E.Gk(1,0),H.AL(2,"containerMetadata"),E.BQ()),2&e&&(j.x(1),D.Q("layoutComponentRenderer",H.lc(2,1,t.id)))},dependencies:[s.i,P],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0}),z=w=(0,o.gn)([(0,a.W)(g),(0,l.w)(f)],z)},52842:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i,extensions:()=>r});var o=n(20067);const i=n(84244).V,r=[o.Y]},20067:(e,t,n)=>{n.d(t,{Y:()=>r});var o=n(67793);function i(e,t,n,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,i)}class r extends o.z{onInit(){var e,t=this;return(e=function*(){t.instance&&t.instance.setId(t.metadata.id)},function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))})()}}},39344:(e,t,n)=>{n.d(t,{E:()=>d});var o=n(81267),i=n(97873),r=n(91628),s=n(74421),a=n(93533),l=n(91775),u=n(79661),c=n(12987);class d{get id(){return this.ɵid??(this.ɵid=this.injector.get(this.componentWithIdType).id)}get isCustomComponent(){return!this.ɵisPlaceholder}get isPlaceholder(){return this.ɵisPlaceholder}get nearestCustomComponent(){let e=this;do{if(e.isCustomComponent)return e}while(e=e.parent);return null}get nearestDesignCustomComponent(){let e=this;do{if(e.isCustomComponent&&e.designMode)return e}while(e=e.parent);return null}get parent(){return this.ɵparent}get designMode(){return this.ɵdesignMode??(this.ɵdesignMode=this.ɵisPlaceholder?!!this.injector.get(r.xM,null,{optional:!0}):!!this.injector.get(r.xM,null,{skipSelf:!0,optional:!0}))}get placeholderContainer(){return!(!this.parent||this.parent.isPlaceholder&&this.parent.designMode)}get layoutDesignerComponentTransform(){return this.injector.get(r.xM,null,{skipSelf:!0,optional:!0})??this.findRelatedCustomComponentHandler()?.injector?.get(r.xM,null,{skipSelf:!0,optional:!0})??null}get relationsComponentManager(){return this.getParentCustomComponentHandler()?.injector.get(s.s,void 0,{skipSelf:!0})??null}get relationsProcessor(){return this.getParentCustomComponentHandler()?.injector.get(a.v,void 0,{skipSelf:!0})??null}get relationsChangeDetector(){return this.getParentCustomComponentHandler()?.injector.get(l.H,void 0,{skipSelf:!0})??null}get relationsManager(){return this.getParentCustomComponentHandler()?.injector.get(u.N,void 0,{skipSelf:!0})??null}constructor(e,t){this.componentWithIdType=e,this.customComponent=t,this.ɵparent=(0,o.f3)(d,{optional:!0,skipSelf:!0}),this.injector=(0,o.f3)(i.z),this.logger=(0,o.f3)(c.bZ),this.ɵisPlaceholder=!this.customComponent}getOptions(e){return this.isPlaceholder?this.parent?this.parent.getOptions(e):null:this.isCustomComponent&&this.customComponent?.options?.placeholderContainers?.[e]?this.customComponent.options.placeholderContainers[e]:this.parent?this.parent.getOptions(e):null}initOptions(){var e;const t=this.nearestDesignCustomComponent;if(t?.designMode&&t.customComponent)if(t.customComponent.options){if(!t.customComponent.options.placeholderContainers?.[this.id]){const n=`placeholderContainer-${t.id}-${this.id}`;(e=t.customComponent.options).placeholderContainers??(e.placeholderContainers={}),t.customComponent.options.placeholderContainers[this.id]={id:n,name:"placeholderContainer",package:"custom-components",displayName:n,options:{}}}}else this.logger.error("PlaceholderHandler: missing custom component options!");else this.logger.error("PlaceholderHandler: closes parent custom component should be in editation mode!")}findRelatedCustomComponentHandler(){let e=0,t=0,n=this;if(!n.parent)return null;do{if(n.parent.isCustomComponent&&n.parent.designMode)return e==t?n.parent:null;n.parent.isCustomComponent?t++:e++}while(n=n.parent);return null}getParentCustomComponentHandler(){let e=this;if(!e.parent)throw new Error("PlaceholderHandler: parent must be present to work with relations!");do{if(!e.isPlaceholder&&e.customComponent?.options?.placeholderContainers?.[this.id])return e}while(e=e.parent);return this.logger.error("PlaceholderHandler: unable to find owning custom component for {@id}",this.id),null}}},34987:(e,t,n)=>{n.d(t,{h:()=>m});var o=n(12987),i=n(34955),r=n(55163),s=n(37654),a=n(66382),l=n(47948),u=n(97873),c=n(13341),d=n(92927);function p(e,t,n,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function s(e){p(r,o,i,s,a,"next",e)}function a(e){p(r,o,i,s,a,"throw",e)}s(void 0)}))}}class m{get element(){return this.componentElement}get extensionsOptions(){return this.options}constructor(e,t,n,o){this.changeDetector=e,this.componentElement=t,this.injector=n,this.logger=o,this.extensions=[],this.initialized=!1,this.destroyed=!1}ngOnDestroy(){if(!this.destroyed){this.destroyed=!0;for(const e of this.extensions)e.destroy();this.onDestroy()}}ngOnInit(){var e=this;return h((function*(){if(e.initialized)return;e.initialized=!0;const t=e.extensionsOptions;if(yield e.onInit(),yield e.onOptionsSet(),t)for(const t of e.extensions)yield t.initialize(e.injector,e.element,e);yield e.afterInit()}))()}ngOnChanges(e){var t=this;return h((function*(){if((0,i.$)("options")in e){yield t.onOptionsSet();const e=t.extensionsOptions;if(e)for(const n of t.extensions)yield n.optionsChange(e);if(!t.initialized)return;yield t.onOptionsChange()}delete e[(0,i.$)("options")],(0,r.Qr)(e)||t.onChanges(e)}))()}registerExtensions(e){this.extensions=e}invalidateVisuals(){this.changeDetector.detectChanges()}onInit(){}afterInit(){}onOptionsChange(){}onChanges(e){}onOptionsSet(){}onDestroy(){}}m.ɵfac=function(e){return new(e||m)(s.Y(a.s),s.Y(l.SB),s.Y(u.z),s.Y(o.bZ,8))},m.ɵdir=c.lG({type:m,features:[d.T]})},67793:(e,t,n)=>{function o(e,t,n,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){o(s,i,r,a,l,"next",e)}function l(e){o(s,i,r,a,l,"throw",e)}a(void 0)}))}}n.d(t,{z:()=>r});class r{constructor(e){this.metadata=e,this.initialized=!1}initialize(e,t,n){var o=this;return i((function*(){o.initialized=!0,o.injector=e,o.element=t,o.instance=n,yield o.onInit()}))()}optionsChange(e){var t=this;return i((function*(){t.options=e,t.initialized&&(yield t.onOptionsChange())}))()}destroy(){this.onDestroy()}onInit(){}onOptionsChange(){}onDestroy(){}}}}]);
//# sourceMappingURL=2842.client.chunk.12746dd13862188950d5.js.map