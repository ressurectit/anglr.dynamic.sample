"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[6913],{59757:(t,e,s)=>{s.d(e,{A:()=>i});var n=s(28393);function i(){return function(t,e){const s=e;Object.defineProperty(t,`${s}Change`,{get:function(){return this[`ɵ${s}Change`]||(this[`ɵ${s}Change`]=new n.x),this[`ɵ${s}Change`]}}),Object.defineProperty(t,s,{get:function(){return this[`ɵ${s}`]},set:function(t){this[`ɵ${s}`]=t,this[`${s}Change`].next()}})}}},86913:(t,e,s)=>{s.r(e),s.d(e,{default:()=>b});var n=s(15950),i=s(905),r=s(78923),o=s(44766),a=s(70205),l=s(59757),u=s(44377),h=s(30048),c=s(84432),p=s(61954),f=s(64633),g=s(54285),d=s(8507),m=s(15871);function O(t,e,s,n,i,r,o){try{var a=t[r](o),l=a.value}catch(t){return void s(t)}a.done?e(l):Promise.resolve(l).then(n,i)}const y=function(){var t,e=(t=function*(){return new((yield Promise.all([s.e(213),s.e(3729),s.e(7643)]).then(s.bind(s,37643))).RestRelationsEditorMetadata)},function(){var e=this,s=arguments;return new Promise((function(n,i){var r=t.apply(e,s);function o(t){O(r,n,i,o,a,"next",t)}function a(t){O(r,n,i,o,a,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();let v=class{constructor(t){this.success={test:!0},this.error=null,this.http=t.get(r.e),this.logger=t.get(c.bZ),this.queryStringSerializer=t.get(p.C)}get relationsOptions(){return this.ɵRelationsOptions}set relationsOptions(t){this.ɵRelationsOptions=t,this.initialize()}ngOnChanges(t){this.makeRequest()}invalidateVisuals(){}initialize(){if(this.relationsOptions&&this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const t of this.relationsOptions.params)t.configurable&&t.name&&Object.defineProperty(this,t.name,{configurable:!0,enumerable:!0,set:e=>t.value=e});this.relationsOptions?.runImmediately&&this.makeRequest()}makeRequest(){if(!this.relationsOptions||!this.relationsOptions.method||!this.relationsOptions.url)return void this.logger.warn("RestRelations: missing options for craeting http request {@data}",this.relationsOptions);let t=null,e=this.relationsOptions.url;const s={},n={},i=[];if(this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const r of this.relationsOptions.params){if(!r.name)continue;const o={index:0,key:r.name,value:r.value,transformFn:null};switch(r.type){case"PATH":e=(0,f.t6)(o,e);break;case"BODY":t=r.value;break;case"QUERY":(0,f.F6)(o,s);break;case"QUERY OBJECT":(0,f.Td)(o,i,this.queryStringSerializer);break;case"HEADER":(0,f.qk)(o,n)}}let r=new o.a(this.relationsOptions.method,e,t,{reportProgress:!1,responseType:"json"});if((0,g.Qr)(s)||(r=r.clone({setParams:s})),(0,g.Qr)(n)||(r=r.clone({setHeaders:n})),i.length){const t=(0,f.Ex)(i,r.params);r=r.clone({params:t})}this.http.request(r).pipe((0,d.K)((t=>(this.success=null,this.error=t,m.E)))).subscribe((t=>{if(t.type==a.dt.Response&&t.status>=200&&t.status<=300)return this.success=t.body,void(this.error=null)}))}};(0,n.gn)([(0,l.A)(),(0,n.w6)("design:type",Object)],v.prototype,"success",void 0),(0,n.gn)([(0,l.A)(),(0,n.w6)("design:type",Object)],v.prototype,"error",void 0),v=(0,n.gn)([(0,u.H)(),(0,h.i)(y),(0,n.w6)("design:paramtypes",[i.z])],v);const b=v}}]);
//# sourceMappingURL=6913.client.chunk.b0f74575981effe5526f.js.map