"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9700],{49700:(t,e,a)=>{a.r(e),a.d(e,{DynamicContentModule:()=>it});var s=a(15950),n=a(18713),r=a(34307),i=a(37921),o=a(41803),d=a(44922),c=a(57563),h=a(52786),u=a(11749),g=a(51871),l=a(82483),p=a(38048),_=a(43718),m=a(74499),f=a(37611),y=a(94864),v=a(83963),C=a(35355),Y=a(30361),w=a(48567),O=a(69147),M=a(703),D=a(84432),T=a(28393),x=a(17305),E=a(10515);const A="CUSTOM_COMPONENTS";class b extends w.t{constructor(t){super(),this._store=t,this._registeredChange=new T.x}get registeredChange(){return this._registeredChange.asObservable()}toggleRegisteredComponent(t){const e=this.getRegisteredComponents(),a=e.indexOf(t);a>=0?e.splice(a,1):e.push(t),this._store.set(A,e),this._registeredChange.next()}getRegisteredComponents(){return this._store.get(A)??[]}}b.ɵfac=function(t){return new(t||b)(x.LF(D.T0))},b.ɵprov=E.Yz({token:b,factory:b.ɵfac});class N extends g.L{constructor(){super("LAYOUT_PACKAGES_STORE")}}N.ɵfac=function(t){return new(t||N)},N.ɵprov=E.Yz({token:N,factory:N.ɵfac});var R=a(77544),z=a(40727),U=a(56274),L=a(12900),S=a(89285),k=a(90090),I=a(67550),Q=a(58138),P=a(5617),q=a(436),j=a(95770);let F=class{constructor(t,e,a,s){this._route=t,this._store=e,this._metaManager=a,this.history=s,this._id="",this.metadata=this.emptyMetadata}get emptyMetadata(){return{id:`stackPanel-${(0,O.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}ngOnInit(){this._route.params.subscribe((({id:t})=>{this._id=t,this.metadata=this._store.getData(this._id)?.layout??this.emptyMetadata}))}save(){const t=this._store.getData(this._id)??{};t.layout=this._metaManager.getMetadata()??void 0,this._store.setData(this._id,t)}};F.ɵfac=function(t){return new(t||F)(U.Y(i.gz),U.Y(M.U),U.Y(c.Qh),U.Y(_.dB))},F.ɵcmp=L.Xp({type:F,selectors:[["layout-editor-view"]],features:[S._([h.z,{provide:p.qO,useFactory:t=>new u.I((e=>t.getData(e)?.layout??null)),deps:[M.U]},(0,m._)(),(0,f.iS)(),(0,y.vQ)(),(0,v.gJ)(),(0,C.hd)(),(0,z.jS)(),(0,Y.Wh)([],b),{provide:g.L,useClass:N},{provide:b,useExisting:w.t},{provide:_.dK,useFactory:t=>t.registeredChange,deps:[b],multi:!0},(0,R.Y)("DYNAMIC_CONTENT_DATA")])],decls:2,vars:3,consts:[[3,"metadata","history","metadataChange","save"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(k.Tg(0,"editor-controls",0),I.N("metadataChange",(function(t){return e.metadata=t}))("save",(function(){return e.save()})),k.qZ(),k._U(1,"layout-editor",1)),2&t&&(Q.Q("metadata",e.metadata)("history",e.history),P.x(1),Q.Q("metadata",e.metadata))},dependencies:[q.Z,j.w],styles:["[_nghost-%COMP%]{padding:0}"],changeDetection:0}),F=(0,s.gn)([(0,o.n)({path:"layout/:id"}),(0,d.q)("layoutEditor-page"),(0,s.w6)("design:paramtypes",[i.gz,M.U,Object,l.Y])],F);var K=a(23597),Z=a(16056),G=a(79745),X=a(76340);class J extends g.L{constructor(){super("RELATIONS_PACKAGES_STORE")}}J.ɵfac=function(t){return new(t||J)},J.ɵprov=E.Yz({token:J,factory:J.ɵfac});var W=a(58463),B=a(11213),V=a(82272),$=a(35767);class H extends W.w{getDefinedTypes(){const t={};return t[B.default.relationsId]=B.default,t[V.default.relationsId]=V.default,t}}H.ɵfac=function(){let t;return function(e){return(t||(t=$.n5(H)))(e||H)}}(),H.ɵprov=E.Yz({token:H,factory:H.ɵfac});var tt=a(24374);let et=class{constructor(t,e,a,s,n){this._route=t,this._store=e,this._metaManager=a,this.layoutManager=s,this.history=n,this._id="",this.metadata=[]}ngOnInit(){this._route.params.subscribe((({id:t})=>{this._id=t;const e=this._store.getData(this._id);this.metadata=e?.relations??[],e?.layout&&this.layoutManager.setLayout(e?.layout)}))}save(){const t=this._store.getData(this._id)??{};t.relations=this._metaManager.getMetadata()??void 0,this._store.setData(this._id,t)}};et.ɵfac=function(t){return new(t||et)(U.Y(i.gz),U.Y(M.U),U.Y(c.Qh),U.Y(X.n),U.Y(Z.nR))},et.ɵcmp=L.Xp({type:et,selectors:[["relations-editor-view"]],features:[S._([h.z,{provide:K.te,useFactory:t=>new u.I((e=>t.getData(e)?.relations??[])),deps:[M.U]},(0,C.vu)(),(0,G.xb)(),(0,v.Rn)(),(0,y.El)(),(0,z.Mr)(),(0,Y.Kc)((0,Y.Sf)(H),b),{provide:g.L,useClass:J},(0,R.Y)("DYNAMIC_CONTENT_DATA")])],decls:2,vars:3,consts:[[3,"metadata","history","metadataChange","save"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(k.Tg(0,"editor-controls",0),I.N("metadataChange",(function(t){return e.metadata=t}))("save",(function(){return e.save()})),k.qZ(),k._U(1,"relations-editor",1)),2&t&&(Q.Q("metadata",e.metadata)("history",e.history),P.x(1),Q.Q("metadata",e.metadata))},dependencies:[tt.Y,j.w],styles:["[_nghost-%COMP%]{padding:0}"],changeDetection:0}),et=(0,s.gn)([(0,o.n)({path:"relations/:id"}),(0,d.q)("relationsEditor-page"),(0,s.w6)("design:paramtypes",[i.gz,M.U,Object,X.n,l.Y])],et);var at=a(73573);let st=class{constructor(t,e,a,s){this._route=t,this._store=e,this._metaManager=a,this.history=s,this._id="",this.metadata=[]}ngOnInit(){this._route.params.subscribe((({id:t})=>{this._id=t,this.metadata=this._store.getData(this._id)??[]}))}save(){const t=this._metaManager.getMetadata();t&&this._store.setData(this._id,t)}};st.ɵfac=function(t){return new(t||st)(U.Y(i.gz),U.Y(M.U),U.Y(c.Qh),U.Y(Z.nR))},st.ɵcmp=L.Xp({type:st,selectors:[["resolver-relations-editor-view"]],features:[S._([h.z,(0,C.wr)(),(0,G.Gc)(),(0,v.eh)(),(0,z.Lr)(),(0,at.hE)(H),{provide:g.L,useClass:J},(0,R.Y)("RESOLVER_RELATIONS_DATA")])],decls:2,vars:3,consts:[[3,"metadata","history","metadataChange","save"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(k.Tg(0,"editor-controls",0),I.N("metadataChange",(function(t){return e.metadata=t}))("save",(function(){return e.save()})),k.qZ(),k._U(1,"relations-editor",1)),2&t&&(Q.Q("metadata",e.metadata)("history",e.history),P.x(1),Q.Q("metadata",e.metadata))},dependencies:[tt.Y,j.w],styles:["[_nghost-%COMP%]{padding:0}"],changeDetection:0}),st=(0,s.gn)([(0,o.n)({path:"resolverRelations/:id"}),(0,d.q)("resolverRelationsEditor-page"),(0,s.w6)("design:paramtypes",[i.gz,M.U,Object,l.Y])],st);const nt=[F,et,st];var rt=a(4190);let it=class{};it.ɵfac=function(t){return new(t||it)},it.ɵmod=L.oA({type:it}),it.ɵinj=E.cJ({imports:[r.W,rt.wx]}),it=(0,s.gn)([(0,n.P)(nt)],it)}}]);
//# sourceMappingURL=9700.client.chunk.6c06cccec71535e586d6.js.map