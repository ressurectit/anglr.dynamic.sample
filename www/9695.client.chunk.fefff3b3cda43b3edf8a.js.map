{"version":3,"file":"9695.client.chunk.fefff3b3cda43b3edf8a.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-relations/src/components/configureNodeEndpoint/configureNodeEndpoint.model.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-relations/src/components/configureNodeEndpoint/configureNodeEndpoint.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-relations/src/dynamicItems/componentOutputs/node/componentOutputsNode.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-relations/src/dynamicItems/componentOutputs/metadata/componentOutputs.relationsMetadata.js"],"sourcesContent":["import { mapValuesToThis } from '@jscrpt/common';\n/**\n * Component endopoint model\n */\n\nexport class ComponentEndpointModel {\n  //######################### constructor #########################\n  constructor(value) {\n    //######################### public properties #########################\n\n    /**\n     * @inheritdoc\n     */\n    this.defaultValue = null;\n    /**\n     * @inheritdoc\n     */\n\n    this.name = '';\n    mapValuesToThis.bind(this)(value);\n  }\n\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { Component, ChangeDetectionStrategy, Inject } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { TitledDialogService, TITLED_DIALOG_DATA } from '@anglr/common/material';\nimport { FormModelBuilder } from '@anglr/common/forms';\nimport { CodeEditorDialogComponent, getJson, JsonLanguageModel } from '@anglr/dynamic';\nimport { extend, isPresent } from '@jscrpt/common';\nimport { lastValueFrom } from 'rxjs';\nimport { ComponentEndpointModel } from './configureNodeEndpoint.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@anglr/common/material\";\nimport * as i2 from \"@anglr/common/forms\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/dialog\";\n/**\n * Component used for configuring node endpoint\n */\n\nexport class ConfigureNodeEndpointSAComponent {\n  //######################### constructor #########################\n  constructor(data, dialog, formModelBuilder) {\n    this.data = data;\n    this.dialog = dialog;\n    this.form = formModelBuilder.build(new ComponentEndpointModel(data));\n    this.form.valueChanges.subscribe(value => extend(data, value));\n  } //######################### protected methods - template bindings #########################\n\n  /**\n   * Shows code editor\n   */\n\n\n  showCodeEditor() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const content = isPresent(_this.data.defaultValue) ? JSON.stringify(_this.data.defaultValue, null, 4) : '';\n      const result = yield lastValueFrom(_this.dialog.open(CodeEditorDialogComponent, {\n        title: 'Code editor',\n        width: '75vw',\n        height: '75vh',\n        data: {\n          content,\n          languageModel: JsonLanguageModel\n        }\n      }).afterClosed());\n\n      if (isPresent(result)) {\n        _this.data.defaultValue = getJson(result.content);\n      }\n    })();\n  }\n\n}\n\nConfigureNodeEndpointSAComponent.ɵfac = function ConfigureNodeEndpointSAComponent_Factory(t) {\n  return new (t || ConfigureNodeEndpointSAComponent)(i0.ɵɵdirectiveInject(TITLED_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.TitledDialogService), i0.ɵɵdirectiveInject(i2.FormModelBuilder));\n};\n\nConfigureNodeEndpointSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ConfigureNodeEndpointSAComponent,\n  selectors: [[\"configure-node-endpoint\"]],\n  standalone: true,\n  features: [i0.ɵɵProvidersFeature([FormModelBuilder]), i0.ɵɵStandaloneFeature],\n  decls: 16,\n  vars: 3,\n  consts: [[3, \"formGroup\"], [1, \"dynamic-form-group\", \"dynamic-margin-bottom-extra-small\"], [1, \"dynamic-control-label\", \"dynamic-text-uppercase\"], [\"type\", \"text\", \"formControlName\", \"name\", 1, \"dynamic-form-control\"], [1, \"dynamic-flex-column\"], [\"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-primary\", \"dynamic-align-self-center\", 3, \"click\"], [1, \"dynamic-flex-row\", \"dynamic-flex-end\"], [\"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-info\", \"dynamic-margin-right-extra-small\", 3, \"mat-dialog-close\"], [\"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-primary\", 3, \"mat-dialog-close\"]],\n  template: function ConfigureNodeEndpointSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n      i0.ɵɵtext(3, \"name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function ConfigureNodeEndpointSAComponent_Template_button_click_6_listener() {\n        return ctx.showCodeEditor();\n      });\n      i0.ɵɵelementStart(7, \"span\");\n      i0.ɵɵtext(8, \"default value\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"button\", 7)(11, \"span\");\n      i0.ɵɵtext(12, \"cancel\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 8)(14, \"span\");\n      i0.ɵɵtext(15, \"ok\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"mat-dialog-close\", null);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"mat-dialog-close\", true);\n    }\n  },\n  dependencies: [ReactiveFormsModule, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, MatDialogModule, i4.MatDialogClose],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ConfigureNodeEndpointSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'configure-node-endpoint',\n      standalone: true,\n      imports: [ReactiveFormsModule, MatDialogModule],\n      providers: [FormModelBuilder],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<div [formGroup]=\\\"form\\\">\\n    <div class=\\\"dynamic-form-group dynamic-margin-bottom-extra-small\\\">\\n        <label class=\\\"dynamic-control-label dynamic-text-uppercase\\\">name</label>\\n        <input type=\\\"text\\\" class=\\\"dynamic-form-control\\\" formControlName=\\\"name\\\">\\n    </div>\\n\\n    <div class=\\\"dynamic-flex-column\\\">\\n        <button type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-primary dynamic-align-self-center\\\" (click)=\\\"showCodeEditor()\\\">\\n            <span>default value</span>\\n        </button>\\n    </div>\\n</div>\\n\\n<div class=\\\"dynamic-flex-row dynamic-flex-end\\\">\\n    <button type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-info dynamic-margin-right-extra-small\\\" [mat-dialog-close]=\\\"null\\\">\\n        <span>cancel</span>\\n    </button>\\n\\n    <button type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-primary\\\" [mat-dialog-close]=\\\"true\\\">\\n        <span>ok</span>\\n    </button>\\n</div>\"\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [TITLED_DIALOG_DATA]\n      }]\n    }, {\n      type: i1.TitledDialogService\n    }, {\n      type: i2.FormModelBuilder\n    }];\n  }, null);\n})();","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RelationsNodeBase, RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent } from '@anglr/dynamic/relations-editor';\nimport { TitledDialogService } from '@anglr/common/material';\nimport { extend } from '@jscrpt/common';\nimport { lastValueFrom } from 'rxjs';\nimport { ConfigureNodeEndpointSAComponent } from '../../../components';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@anglr/common/material\";\nimport * as i2 from \"@angular/common\";\n/**\n * Relations node component for component outputs\n */\n\nfunction ComponentOutputsNodeSAComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"relation-node-input\", 10);\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ComponentOutputsNodeSAComponent_div_4_Template_button_click_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const endpoint_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      $event.preventDefault();\n      $event.stopPropagation();\n      return i0.ɵɵresetView(ctx_r2.configureEndpoint(endpoint_r1));\n    });\n    i0.ɵɵelement(6, \"span\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ComponentOutputsNodeSAComponent_div_4_Template_button_click_7_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const endpoint_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      $event.preventDefault();\n      $event.stopPropagation();\n      return i0.ɵɵresetView(ctx_r4.removeEndpoint(endpoint_r1));\n    });\n    i0.ɵɵelement(8, \"span\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const endpoint_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"parentCoordiantes\", ctx_r0.nodePosition)(\"zoomLevel\", ctx_r0.zoomLevel)(\"name\", endpoint_r1.name)(\"parent\", ctx_r0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(endpoint_r1.name);\n  }\n}\n\nexport class ComponentOutputsNodeSAComponent extends RelationsNodeBase {\n  //######################### constructor #########################\n  constructor(changeDetector, element, dialog) {\n    super(changeDetector, element);\n    this.dialog = dialog;\n  } //######################### protected properties - template bindings #########################\n\n  /**\n   * Gets component outputs\n   */\n\n\n  get endpoints() {\n    var _a, _b;\n\n    if (!this.metadata) {\n      return [];\n    }\n\n    (_a = this.metadata).relationsOptions ?? (_a.relationsOptions = {\n      outputs: []\n    });\n    return (_b = this.metadata.relationsOptions).outputs ?? (_b.outputs = []);\n  } //######################### protected methods - template bindings #########################\n\n  /**\n   * Adds new output endpoint\n   */\n\n\n  addEndpoint() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const param = {\n        name: '',\n        defaultValue: null\n      };\n\n      if (yield _this.configureEndpoint(param)) {\n        _this.endpoints.push(param);\n\n        _this.history.getNewState();\n      }\n    })();\n  }\n  /**\n   * Removes endpoint\n   * @param endpoint - Endpoint to be removed\n   */\n\n\n  removeEndpoint(endpoint) {\n    const index = this.endpoints.indexOf(endpoint);\n\n    if (index >= 0) {\n      this.endpoints.splice(index, 1);\n      this.history.getNewState();\n    }\n  }\n  /**\n   * Configures endpoint\n   * @param endpoint - Endpoint to be configured\n   */\n\n\n  configureEndpoint(endpoint) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const original = JSON.parse(JSON.stringify(endpoint));\n      const result = yield lastValueFrom(_this2.dialog.open(ConfigureNodeEndpointSAComponent, {\n        title: 'configure component output',\n        width: '60vw',\n        data: endpoint\n      }).afterClosed());\n\n      if (!result) {\n        extend(endpoint, original);\n      } else {\n        _this2.history.getNewState();\n      }\n\n      return result ?? false;\n    })();\n  }\n\n}\n\nComponentOutputsNodeSAComponent.ɵfac = function ComponentOutputsNodeSAComponent_Factory(t) {\n  return new (t || ComponentOutputsNodeSAComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.TitledDialogService));\n};\n\nComponentOutputsNodeSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ComponentOutputsNodeSAComponent,\n  selectors: [[\"component-outputs-node\"]],\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 9,\n  vars: 3,\n  consts: [[\"name\", \"component inputs\", 3, \"parent\", \"destroySubject\"], [1, \"node-content\"], [1, \"inputs-outputs\"], [1, \"inputs\"], [\"class\", \"input\", 4, \"ngFor\", \"ngForOf\"], [1, \"dynamic-flex-row\"], [\"type\", \"button\", 1, \"dynamic-btn-icon\", \"dynamic-margin-left-extra-small\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"outputs\"], [1, \"input\"], [3, \"parentCoordiantes\", \"zoomLevel\", \"name\", \"parent\"], [\"type\", \"button\", 1, \"dynamic-btn-icon\", \"dynamic-margin-horizontal-extra-small\", 3, \"click\"], [1, \"fas\", \"fa-cog\"], [\"type\", \"button\", 1, \"dynamic-btn-icon\", 3, \"click\"], [1, \"fas\", \"fa-times\"]],\n  template: function ComponentOutputsNodeSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"relations-node-header\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtemplate(4, ComponentOutputsNodeSAComponent_div_4_Template, 9, 5, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ComponentOutputsNodeSAComponent_Template_button_click_6_listener($event) {\n        $event.preventDefault();\n        $event.stopPropagation();\n        return ctx.addEndpoint();\n      });\n      i0.ɵɵelement(7, \"span\", 7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(8, \"div\", 8);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"parent\", ctx)(\"destroySubject\", ctx.destroySubject);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.endpoints);\n    }\n  },\n  dependencies: [CommonModule, i2.NgForOf, RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ComponentOutputsNodeSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'component-outputs-node',\n      standalone: true,\n      imports: [CommonModule, RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<relations-node-header [parent]=\\\"this\\\" [destroySubject]=\\\"destroySubject\\\" name=\\\"component inputs\\\"></relations-node-header>\\n\\n<div class=\\\"node-content\\\">\\n    <div class=\\\"inputs-outputs\\\">\\n        <div class=\\\"inputs\\\">\\n            <div class=\\\"input\\\" *ngFor=\\\"let endpoint of endpoints\\\">\\n                <relation-node-input [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" [name]=\\\"endpoint.name\\\" [parent]=\\\"this\\\"></relation-node-input>\\n\\n                <div class=\\\"dynamic-flex-row\\\">\\n                    <div>{{endpoint.name}}</div>\\n\\n                    <button type=\\\"button\\\" class=\\\"dynamic-btn-icon dynamic-margin-horizontal-extra-small\\\" (click)=\\\"$event.preventDefault(); $event.stopPropagation(); configureEndpoint(endpoint)\\\">\\n                        <span class=\\\"fas fa-cog\\\"></span>\\n                    </button>\\n\\n                    <button type=\\\"button\\\" class=\\\"dynamic-btn-icon\\\" (click)=\\\"$event.preventDefault(); $event.stopPropagation(); removeEndpoint(endpoint)\\\">\\n                        <span class=\\\"fas fa-times\\\"></span>\\n                    </button>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"dynamic-flex-row\\\">\\n                <button type=\\\"button\\\" class=\\\"dynamic-btn-icon dynamic-margin-left-extra-small\\\" (click)=\\\"$event.preventDefault(); $event.stopPropagation(); addEndpoint()\\\">\\n                    <span class=\\\"fas fa-plus\\\"></span>\\n                </button>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"outputs\\\">\\n        </div>\\n    </div>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i1.TitledDialogService\n    }];\n  }, null);\n})();","import { ComponentOutputsNodeSAComponent } from '../node/componentOutputsNode.component';\n/**\n * Component outputs relations metadata\n */\n\nexport class ComponentOutputsRelationsEditorMetadata {\n  //######################### constructor #########################\n  constructor() {\n    //######################### public properties - implementation of RelationsEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    this.metaInfo = {\n      name: 'Component outputs',\n      description: 'Definition of relations component outputs',\n      group: 'Component'\n    };\n    /**\n     * @inheritdoc\n     */\n\n    this.nodeDefinition = ComponentOutputsNodeSAComponent;\n    Object.freeze(this);\n  }\n\n}"],"names":["ComponentEndpointModel","constructor","value","this","defaultValue","name","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","ConfigureNodeEndpointSAComponent","data","dialog","formModelBuilder","form","build","valueChanges","subscribe","showCodeEditor","fn","_this","content","JSON","stringify","result","lastValueFrom","open","title","width","height","languageModel","afterClosed","self","args","arguments","apply","err","undefined","t","type","selectors","standalone","features","decls","vars","consts","template","rf","ctx","dependencies","encapsulation","changeDetection","_asyncToGenerator","ComponentOutputsNodeSAComponent_div_4_Template","_r3","$event","endpoint_r1","$implicit","ctx_r2","preventDefault","stopPropagation","configureEndpoint","ctx_r4","removeEndpoint","ctx_r0","nodePosition","zoomLevel","ComponentOutputsNodeSAComponent","changeDetector","element","super","endpoints","_a","_b","metadata","relationsOptions","outputs","addEndpoint","param","push","history","getNewState","endpoint","index","indexOf","splice","_this2","original","parse","destroySubject","ComponentOutputsRelationsEditorMetadata","metaInfo","description","group","nodeDefinition","Object","freeze"],"sourceRoot":""}