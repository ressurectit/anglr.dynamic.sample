"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3232],{33232:(t,e,n)=>{n.r(e),n.d(e,{RoutedContentModule:()=>W});var i=n(15950),o=n(18713),r=n(3632),a=n(41803),s=n(44922),c=n(43705),u=n(69147),l=n(46140),f=n(56274),d=n(12900),p=n(89285),m=n(90090),v=n(38662),h=n(67550),g=n(5617),y=n(58138),_=n(93527),b=n(52548),w=n(36564),O=n(86917),k=n(22369),x=n(53829);function C(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}let q=class{constructor(t,e,n){this._dynamicRoutes=e,this._location=n,this.form=t.build(new l.M(null))}save(){var t,e=this;return(t=function*(){const t=e.form.value;t.template||(t.template=(0,u.Ox)(12)),e._dynamicRoutes.addRoute(t),e._location.back()},function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){C(r,i,o,a,s,"next",t)}function s(t){C(r,i,o,a,s,"throw",t)}a(void 0)}))})()}};q.ɵfac=function(t){return new(t||q)(f.Y(c.p),f.Y(l.C),f.Y(r.Y))},q.ɵcmp=d.Xp({type:q,selectors:[["dynamic-route-view"]],features:[p._([c.p])],decls:29,vars:1,consts:[[1,"flex-row"],[1,"flex-1"],[1,"flex-2"],[3,"formGroup"],[1,"margin-top-medium"],[1,"form-group"],[1,"control-label"],["formControlName","module",1,"form-control"],["formControlName","path",1,"form-control"],["formControlName","permission",1,"form-control"],["type","checkbox","formControlName","withResolver",1,"form-control"],[1,"flex-row","flex-end"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fas","fa-save"]],template:function(t,e){1&t&&(m.Tg(0,"div",0),m._U(1,"div",1),m.Tg(2,"div",2)(3,"div"),v._(4,"Dynamic route detail"),m.qZ(),m.Tg(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),v._(9,"module"),m.qZ(),m._U(10,"input",7),m.qZ(),m.Tg(11,"div",5)(12,"label",6),v._(13,"path"),m.qZ(),m._U(14,"input",8),m.qZ(),m.Tg(15,"div",5)(16,"label",6),v._(17,"permission"),m.qZ(),m._U(18,"input",9),m.qZ(),m.Tg(19,"div",5)(20,"label",6),v._(21,"use resolver "),m._U(22,"input",10),m.qZ()()(),m.Tg(23,"div",11)(24,"button",12),h.N("click",(function(){return e.save()})),m._U(25,"span",13),m.Tg(26,"span"),v._(27,"save"),m.qZ()()()()(),m._U(28,"div",1),m.qZ()),2&t&&(g.x(5),y.Q("formGroup",e.form))},dependencies:[_._,b.Fj,w.W,O.JJ,O.JL,k.s,x.u],encapsulation:2,changeDetection:0}),q=(0,i.gn)([(0,a.n)({path:"new"}),(0,s.q)("dynamicRouteDetail-page"),(0,i.w6)("design:paramtypes",[c.p,l.C,r.Y])],q);var A=n(6723),T=n(74220),P=n(92578),R=n(14151),S=n(59656),Z=n(4028),V=n(91742),F=n(40486),N=n(8878),U=n(17868),I=n(77177),L=n(63278),Y=n(19318),j=n(77072),z=n(64153);function D(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}const Q=["grid"],G=function(t){return["../resolverRelations",t]};function J(t,e){if(1&t&&(m.Tg(0,"a",14),m._U(1,"span",15),m.qZ()),2&t){const t=R.o().$implicit;y.Q("routerLink",S.VK(1,G,t.resolverRelations))}}function M(t,e){if(1&t){const t=Z.E();m.Tg(0,"a",11),h.N("click",(function(){const e=V.CH(t).$implicit,n=R.o();return V.Kt(n.remove(e))})),m._U(1,"span",12),m.qZ(),F.Y(2,J,2,3,"a",13)}if(2&t){const t=e.$implicit;g.x(2),y.Q("ngIf",t.withResolver)}}let $=class{constructor(t){this._dynamicRoutesSvc=t,this.gridOptions={autoInitialize:!0,plugins:{dataLoader:{type:A.x,options:{data:this._dynamicRoutesSvc.routes}},paging:{type:T.f}}}}remove(t){var e,n=this;return(e=function*(){yield n._dynamicRoutesSvc.remove(t),n.grid?.execute((0,P.g)(n._dynamicRoutesSvc.routes,!0))},function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(t){D(r,i,o,a,s,"next",t)}function s(t){D(r,i,o,a,s,"throw",t)}a(void 0)}))})()}};$.ɵfac=function(t){return new(t||$)(f.Y(l.C))},$.ɵcmp=d.Xp({type:$,selectors:[["dynamic-routes"]],viewQuery:function(t,e){if(1&t&&N.Gf(Q,5),2&t){let t;N.iG(t=N.CR())&&(e.grid=t.first)}},decls:17,vars:2,consts:[[1,"flex-row","flex-end","margin-bottom-small"],["type","button","routerLink","../new",1,"btn","btn-primary"],[1,"fas","fa-plus"],[3,"gridOptions"],["grid",""],["id","module","name","module","title","Module"],["id","path","name","path","title","Path"],["id","permission","name","permission","title","Permission"],["id","template","name","template","title","Template"],["id","remove","title","remove",3,"titleVisible"],["bodyTemplate",""],[1,"btn-icon",3,"click"],[1,"fas","fa-trash"],["class","btn-icon margin-left-small",3,"routerLink",4,"ngIf"],[1,"btn-icon","margin-left-small",3,"routerLink"],[1,"fas","fa-pen"]],template:function(t,e){1&t&&(m.Tg(0,"div"),v._(1,"Dynamic routes"),m.qZ(),m.Tg(2,"div",0)(3,"button",1),m._U(4,"span",2),m.Tg(5,"span"),v._(6,"add"),m.qZ()()(),m.Tg(7,"ng-grid",3,4)(9,"basic-table-metadata"),m._U(10,"basic-table-column",5)(11,"basic-table-column",6)(12,"basic-table-column",7)(13,"basic-table-column",8),m.Tg(14,"basic-table-column",9),F.Y(15,M,3,1,"ng-template",null,10,U.W),m.qZ()()()),2&t&&(g.x(7),y.Q("gridOptions",e.gridOptions),g.x(7),y.Q("titleVisible",!1))},dependencies:[I.O,L.r,L.y,Y.M,j.I,z.U],encapsulation:2,changeDetection:0}),$=(0,i.gn)([(0,a.n)({path:"dynamicRoutes"}),(0,s.q)("dynamicRoutes-page"),(0,i.w6)("design:paramtypes",[l.C])],$);const E=[$,q];var H=n(4571),K=n(10515);let W=class{};W.ɵfac=function(t){return new(t||W)},W.ɵmod=d.oA({type:W}),W.ɵinj=K.cJ({imports:[H._J,H.No,H.OZ]}),W=(0,i.gn)([(0,o.P)(E)],W)},44922:(t,e,n)=>{n.d(e,{q:()=>o});var i=n(54285);function o(t,e){return function(n){let o;o=(0,i.HD)(t)||Array.isArray(t)?{permission:t}:t;const r=n;return(0,i.fp)(e)?r.permissions=o:(r.routeSpecificPermissions??(r.routeSpecificPermissions={}),r.routeSpecificPermissions[e]=o),n}}},41803:(t,e,n)=>{n.d(e,{n:()=>v});var i=n(41732),o=n(34746),r=n(54285),a=n(69147),s=n(88743),c=n(17305),u=n(905),l=n(10515),f=n(94539),d=n(47806);function p(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}class m{constructor(t,e,n){this._authSvc=t,this._injector=e,this._router=n}canActivate(t){var e,n=this;return(e=function*(){const e=t.component;let i;if(t.routeConfig?.path&&e.routeSpecificPermissions?.[t.routeConfig.path]?i=e.routeSpecificPermissions[t.routeConfig.path]:e.permissions&&(i=e.permissions),!i)return!0;let c=!0;i.addCondition&&(c=yield i.addCondition(n._injector));const u=n._authSvc.userIdentity;if((0,r.fp)(u))throw new Error("AuthenticationService must be initialized before first use of AuthGuard");const l=(0,s.g)(u.permissions,i.permission,i.andCondition??!1,i.conditionString??!1,c),f=new o.uV((0,a.s6)(t.pathFromRoot.map((t=>t.url))),{}),d=new o.lo;d.root=f,d.queryParams={};const p=n._router.serializeUrl(d);return!l&&u.isAuthenticated?(n._authSvc.showAccessDenied(),!1):!!(l||u.isAuthenticated||n._authSvc.isAuthPage(p))||(n._authSvc.showAuthPage(),!1)},function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(t){p(r,i,o,a,s,"next",t)}function s(t){p(r,i,o,a,s,"throw",t)}a(void 0)}))})()}}function v(t){return t.canActivate??(t.canActivate=[]),t.canActivate.indexOf(m)<0&&t.canActivate.push(m),(0,i.N)(t)}m.ɵfac=function(t){return new(t||m)(c.LF(f.$),c.LF(u.z),c.LF(d.F0))},m.ɵprov=l.Yz({token:m,factory:m.ɵfac,providedIn:"root"})},82220:(t,e,n)=>{n.d(e,{x:()=>o});var i=n(87601);const o={asyncValidators:[],validators:[],disabled:!1,type:i.NI,childType:i.NI,args:{}}},43705:(t,e,n)=>{n.d(e,{p:()=>m});var i=n(11455),o=n(17894),r=n(87601),a=n(82220);class s{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}class c{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}function u(t,e){if(!t)return new i.cw({});const n=t.ɵControlsMetadata??{},l=t.ɵValidators??[],f=t.ɵAsyncValidators??[],d=t.ɵArgs??{},p=Object.keys(t),m=new i.cw({},{validators:l?.map((t=>t instanceof s?t.valueOf()({...d,...e}):t)).filter((t=>!!t)),asyncValidators:f?.map((t=>t instanceof c?t.valueOf()({...d,...e}):t)).filter((t=>!!t))});for(const l of p){const f=n[l]??a.x,d=t[l];if(void 0===d)continue;const p=f.validators.map((t=>t instanceof s?t.valueOf()({...f.args,...e}):t)).filter((t=>!!t)),v=f.asyncValidators.map((t=>t instanceof c?t.valueOf()({...f.args,...e}):t)).filter((t=>!!t));let h;switch(f.type){case i.cw:h=u(d,e);break;case o.Oe:if(h=new o.Oe([],{validators:p,asyncValidators:v,...f.controlOptions}),d&&Array.isArray(d)){const t=h;for(const n of d)switch(f.childType){case i.cw:t.push(u(n,e));break;case o.Oe:break;default:t.push(new r.NI(n,{validators:p,asyncValidators:v,...f.controlOptions}))}}break;default:h=new r.NI(d,{validators:p,asyncValidators:v,...f.controlOptions})}f.disabled&&h.disable(),m.addControl(l,h)}return m}function l(t,e){return u(t,e)}var f=n(17305),d=n(905),p=n(10515);class m{constructor(t){this._injector=t}build(t,e){return l(t,{...e,injector:this._injector})}}m.ɵfac=function(t){return new(t||m)(f.LF(d.z))},m.ɵprov=p.Yz({token:m,factory:m.ɵfac})},41732:(t,e,n)=>{n.d(e,{N:()=>o});var i=n(54285);function o(t){return function(e){const n=t;n.component=e;const o=e;return(0,i.fp)(o.routeValues)&&Object.defineProperty(e,"routeValues",{enumerable:!0,configurable:!1,writable:!1,value:[]}),o.routeValues.push(n),e}}}}]);
//# sourceMappingURL=3232.client.chunk.ce2f4ff7d8b522a13e49.js.map