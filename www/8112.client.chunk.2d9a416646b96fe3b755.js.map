{"version":3,"file":"8112.client.chunk.2d9a416646b96fe3b755.js","mappings":"2NAAA,SAASA,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GAAO,IAAM,IAAIC,EAAOP,EAAIK,GAAKC,GAAUE,EAAQD,EAAKC,KAAgD,CAAvC,MAAOC,GAAwB,YAAfP,EAAOO,EAAgB,CAAMF,EAAKG,KAAQT,EAAQO,GAAiBG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAAW,CAOjQ,MAAMS,EAAmD,WAC9D,IANyBC,EAMrBC,GANqBD,EAMI,YAC3B,OAAO,WAAW,6EAAqDE,oCACzE,EARsC,WAAc,IAAIC,EAAOC,KAAMC,EAAOC,UAAW,OAAO,IAAIT,SAAQ,SAAUV,EAASC,GAAU,IAAIF,EAAMc,EAAGO,MAAMJ,EAAME,GAAO,SAAShB,EAAMK,GAAST,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAAQ,CAAE,SAASJ,EAAOkB,GAAOvB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASkB,EAAM,CAAEnB,OAAMoB,EAAY,GAAI,GAU/X,OAAO,WACL,OAAOR,EAAKM,MAAMH,KAAME,UAC1B,CACF,CARgE,GCGhE,IAAII,EAAwB,MAC1BC,cAOEP,KAAKQ,OAAS,EAChB,CAOIC,uBACF,OAAOT,KAAK,iBACd,CAEIS,qBAAiBnB,GACnBU,KAAK,kBAAoBV,EAErBU,KAAK,mBAAmBU,WAC1BV,KAAKU,SAAWV,KAAK,mBAAmBU,SACxCV,KAAKW,iBAAmB,UAAmBX,KAAKU,UAAY,IAC5DV,KAAKQ,OAASR,KAAKW,iBAAiBX,KAAKY,OAAS,GAEtD,CAOAC,YAAYC,IACN,EAAAC,EAAA,GAAO,cAAeD,IACxBd,KAAKW,iBAAmB,UAAmBX,KAAKU,UAAY,IAC5DV,KAAKQ,OAASR,KAAKW,iBAAiBX,KAAKY,QAGvC,EAAAG,EAAA,GAAO,UAAWD,IACpBd,KAAKQ,OAASR,KAAKW,mBAAmBX,KAAKY,OAAS,GAExD,CAMAI,oBAAqB,IAIvB,QAAW,EAAC,UAAiB,QAAW,cAAeC,SAAUX,EAAsBY,UAAW,cAAU,GAE5GZ,GAAwB,QAAW,EAAC,UAA0B,OAAwBX,IAAuCW,GCjE7H,S,kDCIO,SAASa,IACd,OAAO,SAAUC,EAAQC,GACvB,MAAMC,EAAOD,EACbE,OAAOC,eAAeJ,EAAQ,GAAGE,UAAc,CAC7CG,IAAK,WAKH,OAJKzB,KAAK,IAAIsB,aACZtB,KAAK,IAAIsB,WAAgB,IAAI,KAGxBtB,KAAK,IAAIsB,UAClB,IAEFC,OAAOC,eAAeJ,EAAQE,EAAM,CAClCG,IAAK,WACH,OAAOzB,KAAK,IAAIsB,IAClB,EACAI,IAAK,SAAUpC,GACbU,KAAK,IAAIsB,KAAUhC,EACnBU,KAAK,GAAGsB,WAAcK,MACxB,GAEJ,CACF,C","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataTemplate/dataTemplate.metadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataTemplate/dataTemplate.relations.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataTemplate/type.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/relations/src/decorators/dynamicOutput/dynamicOutput.decorator.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Data template relations metadata loader\n */\nexport const DataTemplateRelationsMetadataLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/dataTemplate.relationsMetadata')).DataTemplateRelationsEditorMetadata();\n  });\n\n  return function DataTemplateRelationsMetadataLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();","import { __decorate, __metadata } from \"tslib\";\nimport { DynamicOutput, PureRelationsComponent } from '@anglr/dynamic/relations';\nimport { RelationsEditorMetadata } from '@anglr/dynamic/relations-editor';\nimport { nameof } from '@jscrpt/common';\nimport Handlebars from 'handlebars';\nimport { DataTemplateRelationsMetadataLoader } from './dataTemplate.metadata';\n/**\n * Data template relations component\n */\n\nlet DataTemplateRelations = class DataTemplateRelations {\n  constructor() {\n    //######################### protected properties #########################\n    //######################### public properties - dynamic outputs #########################\n\n    /**\n     * Output of template compilation\n     */\n    this.output = '';\n  } //######################### public properties - implementation of RelationsComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  get relationsOptions() {\n    return this.ɵRelationsOptions;\n  }\n\n  set relationsOptions(value) {\n    this.ɵRelationsOptions = value;\n\n    if (this.ɵRelationsOptions?.template) {\n      this.template = this.ɵRelationsOptions?.template;\n      this.compiledTemplate = Handlebars.compile(this.template ?? '');\n      this.output = this.compiledTemplate(this.data) ?? '';\n    }\n  } //######################### public methods - implementation of RelationsComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnChanges(changes) {\n    if (nameof('template') in changes) {\n      this.compiledTemplate = Handlebars.compile(this.template ?? '');\n      this.output = this.compiledTemplate(this.data);\n    }\n\n    if (nameof('data') in changes) {\n      this.output = this.compiledTemplate?.(this.data) ?? '';\n    }\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {}\n\n};\n\n__decorate([DynamicOutput(), __metadata(\"design:type\", String)], DataTemplateRelations.prototype, \"output\", void 0);\n\nDataTemplateRelations = __decorate([PureRelationsComponent(), RelationsEditorMetadata(DataTemplateRelationsMetadataLoader)], DataTemplateRelations);\nexport { DataTemplateRelations };","import { DataTemplateRelations } from './dataTemplate.relations';\nexport default DataTemplateRelations;","import { Subject } from 'rxjs';\n/**\n * Creates dynamic output for property\n */\n\nexport function DynamicOutput() {\n  return function (target, propertyKey) {\n    const prop = propertyKey;\n    Object.defineProperty(target, `${prop}Change`, {\n      get: function () {\n        if (!this[`ɵ${prop}Change`]) {\n          this[`ɵ${prop}Change`] = new Subject();\n        }\n\n        return this[`ɵ${prop}Change`];\n      }\n    });\n    Object.defineProperty(target, prop, {\n      get: function () {\n        return this[`ɵ${prop}`];\n      },\n      set: function (value) {\n        this[`ɵ${prop}`] = value;\n        this[`${prop}Change`].next();\n      }\n    });\n  };\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","DataTemplateRelationsMetadataLoader","fn","_ref","DataTemplateRelationsEditorMetadata","self","this","args","arguments","apply","err","undefined","DataTemplateRelations","constructor","output","relationsOptions","template","compiledTemplate","data","ngOnChanges","changes","nameof","invalidateVisuals","String","prototype","DynamicOutput","target","propertyKey","prop","Object","defineProperty","get","set","next"],"sourceRoot":""}