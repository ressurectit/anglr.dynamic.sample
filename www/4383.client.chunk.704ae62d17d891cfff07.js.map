{"version":3,"file":"4383.client.chunk.704ae62d17d891cfff07.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/templateBlock/templateBlock.metadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/templateBlock/templateBlock.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/templateBlock/type.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorDesignerType/layoutEditorDesignerType.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorMetadata/layoutEditorMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/components/layoutComponentBase/layoutComponentBase.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/extensions/componentStyling/componentStyling.extension.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/misc/dynamicItemExtensionBase.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Template block layout metadata loader\n */\nexport const TemplateBlockLayoutMetadataLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/templateBlock.layoutMetadata')).TemplateBlockLayoutEditorMetadata();\n  });\n\n  return function TemplateBlockLayoutMetadataLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * Template block layout designer type loader\n */\n\nexport const TemplateBlockLayoutDesignerTypeLoader = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    return (yield import('./designer/templateBlockDesigner.component')).TemplateBlockDesignerSAComponent;\n  });\n\n  return function TemplateBlockLayoutDesignerTypeLoader() {\n    return _ref2.apply(this, arguments);\n  };\n}();","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { __decorate } from \"tslib\";\nimport { Component, ChangeDetectionStrategy, inject } from '@angular/core';\nimport { LayoutComponentBase, LayoutComponentRendererSADirective, LAYOUT_METADATA_STORAGE } from '@anglr/dynamic/layout';\nimport { LayoutEditorDesignerType, LayoutEditorMetadata } from '@anglr/dynamic/layout-editor';\nimport { RelationsComponentManager, RelationsManager, RelationsProcessor, RELATIONS_METADATA_STORAGE } from '@anglr/dynamic/relations';\nimport { HostDisplayBlockStyle } from '@anglr/common';\nimport { TemplateBlockLayoutDesignerTypeLoader, TemplateBlockLayoutMetadataLoader } from './templateBlock.metadata';\nimport * as i0 from \"@angular/core\";\n/**\n * Component used for displaying template block\n */\n\nlet TemplateBlockSAComponent = class TemplateBlockSAComponent extends LayoutComponentBase {\n  constructor() {\n    super(...arguments); //######################### protected properties #########################\n\n    /**\n     * Storage for layout metadata\n     */\n\n    this.layoutMetadataStorage = inject(LAYOUT_METADATA_STORAGE);\n    /**\n     * Storage for relations metadata\n     */\n\n    this.relationsMetadataStorage = inject(RELATIONS_METADATA_STORAGE, {\n      optional: true\n    });\n    /**\n     * Instance of relations manager\n     */\n\n    this.relationsManager = inject(RelationsManager, {\n      optional: true\n    }); //######################### protected properties - template bindings #########################\n\n    /**\n     * Instance of metadata to be displayed\n     */\n\n    this.metadata = null;\n  } //######################### protected methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsSet() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.initialized) {\n        return;\n      }\n\n      const id = _this.options?.layoutId;\n\n      if (!id) {\n        return;\n      }\n\n      _this.metadata = yield _this.layoutMetadataStorage.getMetadata(id);\n\n      if (_this.relationsManager && _this.relationsMetadataStorage) {\n        const relations = yield _this.relationsMetadataStorage.getMetadata(id);\n\n        _this.relationsManager.setRelations(relations ?? []);\n      }\n    })();\n  }\n\n};\n\nTemplateBlockSAComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵTemplateBlockSAComponent_BaseFactory;\n  return function TemplateBlockSAComponent_Factory(t) {\n    return (ɵTemplateBlockSAComponent_BaseFactory || (ɵTemplateBlockSAComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TemplateBlockSAComponent)))(t || TemplateBlockSAComponent);\n  };\n}();\n\nTemplateBlockSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: TemplateBlockSAComponent,\n  selectors: [[\"template-block\"]],\n  standalone: true,\n  features: [i0.ɵɵProvidersFeature([RelationsComponentManager, RelationsManager, RelationsProcessor]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"layoutComponentRenderer\"]],\n  template: function TemplateBlockSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainer(0, 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"layoutComponentRenderer\", ctx.metadata);\n    }\n  },\n  dependencies: [LayoutComponentRendererSADirective],\n  styles: [\"[_nghost-%COMP%]{display: block;}\"],\n  changeDetection: 0\n});\nTemplateBlockSAComponent = __decorate([LayoutEditorDesignerType(TemplateBlockLayoutDesignerTypeLoader), LayoutEditorMetadata(TemplateBlockLayoutMetadataLoader)], TemplateBlockSAComponent);\nexport { TemplateBlockSAComponent };\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TemplateBlockSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'template-block',\n      standalone: true,\n      imports: [LayoutComponentRendererSADirective],\n      providers: [RelationsComponentManager, RelationsManager, RelationsProcessor],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<ng-container [layoutComponentRenderer]=\\\"metadata\\\"></ng-container>\",\n      styles: [\":host{display: block;}\"]\n    }]\n  }], null, null);\n})();","import { ComponentStylingExtension } from '@anglr/dynamic/layout';\nimport { TemplateBlockSAComponent } from './templateBlock.component';\nexport default TemplateBlockSAComponent;\nexport const extensions = [ComponentStylingExtension];","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor designer type for class on which is this decorator applied\n * @param metadataLoader - Layout editor designer type loader function used for obtaining designer type\n */\n\nexport function LayoutEditorDesignerType(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorDesignerType');\n}","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor metadata to class on which is this decorator applied\n * @param metadataLoader - Layout editor metadata loader function used for obtaining metadata\n */\n\nexport function LayoutEditorMetadata(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorMetadata');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectorRef, Directive, ElementRef, Inject, Injector, Optional } from '@angular/core';\nimport { LOGGER } from '@anglr/common';\nimport { isEmptyObject, nameof } from '@jscrpt/common';\nimport * as i0 from \"@angular/core\";\n/**\n * Base component for layout component\n */\n\nexport class LayoutComponentBase {\n  //######################### constructor #########################\n  constructor(changeDetector, componentElement, injector, logger) {\n    this.changeDetector = changeDetector;\n    this.componentElement = componentElement;\n    this.injector = injector;\n    this.logger = logger; //######################### protected fields #########################\n\n    /**\n     * Array of extensions that are registered for component\n     */\n\n    this.extensions = [];\n    /**\n     * Indication whether initialization was already done\n     */\n\n    this.initialized = false;\n    /**\n     * Indication whether was component destroyed\n     */\n\n    this.destroyed = false;\n  } //######################### protected properties #########################\n\n  /**\n   * Gets element that is used within extension\n   */\n\n\n  get element() {\n    return this.componentElement;\n  }\n  /**\n   * Gets options that are used within extension\n   */\n\n\n  get extensionsOptions() {\n    return this.options;\n  } //######################### public methods - implementation of OnDestroy #########################\n\n  /**\n   * Called when component is destroyed\n   */\n\n\n  ngOnDestroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    for (const ext of this.extensions) {\n      ext.destroy();\n    }\n\n    this.onDestroy();\n  } //######################### public methods - implementation of LayoutComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) {\n        return;\n      }\n\n      _this.initialized = true;\n      const extensionsOptions = _this.extensionsOptions;\n      yield _this.onInit();\n      yield _this.onOptionsSet();\n\n      if (extensionsOptions) {\n        for (const extension of _this.extensions) {\n          yield extension.initialize(_this.injector, _this.element, _this);\n        }\n      }\n\n      yield _this.afterInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnChanges(changes) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      //options has changed\n      if (nameof('options') in changes) {\n        yield _this2.onOptionsSet();\n        const extensionsOptions = _this2.extensionsOptions; //set options in extensions\n\n        if (extensionsOptions) {\n          for (const extension of _this2.extensions) {\n            yield extension.optionsChange(extensionsOptions);\n          }\n        }\n\n        if (!_this2.initialized) {\n          return;\n        }\n\n        yield _this2.onOptionsChange();\n      }\n\n      delete changes[nameof('options')];\n\n      if (!isEmptyObject(changes)) {\n        _this2.onChanges(changes);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  registerExtensions(extensions) {\n    this.extensions = extensions;\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {\n    this.changeDetector.detectChanges();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialzation of component, options are already set\n   */\n\n\n  onInit() {}\n  /**\n   * Called right after initialization finished, including extesions\n   */\n\n\n  afterInit() {}\n  /**\n   * Called on change of options, after initialization\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Occurs when some property changes on component\n   * @param _changes - Changes that occured on component\n   */\n\n\n  onChanges(_changes) {}\n  /**\n   * Called everytime options are set, after initialization and later\n   */\n\n\n  onOptionsSet() {}\n  /**\n   * Called when component is being destroyed\n   */\n\n\n  onDestroy() {}\n\n}\n\nLayoutComponentBase.ɵfac = function LayoutComponentBase_Factory(t) {\n  return new (t || LayoutComponentBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(LOGGER, 8));\n};\n\nLayoutComponentBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: LayoutComponentBase,\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LayoutComponentBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGGER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();","import { DynamicItemExtensionBase } from '@anglr/dynamic';\nimport { isPresent } from '@jscrpt/common';\n/**\n * Extension that applies common component styling to component\n */\n\nexport class ComponentStylingExtension extends DynamicItemExtensionBase {\n  //######################### public methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n  onInit() {\n    this._applyStyling();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsChange() {\n    this._applyStyling();\n  } //######################### protected methods #########################\n\n  /**\n   * Applies component styling to element\n   */\n\n\n  _applyStyling() {\n    const options = this.options;\n    const style = this.element?.nativeElement.style;\n\n    if (this.element) {\n      if (isPresent(this.lastCssClass)) {\n        for (const cssClass of this.lastCssClass.split(' ')) {\n          if (cssClass) {\n            this.element.nativeElement.classList.remove(cssClass);\n          }\n        }\n      }\n\n      this.lastCssClass = options?.cssClass;\n\n      if (options?.cssClass) {\n        for (const cssClass of options.cssClass.split(' ')) {\n          if (cssClass) {\n            this.element?.nativeElement.classList.add(cssClass);\n          }\n        }\n      }\n    }\n\n    if (isPresent(style)) {\n      if (options?.margin) {\n        if (isPresent(options.margin.bottom)) {\n          style.marginBottom = options.margin.bottom;\n        }\n\n        if (isPresent(options.margin.right)) {\n          style.marginRight = options.margin.right;\n        }\n\n        if (isPresent(options.margin.top)) {\n          style.marginTop = options.margin.top;\n        }\n\n        if (isPresent(options.margin.left)) {\n          style.marginLeft = options.margin.left;\n        }\n      }\n\n      if (options?.padding) {\n        if (isPresent(options.padding.bottom)) {\n          style.paddingBottom = options.padding.bottom;\n        }\n\n        if (isPresent(options.padding.right)) {\n          style.paddingRight = options.padding.right;\n        }\n\n        if (isPresent(options.padding.top)) {\n          style.paddingTop = options.padding.top;\n        }\n\n        if (isPresent(options.padding.left)) {\n          style.paddingLeft = options.padding.left;\n        }\n      }\n\n      if (options?.textStyling) {\n        if (isPresent(options.textStyling.fontSize)) {\n          style.fontSize = options.textStyling.fontSize;\n        }\n\n        if (isPresent(options.textStyling.fontWeight)) {\n          style.fontWeight = options.textStyling.fontWeight.toString();\n        }\n      }\n    }\n  }\n\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Dynamic item extension base class\n */\nexport class DynamicItemExtensionBase {\n  //######################### constructor #########################\n  constructor(metadata) {\n    this.metadata = metadata;\n    /**\n     * Indication whether was extension initialized\n     */\n\n    this.initialized = false;\n  } //######################### public methods - implementation of DynamicItemExtension #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize(injector, element, instance) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.initialized = true;\n      _this.injector = injector;\n      _this.element = element;\n      _this.instance = instance;\n      yield _this.onInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  optionsChange(options) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.options = options;\n\n      if (!_this2.initialized) {\n        return;\n      }\n\n      yield _this2.onOptionsChange();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  destroy() {\n    this.onDestroy();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialization of component\n   */\n\n\n  onInit() {}\n  /**\n   * Called on change of options of component\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Called on destruction of component\n   */\n\n\n  onDestroy() {}\n\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","TemplateBlockLayoutMetadataLoader","_ref","TemplateBlockLayoutEditorMetadata","TemplateBlockLayoutDesignerTypeLoader","_ref2","TemplateBlockDesignerSAComponent","TemplateBlockSAComponent","constructor","super","layoutMetadataStorage","relationsMetadataStorage","optional","relationsManager","metadata","onOptionsSet","_this","initialized","id","options","layoutId","getMetadata","relations","setRelations","t","type","selectors","standalone","features","decls","vars","consts","template","rf","ctx","dependencies","styles","changeDetection","extensions","LayoutEditorDesignerType","metadataLoader","LayoutEditorMetadata","LayoutComponentBase","changeDetector","componentElement","injector","logger","destroyed","element","extensionsOptions","ngOnDestroy","ext","destroy","onDestroy","ngOnInit","onInit","extension","initialize","afterInit","ngOnChanges","changes","_this2","optionsChange","onOptionsChange","onChanges","registerExtensions","invalidateVisuals","detectChanges","_changes","ComponentStylingExtension","_applyStyling","style","nativeElement","lastCssClass","cssClass","split","classList","remove","add","margin","bottom","marginBottom","right","marginRight","top","marginTop","left","marginLeft","padding","paddingBottom","paddingRight","paddingTop","paddingLeft","textStyling","fontSize","fontWeight","toString","DynamicItemExtensionBase","instance"],"sourceRoot":""}