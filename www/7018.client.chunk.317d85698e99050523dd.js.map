{"version":3,"file":"7018.client.chunk.317d85698e99050523dd.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/modules/codeEditor/misc/types/languageModels/cssLanguageModel.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/css-components/src/dynamicItems/styleBlock/metadata/styleBlock.model.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/css-components/src/dynamicItems/styleBlock/metadata/styleBlock.layoutMetadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/components/codePropertiesControl/codePropertiesControl.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/modules/propertiesControls/components/propertiesControlBase.js"],"sourcesContent":["import { LanguageModel } from './languageModel';\n/**\n * Css language model for code editor\n */\n\nexport const CssLanguageModel = new LanguageModel('css', 'css', editor => {\n  return editor.getModel()?.getValue() ?? '';\n});","import { mapValuesToThis } from '@jscrpt/common';\n/**\n * Style block model for properties editor\n */\n\nexport class StyleBlockModel {\n  //######################### constructor #########################\n  constructor(value) {\n    /**\n     * @inheritdoc\n     */\n    this.style = '';\n    mapValuesToThis.bind(this)(value);\n  }\n\n}","import { codePropertiesControlFor } from '@anglr/dynamic/layout-editor';\nimport { CssLanguageModel } from '@anglr/dynamic';\nimport { StyleBlockModel } from './styleBlock.model';\n/**\n * Style block layout metadata\n */\n\nexport class StyleBlockLayoutEditorMetadata {\n  //######################### constructor #########################\n  constructor() {\n    //######################### public properties - implementation of LayoutEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    this.metaInfo = {\n      name: 'Style',\n      description: 'Style block - allows styling of content',\n      group: 'Layout',\n      optionsMetadata: {\n        propertiesMetadata: [{\n          modelType: StyleBlockModel,\n          propertiesControls: [codePropertiesControlFor('style', CssLanguageModel)]\n        }]\n      }\n    };\n    /**\n     * @inheritdoc\n     */\n\n    this.addDescendant = (metadata, options) => {\n      options.content = metadata;\n    };\n    /**\n     * @inheritdoc\n     */\n\n\n    this.canDropMetadata = options => !options?.content;\n    /**\n     * @inheritdoc\n     */\n\n\n    this.getDescendants = options => options?.content ? [options?.content] : [];\n    /**\n     * @inheritdoc\n     */\n\n\n    this.removeDescendant = (_, options) => {\n      options.content = null;\n    };\n\n    Object.freeze(this);\n  }\n\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { TitledDialogService } from '@anglr/common/material';\nimport { CodeEditorDialogComponent } from '@anglr/dynamic';\nimport { isBlank, isPresent } from '@jscrpt/common';\nimport { lastValueFrom } from 'rxjs';\nimport { PropertiesControlBase } from '../../modules';\nimport { LayoutEditorMetadataExtractor } from '../../services';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services\";\nimport * as i2 from \"@anglr/common/material\";\n/**\n * Base component used for displaying code properties control\n */\n\nexport class BaseCodePropertiesControlSAComponent extends PropertiesControlBase {\n  //######################### constructor #########################\n  constructor(changeDetector, metadataExtractor, dialog) {\n    super(changeDetector, metadataExtractor);\n    this.dialog = dialog;\n  } //######################### protected methods - template bindings #########################\n\n  /**\n   * Shows code editor\n   */\n\n\n  showCodeEditor() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (isBlank(_this.property) || !_this.languageModel) {\n        return;\n      }\n\n      const result = yield lastValueFrom(_this.dialog.open(CodeEditorDialogComponent, {\n        title: 'Code editor',\n        width: '75vw',\n        height: '75vh',\n        data: {\n          content: _this.form?.get(_this.property)?.value ?? '',\n          languageModel: _this.languageModel\n        }\n      }).afterClosed());\n\n      if (isPresent(result)) {\n        const control = _this.form?.get(_this.property);\n\n        if (control instanceof FormControl) {\n          control.setValue(result.content);\n        }\n      }\n    })();\n  }\n\n}\n\nBaseCodePropertiesControlSAComponent.ɵfac = function BaseCodePropertiesControlSAComponent_Factory(t) {\n  return new (t || BaseCodePropertiesControlSAComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.LayoutEditorMetadataExtractor), i0.ɵɵdirectiveInject(i2.TitledDialogService));\n};\n\nBaseCodePropertiesControlSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: BaseCodePropertiesControlSAComponent,\n  selectors: [[\"base-code-properties-control\"]],\n  inputs: {\n    property: \"property\",\n    languageModel: \"languageModel\"\n  },\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 3,\n  vars: 1,\n  consts: [[\"type\", \"button\", \"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-primary\", \"dynamic-margin-vertical-small\", 3, \"click\"]],\n  template: function BaseCodePropertiesControlSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function BaseCodePropertiesControlSAComponent_Template_button_click_0_listener() {\n        return ctx.showCodeEditor();\n      });\n      i0.ɵɵelementStart(1, \"span\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Edit \", ctx.property, \"\");\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BaseCodePropertiesControlSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'base-code-properties-control',\n      standalone: true,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<button type=\\\"button\\\" type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-primary dynamic-margin-vertical-small\\\" (click)=\\\"showCodeEditor()\\\">\\n    <span>Edit {{property}}</span>\\n</button>\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.LayoutEditorMetadataExtractor\n    }, {\n      type: i2.TitledDialogService\n    }];\n  }, {\n    property: [{\n      type: Input\n    }],\n    languageModel: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Gets code properties control component for specific property\n * @param property - Name of property that will be set by this component\n * @param languageModel - Language model to be used in code editor\n */\n\n\nexport function codePropertiesControlFor(property, languageModel) {\n  class CodePropertiesControl extends BaseCodePropertiesControlSAComponent {\n    constructor() {\n      super(...arguments);\n      /**\n       * @inheritdoc\n       */\n\n      this.property = property;\n      /**\n       * @inheritdoc\n       */\n\n      this.languageModel = languageModel;\n    }\n\n  }\n\n  CodePropertiesControl.ɵfac = /* @__PURE__ */function () {\n    let ɵCodePropertiesControl_BaseFactory;\n    return function CodePropertiesControl_Factory(t) {\n      return (ɵCodePropertiesControl_BaseFactory || (ɵCodePropertiesControl_BaseFactory = i0.ɵɵgetInheritedFactory(CodePropertiesControl)))(t || CodePropertiesControl);\n    };\n  }();\n\n  CodePropertiesControl.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CodePropertiesControl,\n    selectors: [[\"code-properties-control\"]],\n    inputs: {\n      property: \"property\",\n      languageModel: \"languageModel\"\n    },\n    standalone: true,\n    features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n    decls: 3,\n    vars: 1,\n    consts: [[\"type\", \"button\", \"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-primary\", \"dynamic-margin-vertical-small\", 3, \"click\"]],\n    template: function CodePropertiesControl_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function CodePropertiesControl_Template_button_click_0_listener() {\n          return ctx.showCodeEditor();\n        });\n        i0.ɵɵelementStart(1, \"span\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Edit \", ctx.property, \"\");\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CodePropertiesControl, [{\n      type: Component,\n      args: [{\n        selector: 'code-properties-control',\n        standalone: true,\n        imports: [],\n        changeDetection: ChangeDetectionStrategy.OnPush,\n        template: \"<button type=\\\"button\\\" type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-primary dynamic-margin-vertical-small\\\" (click)=\\\"showCodeEditor()\\\">\\n    <span>Edit {{property}}</span>\\n</button>\"\n      }]\n    }], null, {\n      property: [{\n        type: Input\n      }],\n      languageModel: [{\n        type: Input\n      }]\n    });\n  })();\n\n  return CodePropertiesControl;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectorRef, Directive, Input } from '@angular/core';\nimport { LayoutEditorMetadataExtractor } from '../../../services';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services\";\n/**\n * Base class for properties control\n */\n\nexport class PropertiesControlBase {\n  //######################### constructor #########################\n  constructor(_changeDetector, _extractor) {\n    this._changeDetector = _changeDetector;\n    this._extractor = _extractor; //######################### protected fields #########################\n\n    /**\n     * Indication whether was component initialized or not\n     */\n\n    this._initialized = false;\n    /**\n     * @inheritdoc\n     */\n\n    this.propertiesMetadata = null;\n  } //######################### public methods - implementation of OnInit #########################\n\n  /**\n   * Initialize component\n   */\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this._initialized) {\n        return;\n      }\n\n      _this._initialized = true;\n      yield _this._initialize();\n    })();\n  } //######################### public methods - implementation of PropertiesControl #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.ngOnInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {\n    this._changeDetector.detectChanges();\n  } //######################### protected methods #########################\n\n  /**\n   * Use this method for initialization of component\n   */\n\n\n  _initialize() {}\n\n}\n\nPropertiesControlBase.ɵfac = function PropertiesControlBase_Factory(t) {\n  return new (t || PropertiesControlBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.LayoutEditorMetadataExtractor));\n};\n\nPropertiesControlBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: PropertiesControlBase,\n  inputs: {\n    form: \"form\",\n    propertiesMetadata: \"propertiesMetadata\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PropertiesControlBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.LayoutEditorMetadataExtractor\n    }];\n  }, {\n    form: [{\n      type: Input\n    }],\n    propertiesMetadata: [{\n      type: Input\n    }]\n  });\n})();"],"names":["CssLanguageModel","editor","getModel","getValue","StyleBlockModel","constructor","value","this","style","StyleBlockLayoutEditorMetadata","metaInfo","name","description","group","optionsMetadata","propertiesMetadata","modelType","propertiesControls","addDescendant","metadata","options","content","canDropMetadata","getDescendants","removeDescendant","_","Object","freeze","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","BaseCodePropertiesControlSAComponent","changeDetector","metadataExtractor","dialog","super","showCodeEditor","fn","_this","property","languageModel","result","open","title","width","height","data","form","get","afterClosed","control","setValue","self","args","arguments","apply","err","undefined","codePropertiesControlFor","CodePropertiesControl","t","type","selectors","inputs","standalone","features","decls","vars","consts","template","rf","ctx","encapsulation","changeDetection","_asyncToGenerator","PropertiesControlBase","_changeDetector","_extractor","_initialized","ngOnInit","_initialize","initialize","_this2","invalidateVisuals","detectChanges"],"sourceRoot":""}