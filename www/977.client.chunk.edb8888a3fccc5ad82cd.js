(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[977],{5048:(e,t,n)=>{var i={"./en.json":[9587,587],"./sk.json":[5930,930]};function o(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return n.e(t[1]).then((()=>n.t(o,19)))}o.keys=()=>Object.keys(i),o.id=5048,e.exports=o},4190:(e,t,n)=>{"use strict";n.d(t,{$:()=>J});var i=n(4275),o=n(73);class s{}s.ɵfac=function(e){return new(e||s)},s.ɵcmp=i.Xp({type:s,selectors:[["dynamic-content-view"]],standalone:!0,features:[o.j],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0});var r,a=n(9593),g=n(6535),c=n(4900),u=n(3716),l=n(2939),d=n(4028),h=n(90),p=n(7550),f=n(1742),v=n(4151),m=n(8662),b=n(3221),_=n(6170),y=n(5617),S=n(8912),C=n(8138),w=n(486),L=n(6274),x=n(1377),O=n(6917),D=n(2369),k=n(3829),A=n(7343),I=n(823),N=n(1283),T=n(931),P=n(7177),F=n(7910),V=n(8402),U=n(9966),Y=n(3848),j=n(1493),q=n(517);function E(e,t){if(1&e){const e=d.E();h.Tg(0,"a",1),p.N("click",(function(){f.CH(e);const t=v.o();return f.Kt(t.activeSection=t.UserSettingsSections.Logging)})),h._U(1,"span",5),h.Tg(2,"span"),m._(3),b.AL(4,"translate"),h.qZ()()}if(2&e){const e=v.o();_.ek("active",e.activeSection==e.UserSettingsSections.Logging),y.x(3),S.Oq(b.lc(4,3,"logging"))}}function R(e,t){if(1&e){const e=d.E();h.Tg(0,"a",1),p.N("click",(function(){f.CH(e);const t=v.o();return f.Kt(t.activeSection=t.UserSettingsSections.Debugging)})),h._U(1,"span",6),h.Tg(2,"span"),m._(3),b.AL(4,"translate"),h.qZ()()}if(2&e){const e=v.o();_.ek("active",e.activeSection==e.UserSettingsSections.Debugging),y.x(3),S.Oq(b.lc(4,3,"debug"))}}function M(e,t){if(1&e&&(h._U(0,"ng-option",12),b.AL(1,"translate")),2&e){const e=t.$implicit;C.Q("text",b.lc(1,2,e))("value",e)}}function Z(e,t){if(1&e&&(h._U(0,"ng-option",12),b.AL(1,"asRequired")),2&e){const e=t.$implicit;C.Q("text",b.lc(1,2,null==e?null:e.name))("value",null==e?null:e.lang)}}function z(e,t){if(1&e&&(h.Tg(0,"div",7)(1,"div",8),m._(2),b.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",9),w.Y(6,M,2,4,"ng-option",10),h.qZ()(),h.Tg(7,"div",8),m._(8),b.AL(9,"translate"),h.qZ(),h.Tg(10,"div")(11,"ng-select",11),w.Y(12,Z,2,4,"ng-option",10),h.qZ()()()),2&e){const e=v.o();C.Q("formGroup",e.generalSettingsForm),y.x(2),S.Oq(b.lc(3,5,"theme")),y.x(4),C.Q("ngForOf",e.themes),y.x(2),S.Oq(b.lc(9,7,"language")),y.x(4),C.Q("ngForOf",e.languages)}}function B(e,t){if(1&e&&(h._U(0,"ng-option",12),b.AL(1,"asRequired")),2&e){const e=t.$implicit;C.Q("text",b.lc(1,2,null==e?null:e.name))("value",null==e?null:e.value)}}function H(e,t){if(1&e&&(h._U(0,"ng-option",12),b.AL(1,"asRequired")),2&e){const e=t.$implicit;C.Q("text",b.lc(1,2,null==e?null:e.name))("value",null==e?null:e.value)}}function Q(e,t){if(1&e&&(h.Tg(0,"div",8),m._(1),b.AL(2,"translate"),h.qZ(),h.Tg(3,"div")(4,"ng-select",15),w.Y(5,H,2,4,"ng-option",10),h.qZ()()),2&e){const e=v.o(2);y.x(1),S.Oq(b.lc(2,2,"file log")),y.x(4),C.Q("ngForOf",e.logLevels)}}function G(e,t){if(1&e&&(h.Tg(0,"div",7)(1,"div",8),m._(2),b.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",13),w.Y(6,B,2,4,"ng-option",10),h.qZ()(),w.Y(7,Q,6,4,"ng-template",14),h.qZ()),2&e){const e=v.o();C.Q("formGroup",e.loggingSettingsForm),y.x(2),S.Oq(b.lc(3,4,"console log")),y.x(4),C.Q("ngForOf",e.logLevels),y.x(1),C.Q("authorize","authorized-electron")}}function $(e,t){if(1&e&&(h.Tg(0,"div",7)(1,"div",8),m._(2),b.AL(3,"translate"),h.qZ(),h.Tg(4,"div"),h._U(5,"mat-slide-toggle",16),h.qZ(),h.Tg(6,"div",8),m._(7),b.AL(8,"translate"),h.qZ(),h.Tg(9,"div"),h._U(10,"mat-slide-toggle",17),h.qZ()()),2&e){const e=v.o();C.Q("formGroup",e.debuggingSettingsForm),y.x(2),S.Oq(b.lc(3,3,"console")),y.x(5),S.Oq(b.lc(8,5,"debug data"))}}!function(e){e[e.General=0]="General",e[e.Logging=1]="Logging",e[e.Debugging=2]="Debugging"}(r||(r={}));class J{constructor(e,t,n,i){this.themes=g.v.configuration?.themes??[],this.languages=g.v.configuration?.languages??[],this.logLevels=[],this.activeSection=r.General,this.UserSettingsSections=r;const o=e.settings,s=e.settingsDebugging,c=e.settingsLogging;this._getLogLevels(),this.generalSettingsForm=t.group({language:o.language,theme:o.theme}),this.debuggingSettingsForm=t.group({consoleEnabled:s.consoleEnabled,debugData:s.debugData}),this.loggingSettingsForm=t.group({consoleLogLevel:a.ke[c.consoleLogLevel]}),this.generalSettingsForm.valueChanges.subscribe((t=>{e.setSettings(t)})),this.debuggingSettingsForm.valueChanges.subscribe((t=>{i.setEnabled(t.debugData),e.setDebuggingSettings(t)})),this.loggingSettingsForm.valueChanges.subscribe((t=>{n.restrictToLevel=+t.consoleLogLevel,e.setLoggingSettings({consoleLogLevel:a.ke[+t.consoleLogLevel]})}))}_getLogLevels(){Object.keys(a.ke).forEach((e=>{isNaN(+e)||this.logLevels.push({name:a.ke[e],value:e})}))}}J.ɵfac=function(e){return new(e||J)(L.Y(c.g),L.Y(x.qu),L.Y(A.b),L.Y(I.H))},J.ɵcmp=i.Xp({type:J,selectors:[["user-settings"]],standalone:!0,features:[o.j],decls:12,vars:10,consts:[[1,"flex-column","settings-menu"],[1,"btn-line",3,"click"],[1,"fas","fa-cog"],["class","btn-line",3,"active","click",4,"authorize"],["class","settings-items",3,"formGroup",4,"ngIf"],[1,"fas","fa-pen"],[1,"fas","fa-bug"],[1,"settings-items",3,"formGroup"],[1,"text-capitalize"],["formControlName","theme"],[3,"text","value",4,"ngFor","ngForOf"],["formControlName","language"],[3,"text","value"],["formControlName","consoleLogLevel"],[3,"authorize"],["formControlName","fileLogLevel"],["formControlName","consoleEnabled"],["formControlName","debugData"]],template:function(e,t){1&e&&(h.Tg(0,"div",0)(1,"a",1),p.N("click",(function(){return t.activeSection=t.UserSettingsSections.General})),h._U(2,"span",2),h.Tg(3,"span"),m._(4),b.AL(5,"translate"),h.qZ()(),w.Y(6,E,5,5,"a",3),w.Y(7,R,5,5,"a",3),h.qZ(),h.Tg(8,"div"),w.Y(9,z,13,9,"div",4),w.Y(10,G,8,6,"div",4),w.Y(11,$,11,7,"div",4),h.qZ()),2&e&&(y.x(1),_.ek("active",t.activeSection==t.UserSettingsSections.General),y.x(3),S.Oq(b.lc(5,8,"general")),y.x(2),C.Q("authorize","logging-settings"),y.x(1),C.Q("authorize","debug-settings"),y.x(2),C.Q("ngIf",t.activeSection==t.UserSettingsSections.General),y.x(1),C.Q("ngIf",t.activeSection==t.UserSettingsSections.Logging),y.x(1),C.Q("ngIf",t.activeSection==t.UserSettingsSections.Debugging))},dependencies:[u._,T.sg,P.O,F.K,N.i,V.X,l.N,O.JJ,O.JL,D.s,k.u,U.Rr,Y.x,j.w,q.v],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}.settings-menu[_ngcontent-%COMP%]{width:120px;font-size:1.1em;margin-right:48px}.settings-menu[_ngcontent-%COMP%]   span[class^=fa][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=fas][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=glyphicon][_ngcontent-%COMP%]{margin-right:10px}.settings-items[_ngcontent-%COMP%]{width:300px;display:grid;grid-template-columns:auto 160px;grid-template-rows:auto;column-gap:10px;row-gap:4px;align-items:center}"],changeDetection:0})},9977:(e,t,n)=>{"use strict";n.r(t),n(6174),n(5743),n(1670);var i=n(5043),o=n(4285),s=n(8085),r=n(6535);(0,i.y)((e=>{e.Document||(e.Document=function(){})}));const a=s.y.prototype.subscribe;s.y.prototype.subscribe=function(e,t,n){return!(0,o.fp)(t)&&(0,o.mf)(t)||(t=e=>{r.v.configuration.debug&&console.log(e)}),a.call(this,e,t,n)};var g=n(9776),c=n(4070),u=n(1297),l=n(2768),d=n(9507),h=n(6226),p=n(4950),f=n(9382),v=n(6446),m=n(4432),b=n(2852),_=n(4756),y=n(3321),S=n(1714),C=n(5762),w=n(421);const L=(0,w.X$)("routeAnimations",[(0,w.eR)("void <=> *, none <=> *",[(0,w.IO)(":enter",(0,w.pV)(),{optional:!0})]),(0,w.eR)("* => login",[(0,w.IO)(".main-content",[(0,w.oB)({position:"relative",perspective:"10000px"}),(0,w.IO)(":enter, :leave",[(0,w.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,w.IO)(":enter",[(0,w.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,w.IO)(":leave",(0,w.pV)()),(0,w.ru)([(0,w.IO)(":leave",[(0,w.jt)("350ms ease-out",(0,w.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,w.IO)(":enter",[(0,w.jt)("350ms 350ms ease-out",(0,w.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,w.IO)(":enter",(0,w.pV)())])]),(0,w.eR)("login => *",[(0,w.IO)(".main-content",[(0,w.oB)({position:"relative",perspective:"10000px"}),(0,w.IO)(":enter, :leave",[(0,w.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,w.IO)(":enter",[(0,w.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,w.IO)(":leave",(0,w.pV)()),(0,w.ru)([(0,w.IO)(":leave",[(0,w.jt)("350ms ease-out",(0,w.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,w.IO)(":enter",[(0,w.jt)("350ms 350ms ease-out",(0,w.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,w.IO)(":enter",(0,w.pV)())])]),(0,w.eR)("* => *",[(0,w.IO)(".main-content",[(0,w.oB)({position:"relative"}),(0,w.IO)(":enter, :leave",[(0,w.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,w.IO)(":enter",[(0,w.oB)({opacity:0})]),(0,w.IO)(":leave",(0,w.pV)()),(0,w.ru)([(0,w.IO)(":leave",[(0,w.jt)("350ms ease-out",(0,w.oB)({opacity:0}))]),(0,w.IO)(":enter",[(0,w.jt)("350ms ease-out",(0,w.oB)({opacity:1}))])]),(0,w.IO)(":enter",(0,w.pV)())])])]),x=(0,w.X$)("loaderAnimation",[(0,w.eR)(":leave",[(0,w.ru)([(0,w.IO)(".loading-card",[(0,w.jt)("300ms",(0,w.oB)({transform:"scale(4)"}))]),(0,w.jt)("200ms 100ms",(0,w.oB)({opacity:0}))])])]);var O=n(4900);const D=JSON.parse('{"i":"1.0.0-beta.20220920094835"}');var k=n(90),A=n(8138),I=n(8662),N=n(6274),T=n(1080),P=n(4275),F=n(8906),V=n(9285),U=n(486),Y=n(5617),j=n(8912),q=n(4539),E=n(2065),R=n(7177),M=n(6660),Z=n(9701),z=n(6205),B=n(8748),H=n(3117),Q=n(4190),G=n(4028),$=n(7550),J=n(1742),K=n(4151),X=n(7910),W=n(5900),ee=n(3278),te=n(6125),ne=n(2247);function ie(e,t,n,i,o,s,r){try{var a=e[s](r),g=a.value}catch(e){return void n(e)}a.done?t(g):Promise.resolve(g).then(i,o)}function oe(e,t){if(1&e){const e=G.E();k.Tg(0,"div",1)(1,"a",2),I._(2,"Home"),k.qZ(),k.Tg(3,"a",3),I._(4,"Dynamic routes"),k.qZ(),k._U(5,"div",4),k.Tg(6,"a",5),$.N("click",(function(){J.CH(e);const t=K.o();return J.Kt(t.logout())})),I._(7,"Logout"),k.qZ(),k.Tg(8,"a",6),$.N("click",(function(){J.CH(e);const t=K.o();return J.Kt(t.openSettings())})),k.qZ()()}}class se{constructor(e,t,n){this._authSvc=e,this._router=t,this._dialog=n}logout(){var e,t=this;return(e=function*(){t._authSvc.logout().subscribe((()=>{t._router.navigate(["/login"])}))},function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function r(e){ie(s,i,o,r,a,"next",e)}function a(e){ie(s,i,o,r,a,"throw",e)}r(void 0)}))})()}openSettings(){this._dialog.open(Q.$,{title:"user settings",maxHeight:"80vh"})}}se.ɵfac=function(e){return new(e||se)(N.Y(q.$),N.Y(W.F0),N.Y(ne.J))},se.ɵcmp=P.Xp({type:se,selectors:[["main-menu"]],decls:1,vars:1,consts:[["class","flex-row",4,"authorize"],[1,"flex-row"],["routerLink","/","routerLinkActive","active",1,"margin-right-small"],["routerLink","/admin/dynamicRoutes","routerLinkActive","active",1,"margin-right-small"],[1,"flex-1"],[3,"click"],[1,"fas","fa-cog",3,"click"]],template:function(e,t){1&e&&U.Y(0,oe,9,0,"div",0),2&e&&A.Q("authorize","authenticated")},dependencies:[ee.y,te.O,X.K],encapsulation:2,changeDetection:0});var re=n(275);function ae(e,t,n,i,o,s,r){try{var a=e[s](r),g=a.value}catch(e){return void n(e)}a.done?t(g):Promise.resolve(g).then(i,o)}const ge=["outlet"];function ce(e,t){1&e&&k._U(0,"console"),2&e&&A.Q("@consoleAnimation",void 0)}function ue(e,t){1&e&&(k.Tg(0,"div",6)(1,"div",7)(2,"div",8),I._(3,"TELECOVID"),k.qZ()(),k._U(4,"div",9)(5,"div",10),k.qZ()),2&e&&A.Q("@loaderAnimation",void 0)}class le{constructor(e,t,n,i,o,s,r){this._changeDetector=n,this._appHotkeys=i,this.consoleVisible=!1,this.authenticated=!1,this.routeComponentState="none",this.guiVersion=D.i,this.serverVersion="",this.serverName="",this.initialized=!1,s.verbose("Application is starting, main component constructed."),r.body.classList.add("app-page",o.settings.theme),this._theme=o.settings.theme,this._settingsChangeSubscription=o.settingsChange.subscribe((e=>{e==(0,S.$)("theme")&&(r.body.classList.remove(this._theme),this._theme=o.settings.theme,r.body.classList.add(this._theme)),e==(0,S.$)("language")&&(t.use(o.settings.language),this._changeDetector.detectChanges())})),this._settingsDebuggingChangeSubscription=o.settingsDebuggingChange.subscribe((e=>{e==(0,S.$)("consoleEnabled")&&this._toggleConsoleHotkey()})),t.setDefaultLang("en"),t.use(o.settings.language),e.getUserIdentity().then((e=>{this.authenticated=e.isAuthenticated,n.detectChanges()})),this._authChangedSubscription=e.authenticationChanged.subscribe((e=>{this.authenticated=e.isAuthenticated,n.detectChanges()})),o.settingsDebugging?.consoleEnabled&&this._toggleConsoleHotkey()}ngOnInit(){return(e=function*(){},function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function r(e){ae(s,i,o,r,a,"next",e)}function a(e){ae(s,i,o,r,a,"throw",e)}r(void 0)}))})();var e}ngAfterViewInit(){this._routerOutletActivatedSubscription=this.routerOutlet?.activateEvents.subscribe((()=>{this.routeComponentState=this.routerOutlet?.activatedRouteData.animation||this.routerOutlet?.activatedRoute.component.name})),this.initialized=!0}ngOnDestroy(){this._routerOutletActivatedSubscription?.unsubscribe(),this._routerOutletActivatedSubscription=null,this._authChangedSubscription?.unsubscribe(),this._authChangedSubscription=null,this._settingsChangeSubscription?.unsubscribe(),this._settingsChangeSubscription=null,this._settingsDebuggingChangeSubscription?.unsubscribe(),this._settingsDebuggingChangeSubscription=null,this._appHotkeys.destroy()}_toggleConsoleHotkey(){const e=this._appHotkeys.hotkeys.get("~");e?this._appHotkeys.hotkeys.remove(e):this._appHotkeys.hotkeys.add(new C.q("~",(()=>(this.consoleVisible=!this.consoleVisible,this._changeDetector.detectChanges(),!1)),void 0,"Show console"))}}le.ɵfac=function(e){return new(e||le)(N.Y(q.$),N.Y(E.sK),N.Y(T.s),N.Y(_.H),N.Y(O.g),N.Y(m.bZ),N.Y(v.K))},le.ɵcmp=P.Xp({type:le,selectors:[["app"]],viewQuery:function(e,t){if(1&e&&F.Gf(ge,5),2&e){let e;F.iG(e=F.CR())&&(t.routerOutlet=e.first)}},features:[V._([_.H])],decls:13,vars:4,consts:[[1,"content","relative"],[1,"main-content"],["outlet","outlet"],[1,"gui-version"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"],[1,"loading-header"],[1,"loading-title"],[1,"loading-card"],[1,"loading-spinner"]],template:function(e,t){1&e&&(k._U(0,"main-menu")(1,"progress-indicator")(2,"internal-server-error")(3,"global-notifications")(4,"hotkeys-cheatsheet"),k.Tg(5,"div",0)(6,"div",1),k._U(7,"router-outlet",null,2),k.qZ()(),k.Tg(9,"div",3),I._(10),k.qZ(),U.Y(11,ce,1,1,"console",4),U.Y(12,ue,6,1,"div",5)),2&e&&(Y.x(5),A.Q("@routeAnimations",t.routeComponentState),Y.x(5),j.hi("GUI version: ",t.guiVersion,""),Y.x(1),A.Q("ngIf",t.consoleVisible),Y.x(1),A.Q("ngIf",!t.initialized))},dependencies:[R.O,M.X,Z.B,z.u,B.l,H.X,se,re.m],styles:[".content[_ngcontent-%COMP%]{display:grid;flex:1;min-height:0;min-width:0;overflow:hidden}.content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;min-width:0}.gui-version[_ngcontent-%COMP%]{text-align:center;font-size:.7em}console[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[L,y.I,b.K,x]},changeDetection:0});var de=n(5950),he=n(6168),pe=n(8100),fe=n(8713),ve=n(2778),me=n(1078),be=n(9284),_e=n(902),ye=n(2972),Se=n(2757),Ce=n(2559);const we={rootModule:!0,rootModuleConfig:{enableTracing:!1,useHash:!0},staticRoutesBefore:[{path:"",loadChildren:()=>n.e(979).then(n.bind(n,4979)).then((({DefaultModule:e})=>e))},{path:"admin",loadChildren:()=>Promise.all([n.e(198),n.e(857)]).then(n.bind(n,857)).then((({RoutedContentModule:e})=>e))},{path:"admin",loadChildren:()=>n.e(294).then(n.bind(n,9294)).then((({DynamicContentModule:e})=>e))}],staticRoutesAfter:[{path:"accessDenied",loadComponent:()=>n.e(607).then(n.bind(n,7607)).then((({AccessDeniedComponent:e})=>e))},{path:"**",loadComponent:()=>n.e(964).then(n.bind(n,9964)).then((({NotFoundComponent:e})=>e))}]};var Le=n(3631),xe=n(905),Oe=n(7911),De=n(1501),ke=n(363),Ae=n(1067),Ie=n(3843),Ne=n(9502),Te=n(823),Pe=n(3028),Fe=n(195),Ve=n(7343),Ue=n(1107),Ye=n(2517),je=n(1589),qe=n(3841),Ee=n(6128),Re=n(891),Me=n(9799),Ze=n(2370),ze=n(1125),Be=n(6999),He=n(6679),Qe=n(4031),Ge=n(6074),$e=n(5045),Je=n(9765),Ke=n(9095),Xe=n(3301),We=n(2452),et=n(2471),tt=n(5821),nt=n(1306),it=n(464),ot=n(1646),st=n(1982),rt=n(9969),at=n(5545),gt=n(8069),ct=n(8722),ut=n(737),lt=n(626),dt=n(9594),ht=n(5696),pt=n(8147),ft=n(2509),vt=n(1044),mt=n(815),bt=n(3624),_t=n(5369),yt=n(4399),St=n(4939),Ct=n(5015),wt=n(9593),Lt=n(455),xt=n(5871),Ot=n(5767),Dt=n(515);class kt extends Ne.v{get locale(){return"sk"}get localeChange(){return xt.E}}kt.ɵfac=function(){let e;return function(t){return(e||(e=Ot.n5(kt)))(t||kt)}}(),kt.ɵprov=Dt.Yz({token:kt,factory:kt.ɵfac});var At=n(4586),It=n(4349),Nt=n(1),Tt=n(6425),Pt=n(6086),Ft=n(9056),Vt=n(972),Ut=n(5024),Yt=n(6234),jt=n(8507);let qt=class extends It.Z8{log(e){return this._log(e).pipe((0,jt.K)((e=>(console.warn("Failed to create log on server"),xt.E))))}_log(e){return xt.E}_unhandledErrorsTransform(e){function t(e){e&&(e.version=D.i,e.id="angular-gui")}for(let n=0;n<e.length;n++){const i=e[n];if(i.message.startsWith("Unhandled error: ")){const e=i.message.replace("Unhandled error: ","");try{i.info=JSON.parse(e),Array.isArray(i.info)&&(i.info=i.info[0]),t(i.info)}catch{i.info={},t(i.info)}}else i.info={},t(i.info);e[n]=i}return e}};qt.ɵfac=function(){let e;return function(t){return(e||(e=Ot.n5(qt)))(t||qt)}}(),qt.ɵprov=Dt.Yz({token:qt,factory:qt.ɵfac}),(0,de.gn)([(0,Nt.g)(),(0,Tt.G)(lt.m),(0,Pt.S)(De.s),(0,Pt.S)(Oe.$),(0,It.a4)("logger"),(0,de.fM)(0,Ft.uT),(0,de.fM)(0,(0,Vt.n)("_unhandledErrorsTransform")),(0,de.w6)("design:type",Function),(0,de.w6)("design:paramtypes",[Array]),(0,de.w6)("design:returntype",s.y)],qt.prototype,"_log",null),qt=(0,de.gn)([(0,Ut.J)(r.v.configuration.apiBaseUrl),(0,Yt.S)(r.v.configuration.defaultApiHeaders)],qt);var Et=n(7305);const Rt=JSON.parse('{"$schema":"./permissions.schema.json","home-page":["ADMIN","USER"],"dynamicRoutes-page":["ADMIN"],"logging-settings":["ADMIN"],"debug-settings":["ADMIN"],"debugInfo":["ADMIN"]}'),Mt="USER_DATA";class Zt{constructor(){this._storage=(0,Et.f3)(m.T0),this._identity=null}get permissions(){return this._permissions??(this._permissions=this._computePermissionsForRoles())}login(e){return new s.y((t=>{if("admin"==e.userName&&"admin"==e.password){const e=this._roles2privileges(["ADMIN"]);this._identity={isAuthenticated:!0,userName:"admin",firstName:"admin",surname:"",permissions:e.concat(["authenticated"]),additionalInfo:null}}else{if("test"!=e.userName||"test"!=e.password)return this._identity=null,t.error((()=>new Error("Failed to login"))),void t.complete();{const e=this._roles2privileges(["USER"]);this._identity={isAuthenticated:!0,userName:"user",firstName:"user",surname:"",permissions:e.concat(["authenticated"]),additionalInfo:null}}}e.rememberMe&&this._identity&&this._storage.set(Mt,this._identity),t.next(),t.complete()}))}logout(){return new s.y((e=>{this._storage.remove(Mt),this._identity=null,e.next(),e.complete()}))}getUserIdentity(){return new s.y((e=>{this._identity??(this._identity=this._storage.get(Mt)),e.next(this._identity??{isAuthenticated:!1,userName:"",permissions:[],firstName:"",surname:""}),e.complete()}))}_roles2privileges(e){const t={};return(e??[]).forEach((e=>(this.permissions[e]??[]).forEach((e=>t[e]=!0)))),Object.keys(t)}_computePermissionsForRoles(){const e={},t=Rt;return Object.keys(t).forEach((n=>{const i=t[n];Array.isArray(i)&&i.forEach((t=>{e[t]??(e[t]=[]),e[t].push(n)}))})),e}}Zt.ɵfac=function(e){return new(e||Zt)},Zt.ɵprov=Dt.Yz({token:Zt,factory:Zt.ɵfac,providedIn:"root"});var zt=n(3632);class Bt extends ke.r{constructor(e,t,n){super(),this._router=e,this._accountSvc=t,this._location=n}login(e){return this._accountSvc.login(e)}isAuthPage(e){return(0,o.EN)(e)?0==e.indexOf("/login"):0==this._location.path().indexOf("/login")}logout(){return this._accountSvc.logout()}getUserIdentity(){return this._accountSvc.getUserIdentity()}showAuthPage(){return this._router.navigate(["/login"],{queryParams:{returnUrl:this._location.path()}})}showAccessDenied(){return this._router.navigate(["/accessDenied"])}}Bt.ɵfac=function(e){return new(e||Bt)(Et.LF(W.F0),Et.LF(Zt),Et.LF(zt.Y))},Bt.ɵprov=Dt.Yz({token:Bt,factory:Bt.ɵfac});var Ht=n(8793),Qt=n(4310);function Gt(e,t,n,i,o,s,r){try{var a=e[s](r),g=a.value}catch(e){return void n(e)}a.done?t(g):Promise.resolve(g).then(i,o)}let $t=class extends It.Z8{logResponse(e,t){var n,i=this;return(n=function*(){let n;if((0,o.fp)(t.body))n="";else if((0,o.HD)(t.body))n=t.body;else if(t.body instanceof Blob)n=yield new Promise((e=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(t.body)}));else if(t.body instanceof ArrayBuffer){let e="";const i=new Uint8Array(t.body),o=i.byteLength;for(let t=0;t<o;t++)e+=String.fromCharCode(i[t]);n=btoa(e)}else n=JSON.stringify(t.body,null,4);return yield i._logResponse({url:e.url,response:n}).toPromise().catch((e=>console.warn("Failed to log mock data")))},function(){var e=this,t=arguments;return new Promise((function(i,o){var s=n.apply(e,t);function r(e){Gt(s,i,o,r,a,"next",e)}function a(e){Gt(s,i,o,r,a,"throw",e)}r(void 0)}))})()}_logResponse(e){return Qt.C}};function Jt(e,t,n,i,o,s,r){try{var a=e[s](r),g=a.value}catch(e){return void n(e)}a.done?t(g):Promise.resolve(g).then(i,o)}function Kt(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function r(e){Jt(s,i,o,r,a,"next",e)}function a(e){Jt(s,i,o,r,a,"throw",e)}r(void 0)}))}}$t.ɵfac=function(){let e;return function(t){return(e||(e=Ot.n5($t)))(t||$t)}}(),$t.ɵprov=Dt.Yz({token:$t,factory:$t.ɵfac}),(0,de.gn)([(0,Nt.g)(),(0,Tt.G)(lt.m),(0,Tt.G)(Ht.k),(0,Pt.S)(De.s),(0,Pt.S)(Oe.$),(0,It.a4)("mockLogger"),(0,de.fM)(0,Ft.uT),(0,de.w6)("design:type",Function),(0,de.w6)("design:paramtypes",[Object]),(0,de.w6)("design:returntype",s.y)],$t.prototype,"_logResponse",null),$t=(0,de.gn)([(0,Ut.J)(r.v.configuration.apiBaseUrl),(0,Yt.S)(r.v.configuration.defaultApiHeaders)],$t);const Xt=[qe.t,Ee.H,Re.w,Me.Q,Oe.B,De.X,Ie.B,{useFactory:function(){return new je.b("Server je mimo prevádzky.")},provide:je.b},{useFactory:function(){return new Ye.R("Server neodpovedal v stanovenom čase.")},provide:Ye.R},{provide:Ne.v,useClass:kt},{provide:ke.r,useClass:Bt},Ze.o,ze.E,Ge.B,{useFactory:function(e){return Kt((function*(){try{yield e.getUserIdentity()}catch(e){throw alert(`Authentication failed: ${e}`),e}}))},provide:Le.i,deps:[q.$],multi:!0},{provide:$e.u,useValue:{texts:{loading:"Nahrávam dáta ...",noData:"Neboli nájdené dáta odpovedajúce zadaným parametrom",notLoaded:"Neboli načítané žiadne dáta zatiaľ"}}},{provide:Je.xS,useValue:Ke.G},{provide:Xe.P,useValue:{itemsPerPageValues:[15,30,60],initialItemsPerPage:15}},{provide:Je.LL,useValue:nt.j},{provide:We._,useValue:{showButtonVisible:!1}},{provide:et.T,useValue:{storageIppName:"all-grid-ipp"}},{provide:tt.eP,useValue:{cssClasses:{containerDiv:"table-container thin-scrollbar"}}},{provide:tt.ss,useValue:{cssClasses:{thDefault:"header-default fixed-header"}}},{provide:dt.M,useValue:{texts:{nothingSelected:"Nothing selected"}}},{provide:ht.w5,useValue:pt.H},{provide:m.oF,useClass:Ue.H},{provide:m.T0,useClass:Ae.w},Fe._0,{provide:Ve.b,useFactory:e=>new Ve.b(void 0,wt.ke[e?.settingsLogging?.consoleLogLevel]),deps:[O.g]},{provide:Fe.rx,useClass:qt},{provide:At.L,useClass:O.l},{provide:Te.H,useFactory:e=>{const t=new Te.H;return t.setEnabled(e.settingsDebugging?.debugData),t},deps:[O.g]},{provide:ft.R2,useClass:vt.Fh},mt.V,vt.Dx,{provide:mt.v,useValue:{locale:Lt.Z}},{provide:it.xY,useValue:{required:"Položka je povinná.",number:"Položka musí byť číslo.",pattern:"Položka nie je v požadovanom formáte.",minValue:"Nedodržaná minimálna povolená hodnota.",maxValue:"Nedodržaná maximálna povolená hodnota.",minlength:"Nedodržaná minimálna dĺžka.",maxlength:"Nedodržaná maximálna dĺžka.",birthNumber:"Nesprávny formát rodného čísla.",email:"Položka musí byť email.",availableUsername:"Prihlasovacie meno je použité"}},{provide:it.gt,useValue:{container:ot.f}},Pe.d,{provide:ct.H,useExisting:m.wn},{provide:Be._k,useExisting:m.wn},{provide:Be.wN,useExisting:m.wn},{provide:st.r,useValue:new st.r(rt.b)},{provide:at.L,useValue:{confirmationText:"Prajete si pokračovať?",dialogCancelText:"Nie",dialogConfirmText:"Áno"}},gt.G,{provide:ct.w,useValue:{assetsPathPrefix:"dist/md",baseUrl:"/pomoc"}},Ct.F,{provide:bt.l5,useClass:$t},ut.Q,{provide:bt.fD,useValue:[_t.U,yt.m,St.L,lt.m]},{provide:Be.r7,useValue:e=>e?.error?.errors?e?.error?.errors:(0,o.HD)(e?.error)?[e?.error]:(0,o.wV)(e?.error)?[JSON.stringify(e?.error)]:[e.message]},{provide:Be.Sm,useValue:e=>e?.error?.validationErrors?e?.error?.validationErrors:null},{provide:Be.IR,useFactory:e=>({400:t=>(0,He.W)(t,{injector:e}),404:Qe.A}),deps:[xe.z]}];function Wt(e,t,n,i,o,s,r){try{var a=e[s](r),g=a.value}catch(e){return void n(e)}a.done?t(g):Promise.resolve(g).then(i,o)}class en{getTranslation(e){return new s.y((t=>{var i;(i=function*(){const i=yield n(5048)(`./${e}.json`);t.next(i.default),t.complete()},function(){var e=this,t=arguments;return new Promise((function(n,o){var s=i.apply(e,t);function r(e){Wt(s,n,o,r,a,"next",e)}function a(e){Wt(s,n,o,r,a,"throw",e)}r(void 0)}))})()}))}}en.ɵfac=function(e){return new(e||en)},en.ɵprov=Dt.Yz({token:en,factory:en.ɵfac});var tn=n(1759);class nn{constructor(e){this._logger=e}handle(e){return this._logger.debug(`MISSING TRANSLATION: ${e.key}`),`MISSING: '${e.key}'`}}nn.ɵfac=function(e){return new(e||nn)(Et.LF(m.bZ))},nn.ɵprov=Dt.Yz({token:nn,factory:nn.ɵfac});let on=class{};on.ɵfac=function(e){return new(e||on)},on.ɵmod=P.oA({type:on}),on.ɵinj=Dt.cJ({providers:Xt,imports:[g.b2.withServerTransition({appId:"my-app-id"}),he.JF,be.m,me._,_e.J.forRoot(),pe.Bz,f.m,tn.$9,ve.R.forRoot(),ye.aw.forRoot({loader:{provide:Se.Z,useClass:en},...r.v.configuration?.debugTranslations?{missingTranslationHandler:{provide:Ce.g,useClass:nn}}:{},useDefaultLang:!r.v.configuration?.debugTranslations})]}),on=(0,de.gn)([(0,fe.P)([],we)],on);class sn{}sn.ɵfac=function(e){return new(e||sn)},sn.ɵmod=P.oA({type:sn,bootstrap:[le]}),sn.ɵinj=Dt.cJ({providers:[{provide:p.g,useFactory:()=>new p.g(r.v.configuration?.debug,!1)}],imports:[on,d.PW,h.Cu,f.m.forRoot({cheatSheetCloseEsc:!0})]}),(0,c.G)();const rn=(0,g.q6)();(0,u.ZA)(rn.bootstrapModule(sn),(e=>{e.injector.get(l.I)?.clearAndDeactivate()}),r.v.configuration.debug)},4586:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});const i=new(n(3556).O)("SETTINGS_STORAGE")},3716:(e,t,n)=>{"use strict";n.d(t,{_:()=>f});var i=n(4015),o=n(8100),s=n(5605),r=n(6088),a=n(7095),g=n(1208),c=n(3491),u=n(2125),l=n(7784),d=n(2972),h=n(4275),p=n(515);class f{}f.ɵfac=function(e){return new(e||f)},f.ɵmod=h.oA({type:f}),f.ɵinj=p.cJ({imports:[i.e,o.Bz,s.W,r.F,c.L,a.z,g.A,d.aw,l.N,u.o]})},2939:(e,t,n)=>{"use strict";n.d(t,{N:()=>h});var i=n(9515),o=n(8248),s=n(4440),r=n(5443),a=n(5553),g=n(4484),c=n(3777),u=n(1261),l=n(4275),d=n(515);class h{}h.ɵfac=function(e){return new(e||h)},h.ɵmod=l.oA({type:h}),h.ɵinj=d.cJ({imports:[i.U,o.r,a.F,s.A,r.r,u.k,g.F,c.j]})},1759:(e,t,n)=>{"use strict";n.d(t,{nP:()=>r,_J:()=>a._,No:()=>g.N,OZ:()=>u,$9:()=>h});var i=n(2252),o=n(4275),s=n(515);class r{}r.ɵfac=function(e){return new(e||r)},r.ɵmod=o.oA({type:r}),r.ɵinj=s.cJ({imports:[i.s]});var a=n(3716),g=n(2939),c=n(2546);class u{}u.ɵfac=function(e){return new(e||u)},u.ɵmod=o.oA({type:u}),u.ɵinj=s.cJ({imports:[c.z]});var l=n(7501),d=n(4190);class h{}h.ɵfac=function(e){return new(e||h)},h.ɵmod=o.oA({type:h}),h.ɵinj=s.cJ({imports:[a._,d.$,l.V]})},4900:(e,t,n)=>{"use strict";n.d(t,{l:()=>f,g:()=>c});var i=n(9147),o=n(8393),s=n(4586),r=n(7305),a=n(5230),g=n(515);class c{constructor(e,t){this._storage=t,this._settings=this._storage.get(),this._settingsDebugging=this._storage.getDebugging(),this._settingsLogging=this._storage.getLogging(),this._settingsChangeSubject=new o.x,this._settingsDebuggingChangeSubject=new o.x,this._settingsValueDiff=e.find(this._settings).create(),this._settingsValueDiff.diff(this._settings),this._settingsDebuggingValueDiff=e.find(this._settingsDebugging).create(),this._settingsDebuggingValueDiff.diff(this._settingsDebugging)}get settings(){return this._settings}get settingsDebugging(){return this._settingsDebugging}get settingsLogging(){return this._settingsLogging}get settingsChange(){return this._settingsChangeSubject.asObservable()}get settingsDebuggingChange(){return this._settingsDebuggingChangeSubject.asObservable()}setSettings(e){this._settings=(0,i.l7)(!0,{},this._settings,e),this._storage.set(e);const t=this._settingsValueDiff.diff(e);t&&t.forEachChangedItem((e=>{this._settingsChangeSubject.next(e.key)}))}setDebuggingSettings(e){this._settingsDebugging=(0,i.l7)(!0,{},this._settingsDebugging,e),this._storage.setDebugging(e);const t=this._settingsDebuggingValueDiff.diff(e);t&&t.forEachChangedItem((e=>{this._settingsDebuggingChangeSubject.next(e.key)}))}setLoggingSettings(e){this._settingsLogging=(0,i.l7)(!0,{},this._settingsLogging,e),this._storage.setLogging(e)}}c.ɵfac=function(e){return new(e||c)(r.LF(a.a),r.LF(s.L))},c.ɵprov=g.Yz({token:c,factory:c.ɵfac,providedIn:"root"});var u=n(4432),l=n(6535);const d="general-settings",h="debugging-settings",p="logging-settings";class f{constructor(e){this._store=e}get(){let e=this._store.get(d);return e=(0,i.l7)(!0,{},{theme:l.v.general.theme,language:l.v.general.language},e),e}set(e){this._store.set(d,e)}getDebugging(){let e=this._store.get(h);return e=(0,i.l7)(!0,{},{consoleEnabled:l.v.debug.consoleEnabled,debugData:l.v.debug.debugData},e),e}setDebugging(e){this._store.set(h,e)}getLogging(){let e=this._store.get(p);return e=(0,i.l7)(!0,{},{consoleLogLevel:l.v.logging.consoleLogLevel},e),e}setLogging(e){this._store.set(p,e)}}f.ɵfac=function(e){return new(e||f)(r.LF(u.T0))},f.ɵprov=g.Yz({token:f,factory:f.ɵfac})}}]);
//# sourceMappingURL=977.client.chunk.edb8888a3fccc5ad82cd.js.map