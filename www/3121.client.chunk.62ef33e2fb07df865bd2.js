"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3121],{13121:(t,e,n)=>{n.r(e),n.d(e,{DefaultModule:()=>K});var r=n(15950),o=n(18713),i=n(41080),s=n(47806),a=n(37921),c=n(83235),u=n(41732),l=n(94539),f=n(33365),p=n(84432),h=n(15871),d=n(8507),m=n(90090),g=n(38662),v=n(73221),_=n(58138),A=n(5617),b=n(88912),w=n(56274),y=n(12900),P=n(46170),q=n(40486),x=n(67550),C=n(19129),E=n(93527),L=n(52548),O=n(36564),Q=n(86917),R=n(22369),S=n(53829),G=n(77177),V=n(48402);function F(t,e){1&t&&(m.Tg(0,"div",12),g._(1),v.AL(2,"translate"),m.qZ()),2&t&&(_.Q("@slideInOut",void 0),A.x(1),b.hi(" ",v.lc(2,2,"Authentication failed! Please check your credentials and try again.")," "))}let Y=class{constructor(t,e,n,r,o,i){this._authService=t,this._router=e,this._activeRoute=n,this._changeDetector=r,this._logger=o,this.authenticationError=!1,this.form=i.group({userName:null,password:null,rememberMe:null})}login(){this._authService.login(this.form.value).pipe((0,d.K)((t=>(this._logger.error(`Failed to log in '${t}'`),this.authenticationError=!0,this._changeDetector.detectChanges(),h.E)))).subscribe((()=>{this.authenticationError=!1,this._changeDetector.detectChanges(),this._activeRoute.snapshot.queryParams.returnUrl?this._router.navigateByUrl(this._activeRoute.snapshot.queryParams.returnUrl):this._router.navigate(["/"])}))}};Y.ɵfac=function(t){return new(t||Y)(w.Y(l.$),w.Y(s.F0),w.Y(a.gz),w.Y(i.s),w.Y(p.bZ),w.Y(c.qu))},Y.ɵcmp=y.Xp({type:Y,selectors:[["login-view"]],hostVars:2,hostBindings:function(t,e){2&t&&P.ek("justify-content-center",!0)},decls:26,vars:23,consts:[[1,"align-self-center"],[1,"text-uppercase","text-center"],["class","alert alert-danger",4,"ngIf"],["role","form",1,"form",3,"formGroup","submit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","userName",1,"form-control",3,"placeholder"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"placeholder"],["for","rememberme"],["type","checkbox","id","rememberme","formControlName","rememberMe"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(m.Tg(0,"div",0)(1,"h1",1),g._(2),v.AL(3,"translate"),m.qZ(),q.Y(4,F,3,4,"div",2),m.Tg(5,"form",3),x.N("submit",(function(){return e.login()})),m.Tg(6,"div",4)(7,"label",5),g._(8),v.AL(9,"translate"),m.qZ(),m._U(10,"input",6),v.AL(11,"translate"),m.qZ(),m.Tg(12,"div",4)(13,"label",7),g._(14),v.AL(15,"translate"),m.qZ(),m._U(16,"input",8),v.AL(17,"translate"),m.qZ(),m.Tg(18,"div",4)(19,"label",9),g._(20),v.AL(21,"translate"),m._U(22,"input",10),m.qZ()(),m.Tg(23,"button",11),g._(24),v.AL(25,"translate"),m.qZ()()()),2&t&&(A.x(2),b.Oq(v.lc(3,9,"gui")),A.x(2),_.Q("ngIf",e.authenticationError),A.x(1),_.Q("formGroup",e.form),A.x(3),b.Oq(v.lc(9,11,"Login")),A.x(2),C.s9("placeholder",v.lc(11,13,"Your login")),A.x(4),b.Oq(v.lc(15,15,"Password")),A.x(2),C.s9("placeholder",v.lc(17,17,"Your password")),A.x(4),b.hi("",v.lc(21,19,"Remember me")," "),A.x(4),b.Oq(v.lc(25,21,"Authenticate")))},dependencies:[G.O,E._,L.Fj,O.W,Q.JJ,Q.JL,R.s,S.u,V.X],encapsulation:2,data:{animation:[f.x]},changeDetection:0}),Y=(0,r.gn)([(0,u.N)({path:"login",data:{animation:"login"}}),(0,r.w6)("design:paramtypes",[l.$,s.F0,a.gz,i.s,Object,c.qu])],Y);var k=n(54285),B=n(41803),N=n(44922),Z=n(83016),T=n(59656),j=n(20931),D=n(63278);const M=function(t){return["/dynamicContent",t]};function U(t,e){if(1&t&&(m.Tg(0,"a",2),g._(1),m.qZ()),2&t){const t=e.$implicit;_.Q("routerLink",T.VK(2,M,t.path)),A.x(1),b.Oq(t.path)}}let I=class{constructor(t){this._dynamicRoutes=t,this.routes=[]}ngOnInit(){this.routes=this._dynamicRoutes.routes}};var z,J;I.ɵfac=function(t){return new(t||I)(w.Y(Z.C))},I.ɵcmp=y.Xp({type:I,selectors:[["home-view"]],decls:3,vars:1,consts:[[1,"flex-column"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,e){1&t&&(g._(0,"Home "),m.Tg(1,"div",0),q.Y(2,U,2,4,"a",1),m.qZ()),2&t&&(A.x(2),_.Q("ngForOf",e.routes))},dependencies:[j.sg,D.y],encapsulation:2,changeDetection:0}),I=(0,r.gn)([("",z="home",function(t){const e=t;if((0,k.fp)(e.routeValues)&&(0,k.fp)(z))return console.warn("Missing 'ComponentRoute' or wrong order of decorators 'ComponentRoute' and 'ComponentRedirectRoute'!"),t;if((0,k.fp)(z)&&(0,k.EN)(e.routeValues)&&e.routeValues.length>1)return console.warn("Multiple routes defined. Unable to set proper redirect!"),t;const n=t;return(0,k.fp)(n.redirectRouteValues)&&Object.defineProperty(t,"redirectRouteValues",{enumerable:!0,configurable:!1,writable:!1,value:[]}),(0,k.fp)(J)&&(J=!0),(0,k.fp)(z)&&(z=e.routeValues[0].path),n.redirectRouteValues.push({path:"",redirectTo:z,pathMatch:J?"full":"prefix"}),t}),(0,B.n)({path:"home"}),(0,N.q)("home-page"),(0,r.w6)("design:paramtypes",[Z.C])],I);const $=[Y,I];var X=n(4571),H=n(10515);let K=class{};K.ɵfac=function(t){return new(t||K)},K.ɵmod=y.oA({type:K}),K.ɵinj=H.cJ({imports:[X._J,X.No,X.nP]}),K=(0,r.gn)([(0,o.P)($)],K)},44922:(t,e,n)=>{n.d(e,{q:()=>o});var r=n(54285);function o(t,e){return function(n){let o;o=(0,r.HD)(t)||Array.isArray(t)?{permission:t}:t;const i=n;return(0,r.fp)(e)?i.permissions=o:(i.routeSpecificPermissions??(i.routeSpecificPermissions={}),i.routeSpecificPermissions[e]=o),n}}},41803:(t,e,n)=>{n.d(e,{n:()=>m});var r=n(41732),o=n(34746),i=n(54285),s=n(69147),a=n(88743),c=n(17305),u=n(905),l=n(10515),f=n(94539),p=n(47806);function h(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}class d{constructor(t,e,n){this._authSvc=t,this._injector=e,this._router=n}canActivate(t){var e,n=this;return(e=function*(){const e=t.component;let r;if(t.routeConfig?.path&&e.routeSpecificPermissions?.[t.routeConfig.path]?r=e.routeSpecificPermissions[t.routeConfig.path]:e.permissions&&(r=e.permissions),!r)return!0;let c=!0;r.addCondition&&(c=yield r.addCondition(n._injector));const u=n._authSvc.userIdentity;if((0,i.fp)(u))throw new Error("AuthenticationService must be initialized before first use of AuthGuard");const l=(0,a.g)(u.permissions,r.permission,r.andCondition??!1,r.conditionString??!1,c),f=new o.uV((0,s.s6)(t.pathFromRoot.map((t=>t.url))),{}),p=new o.lo;p.root=f,p.queryParams={};const h=n._router.serializeUrl(p);return!l&&u.isAuthenticated?(n._authSvc.showAccessDenied(),!1):!!(l||u.isAuthenticated||n._authSvc.isAuthPage(h))||(n._authSvc.showAuthPage(),!1)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(t){h(i,r,o,s,a,"next",t)}function a(t){h(i,r,o,s,a,"throw",t)}s(void 0)}))})()}}function m(t){return t.canActivate??(t.canActivate=[]),t.canActivate.indexOf(d)<0&&t.canActivate.push(d),(0,r.N)(t)}d.ɵfac=function(t){return new(t||d)(c.LF(f.$),c.LF(u.z),c.LF(p.F0))},d.ɵprov=l.Yz({token:d,factory:d.ɵfac,providedIn:"root"})},41732:(t,e,n)=>{n.d(e,{N:()=>o});var r=n(54285);function o(t){return function(e){const n=t;n.component=e;const o=e;return(0,r.fp)(o.routeValues)&&Object.defineProperty(e,"routeValues",{enumerable:!0,configurable:!1,writable:!1,value:[]}),o.routeValues.push(n),e}}},19129:(t,e,n)=>{n.d(e,{D:()=>g,FA:()=>p,H6:()=>v,MG:()=>u,XO:()=>h,bR:()=>m,cQ:()=>f,hY:()=>l,pb:()=>d,s9:()=>c});var r=n(50603),o=n(91742),i=n(51869),s=n(15806),a=n(19998);function c(t,e,n){return u(t,"",e,"",n),c}function u(t,e,n,c,l){const f=(0,o.QE)(),p=(0,s.Ai)(f,e,n,c);if(p!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,f,t,p,f[r._B],l,!1)}return u}function l(t,e,n,c,u,f,p){const h=(0,o.QE)(),d=(0,s.SP)(h,e,n,c,u,f);if(d!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,h,t,d,h[r._B],p,!1)}return l}function f(t,e,n,c,u,l,p,h,d){const m=(0,o.QE)(),g=(0,s.ab)(m,e,n,c,u,l,p,h);if(g!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,m,t,g,m[r._B],d,!1)}return f}function p(t,e,n,c,u,l,f,h,d,m,g){const v=(0,o.QE)(),_=(0,s.Kj)(v,e,n,c,u,l,f,h,d,m);if(_!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,v,t,_,v[r._B],g,!1)}return p}function h(t,e,n,c,u,l,f,p,d,m,g,v,_){const A=(0,o.QE)(),b=(0,s.EM)(A,e,n,c,u,l,f,p,d,m,g,v);if(b!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,A,t,b,A[r._B],_,!1)}return h}function d(t,e,n,c,u,l,f,p,h,m,g,v,_,A,b){const w=(0,o.QE)(),y=(0,s.IA)(w,e,n,c,u,l,f,p,h,m,g,v,_,A);if(y!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,w,t,y,w[r._B],b,!1)}return d}function m(t,e,n,c,u,l,f,p,h,d,g,v,_,A,b,w,y){const P=(0,o.QE)(),q=(0,s.tx)(P,e,n,c,u,l,f,p,h,d,g,v,_,A,b,w);if(q!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,P,t,q,P[r._B],y,!1)}return m}function g(t,e,n,c,u,l,f,p,h,d,m,v,_,A,b,w,y,P,q){const x=(0,o.QE)(),C=(0,s._V)(x,e,n,c,u,l,f,p,h,d,m,v,_,A,b,w,y,P);if(C!==i.l){const e=(0,o.GP)(),n=(0,o.A3)();(0,a.ig)(e,n,x,t,C,x[r._B],q,!1)}return g}function v(t,e,n){const c=(0,o.QE)(),u=(0,s.uG)(c,e);if(u!==i.l){const e=(0,o.GP)(),i=(0,o.A3)();(0,a.ig)(e,i,c,t,u,c[r._B],n,!1)}return v}}}]);
//# sourceMappingURL=3121.client.chunk.62ef33e2fb07df865bd2.js.map