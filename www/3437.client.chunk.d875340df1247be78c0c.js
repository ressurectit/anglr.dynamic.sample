"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3437],{25434:(t,n,e)=>{e.d(n,{b:()=>j});var o=e(12405),i=e(41762),a=e(6631),s=e(65540),r=e(74062),c=e(73512),u=e(14958),l=e(19598),d=e(13816),p=e(55163),m=e(89033);class f{constructor(t){this.defaultValue=null,this.name="",this.skipInit=!1,d.Rl.bind(this)(t)}}var g=e(57165),v=e(50478),y=e(38256),h=e(27805),b=e(63289),x=e(52455),w=e(37654),k=e(13341),_=e(18968),C=e(94128),q=e(83210),E=e(5419),N=e(28588),O=e(81473),T=e(86039),Z=e(33250),I=e(58433),S=e(49308),P=e(48215),U=e(78525),Y=e(97503);function D(t,n,e,o,i,a,s){try{var r=t[a](s),c=r.value}catch(t){return void e(t)}r.done?n(c):Promise.resolve(c).then(o,i)}function J(t,n){1&t&&(g.Tg(0,"div",1)(1,"label",2),g._U(2,"input",9),v._(3," skip init "),g.qZ()())}function Q(t,n){if(1&t){const t=y.E();g.Tg(0,"div",10)(1,"button",11),h.N("click",(function(){b.CH(t);const n=x.o();return b.Kt(n.showCodeEditor())})),g.Tg(2,"span"),v._(3,"default value"),g.qZ()()()}}class j{constructor(t,n,e){this.data=t,this.dialog=n,this.form=e.build(new f(t)),this.form.valueChanges.subscribe((n=>(0,d.l7)(t,n)))}showCodeEditor(){var t,n=this;return(t=function*(){const t=(0,p.EN)(n.data.defaultValue)?JSON.stringify(n.data.defaultValue,null,4):"",e=yield(0,m.n)(n.dialog.open(c.I,{title:"Code editor",width:"75vw",height:"75vh",data:{content:t,languageModel:u.H}}).afterClosed());(0,p.EN)(e)&&(n.data.defaultValue=(0,l.LK)(e.content))},function(){var n=this,e=arguments;return new Promise((function(o,i){var a=t.apply(n,e);function s(t){D(a,o,i,s,r,"next",t)}function r(t){D(a,o,i,s,r,"throw",t)}s(void 0)}))})()}}j.ɵfac=function(t){return new(t||j)(w.Y(s.m),w.Y(O.J),w.Y(r.p))},j.ɵcmp=k.Xp({type:j,selectors:[["configure-node-endpoint"]],standalone:!0,features:[_._([r.p]),C.j],decls:14,vars:5,consts:[[3,"formGroup"],[1,"dynamic-form-group","dynamic-margin-bottom-extra-small"],[1,"dynamic-control-label","dynamic-text-uppercase"],["type","text","formControlName","name",1,"dynamic-form-control"],["class","dynamic-form-group dynamic-margin-bottom-extra-small",4,"ngIf"],["class","dynamic-flex-column dynamic-margin-bottom-extra-small",4,"ngIf"],[1,"dynamic-flex-row","dynamic-flex-end"],["type","button",1,"dynamic-btn","dynamic-btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"mat-dialog-close"],["type","checkbox","formControlName","skipInit"],[1,"dynamic-flex-column","dynamic-margin-bottom-extra-small"],["type","button",1,"dynamic-btn","dynamic-btn-primary","dynamic-align-self-center",3,"click"]],template:function(t,n){1&t&&(g.Tg(0,"div",0)(1,"div",1)(2,"label",2),v._(3,"name"),g.qZ(),g._U(4,"input",3),g.qZ(),q.Y(5,J,4,0,"div",4),q.Y(6,Q,4,0,"div",5),g.qZ(),g.Tg(7,"div",6)(8,"button",7)(9,"span"),v._(10,"cancel"),g.qZ()(),g.Tg(11,"button",8)(12,"span"),v._(13,"ok"),g.qZ()()()),2&t&&(E.Q("formGroup",n.form),N.x(5),E.Q("ngIf",n.data.allowSkipInit),N.x(1),E.Q("ngIf",!n.data.noDefaultValue),N.x(2),E.Q("mat-dialog-close",null),N.x(3),E.Q("mat-dialog-close",!0))},dependencies:[i.U,T.Fj,Z.W,I.JJ,I.JL,S.s,P.u,a.I,U.ZT,o.e,Y.O],encapsulation:2,changeDetection:0})},53437:(t,n,e)=>{e.r(n),e.d(n,{ComponentOutputsRelationsEditorMetadata:()=>S});var o=e(12405),i=e(12125),a=e(32123),s=e(74957),r=e(13816),c=e(89033),u=e(25434),l=e(38256),d=e(57165),p=e(50478),m=e(27805),f=e(63289),g=e(52455),v=e(28588),y=e(5419),h=e(4149),b=e(37654),x=e(66382),w=e(47948),k=e(13341),_=e(52900),C=e(94128),q=e(83210),E=e(81473),N=e(15704);function O(t,n,e,o,i,a,s){try{var r=t[a](s),c=r.value}catch(t){return void e(t)}r.done?n(c):Promise.resolve(c).then(o,i)}function T(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var a=t.apply(n,e);function s(t){O(a,o,i,s,r,"next",t)}function r(t){O(a,o,i,s,r,"throw",t)}s(void 0)}))}}function Z(t,n){if(1&t){const t=l.E();d.Tg(0,"div",9),d._U(1,"relation-node-input",10),d.Tg(2,"div",5)(3,"div"),p._(4),d.qZ(),d.Tg(5,"button",11),m.N("click",(function(n){const e=f.CH(t).$implicit,o=g.o();return n.preventDefault(),n.stopPropagation(),f.Kt(o.configureEndpoint(e))})),d._U(6,"span",12),d.qZ(),d.Tg(7,"button",13),m.N("click",(function(n){const e=f.CH(t).$implicit,o=g.o();return n.preventDefault(),n.stopPropagation(),f.Kt(o.removeEndpoint(e))})),d._U(8,"span",14),d.qZ()()()}if(2&t){const t=n.$implicit,e=g.o();v.x(1),y.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e),v.x(3),h.Oq(t.name)}}class I extends i.M{get endpoints(){var t,n;return this.metadata?((t=this.metadata).relationsOptions??(t.relationsOptions={outputs:[]}),(n=this.metadata.relationsOptions).outputs??(n.outputs=[])):[]}constructor(t,n,e){super(t,n),this.dialog=e}addEndpoint(){var t=this;return T((function*(){const n={name:"",defaultValue:null,skipInit:!1,allowSkipInit:!0};(yield t.configureEndpoint(n))&&(t.endpoints.push(n),t.history.getNewState())}))()}removeEndpoint(t){const n=this.endpoints.indexOf(t);n>=0&&(this.endpoints.splice(n,1),this.history.getNewState())}configureEndpoint(t){var n=this;return T((function*(){const e=JSON.parse(JSON.stringify(t)),o=yield(0,c.n)(n.dialog.open(u.b,{title:"configure component output",width:"60vw",data:t}).afterClosed());return o?n.history.getNewState():(0,r.l7)(t,e),o??!1}))()}}I.ɵfac=function(t){return new(t||I)(b.Y(x.s),b.Y(w.SB),b.Y(E.J))},I.ɵcmp=k.Xp({type:I,selectors:[["component-outputs-node"]],standalone:!0,features:[_.q,C.j],decls:9,vars:3,consts:[["name","component inputs",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],["class","input",4,"ngFor","ngForOf"],[1,"dynamic-flex-row"],["type","button",1,"dynamic-btn-icon","dynamic-margin-left-extra-small",3,"click"],[1,"fas","fa-plus"],[1,"outputs"],[1,"input"],[3,"parentCoordiantes","zoomLevel","name","parent"],["type","button",1,"dynamic-btn-icon","dynamic-margin-horizontal-extra-small",3,"click"],[1,"fas","fa-cog"],["type","button",1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"]],template:function(t,n){1&t&&(d._U(0,"relations-node-header",0),d.Tg(1,"div",1)(2,"div",2)(3,"div",3),q.Y(4,Z,9,5,"div",4),d.Tg(5,"div",5)(6,"button",6),m.N("click",(function(t){return t.preventDefault(),t.stopPropagation(),n.addEndpoint()})),d._U(7,"span",7),d.qZ()()(),d._U(8,"div",8),d.qZ()()),2&t&&(y.Q("parent",n)("destroySubject",n.destroySubject),v.x(4),y.Q("ngForOf",n.endpoints))},dependencies:[o.e,N.sg,a.e,s.P],encapsulation:2,changeDetection:0});class S{constructor(){this.metaInfo={name:"Component outputs",description:"Definition of relations component outputs",group:"Component"},this.nodeDefinition=I,Object.freeze(this)}}}}]);
//# sourceMappingURL=3437.client.chunk.d875340df1247be78c0c.js.map