"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9956],{9956:(t,e,n)=>{n.r(e),n.d(e,{TransformDataRelationsEditorMetadata:()=>_});var a=n(73512),o=n(60953),r=n(12125),i=n(32123),s=n(74957),d=n(69445),u=n(13816),c=n(71498),p=n(89033),m=n(37654),f=n(66382),l=n(47948),v=n(13341),h=n(52900),y=n(94128),g=n(57165),T=n(50478),D=n(27805),w=n(5419),b=n(28588),x=n(81473);function C(t,e,n,a,o,r,i){try{var s=t[r](i),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}c.Mj.typescript.typescriptDefaults.addExtraLib("/**\n * Transforms data to another form of data\n * @param data - Data to be transformed\n */\nexport type TransformData<TData = any, TResult = any> = (data: TData) => TResult;\n//# sourceMappingURL=transformData.interface.d.ts.map","file:///node_modules/@types/transformData/index.d.ts");class M extends r.M{constructor(t,e,n){super(t,e),this.dialog=n}showCodeEditor(){var t,e=this;return(t=function*(){var t;const n=yield(0,p.n)(e.dialog.open(a.I,{title:"Code editor",width:"75vw",height:"75vh",data:{content:e.metadata?.nodeMetadata?.options?.content??"",languageModel:(0,o.A)("import {TransformData} from 'transformData';\n\n/**\n * Transformer function that performs transformation\n */\nconst transformer: TransformData<any, any> = data =>\n{\n    return data;\n};\n \nexport default transformer;\n")}}).afterClosed());e.metadata?.relationsOptions&&n&&e.metadata.nodeMetadata&&(e.metadata.relationsOptions.code=n.code,(t=e.metadata.nodeMetadata).options??(t.options={content:""}),e.metadata.nodeMetadata.options.content=n.content,e.history.getNewState())},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){C(r,a,o,i,s,"next",t)}function s(t){C(r,a,o,i,s,"throw",t)}i(void 0)}))})()}metadataSet(){var t;this.metadata?.relationsOptions&&((t=this.metadata.relationsOptions).id??(t.id=(0,u.Ox)(12)))}}M.ɵfac=function(t){return new(t||M)(m.Y(f.s),m.Y(l.SB),m.Y(x.J))},M.ɵcmp=v.Xp({type:M,selectors:[["transform-data-node"]],standalone:!0,features:[h.q,y.j],decls:16,vars:8,consts:[["name","transform data",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],[1,"input"],["name","data",3,"parentCoordiantes","zoomLevel","parent"],[1,"outputs"],[1,"output"],["name","transformedData",3,"parentCoordiantes","zoomLevel","parent"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(t,e){1&t&&(g._U(0,"relations-node-header",0),g.Tg(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),g._U(5,"relation-node-input",5),g.Tg(6,"div"),T._(7,"data"),g.qZ()()(),g.Tg(8,"div",6)(9,"div",7)(10,"div"),T._(11,"transformed data"),g.qZ(),g._U(12,"relation-node-output",8),g.qZ()()(),g.Tg(13,"button",9),D.N("click",(function(){return e.showCodeEditor()})),g.Tg(14,"span"),T._(15,"code"),g.qZ()()()),2&t&&(w.Q("parent",e)("destroySubject",e.destroySubject),b.x(5),w.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e),b.x(7),w.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e))},dependencies:[i.e,s.P,d.n],encapsulation:2,changeDetection:0});class _{constructor(){this.metaInfo={name:"Transform data",description:"Code that allows data tranformation",group:"Data"},this.nodeDefinition=M,Object.freeze(this)}}},60953:(t,e,n)=>{n.d(e,{A:()=>i});var a=n(71498),o=n(22957);function r(t,e,n,a,o,r,i){try{var s=t[r](i),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}const i=t=>new o.y("typescript","ts",function(){var t,e=(t=function*(t){const e=t.getModel()?.uri;if(!e)return"";const n=yield a.Mj.typescript.getTypeScriptWorker(),o=yield n(e);return(yield o.getEmitOutput(e.toString())).outputFiles[0].text},function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function s(t){r(i,a,o,s,d,"next",t)}function d(t){r(i,a,o,s,d,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}(),t)}}]);
//# sourceMappingURL=9956.client.chunk.2bb4d8b5b7c4a4047cfe.js.map