{"version":3,"file":"2125.client.chunk.83b109c25b276fe06e58.js","mappings":"2XAAA,SAASA,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GAAO,IAAM,IAAIC,EAAOP,EAAIK,GAAKC,GAAUE,EAAQD,EAAKC,KAAgD,CAAvC,MAAOC,GAAwB,YAAfP,EAAOO,EAAgB,CAAMF,EAAKG,KAAQT,EAAQO,GAAiBG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAAW,CAgBjQ,MAAMS,UAAsC,IAEjDC,YAAYC,EAAgBC,EAASC,GACnCC,MAAMH,EAAgBC,GACtBG,KAAKF,OAASA,CAChB,CAOAG,iBACE,IA3BuBC,EA2BnBC,EAAQH,KAEZ,OA7BuBE,EA6BE,YACvB,MAAME,QAAe,EAAAC,EAAA,GAAcF,EAAML,OAAOQ,KAAK,IAAsC,CACzFC,MAAO,mBACPC,MAAO,OACPC,OAAQ,OACRC,KAAMP,EAAMQ,UAAUC,kBAAkBC,SAAW,KAClDC,gBAEC,QAAUV,IACRD,EAAMQ,UAAUC,mBAClBT,EAAMQ,SAASC,iBAAiBC,QAAUT,EAE1CD,EAAMY,QAAQC,cAGpB,EA5CoC,WAAc,IAAIC,EAAOjB,KAAMkB,EAAOC,UAAW,OAAO,IAAI3B,SAAQ,SAAUV,EAASC,GAAU,IAAIF,EAAMqB,EAAGkB,MAAMH,EAAMC,GAAO,SAASlC,EAAMK,GAAST,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAAQ,CAAE,SAASJ,EAAOoC,GAAOzC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASoC,EAAM,CAAErC,OAAMsC,EAAY,GAAI,IA6C/X,EAIF5B,EAA8B,KAAO,SAA+C6B,GAClF,OAAO,IAAKA,GAAK7B,GAA+B,IAAqB,KAAuB,IAAqB,MAAgB,IAAqB,KACxJ,EAEAA,EAA8B,KAAsB,KAAqB,CACvE8B,KAAM9B,EACN+B,UAAW,CAAC,CAAC,0BACbC,YAAY,EACZC,SAAU,CAAC,IAA+B,KAC1CC,MAAO,GACPC,KAAM,EACNC,OAAQ,CAAC,CAAC,OAAQ,mBAAoB,EAAG,SAAU,kBAAmB,CAAC,EAAG,gBAAiB,CAAC,EAAG,kBAAmB,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,OAAQ,aAAc,EAAG,oBAAqB,YAAa,UAAW,CAAC,OAAQ,SAAU,EAAG,cAAe,sBAAuB,EAAG,UACtSC,SAAU,SAAgDC,EAAIC,GACnD,EAALD,IACF,KAAa,EAAG,wBAAyB,GACzC,KAAkB,EAAG,MAAO,EAA5B,CAA+B,EAAG,MAAO,GACzC,KAAa,EAAG,MAAO,GACvB,KAAkB,EAAG,MAAO,EAA5B,CAA+B,EAAG,MAAO,EAAzC,CAA4C,EAAG,OAC/C,IAAU,EAAG,eACb,OACA,KAAa,EAAG,uBAAwB,GACxC,WACA,KAAkB,EAAG,SAAU,GAC/B,IAAc,SAAS,WACrB,OAAOC,EAAIhC,gBACb,IACA,KAAkB,GAAI,QACtB,IAAU,GAAI,WACd,YAGO,EAAL+B,IACF,IAAc,SAAUC,EAAxB,CAA6B,iBAAkBA,EAAIC,gBACnD,IAAa,GACb,IAAc,oBAAqBD,EAAIE,aAAvC,CAAqD,YAAaF,EAAIG,UAAtE,CAAiF,SAAUH,GAE/F,EACAI,aAAc,CAAC,IAAgC,KAC/CC,cAAe,EACfC,gBAAiB,ICrFZ,MAAMC,EAEX7C,cAMEK,KAAKyC,SAAW,CACdC,KAAM,mBACNC,YAAa,iCACbC,MAAO,SAMT5C,KAAK6C,eAAiBnD,EACtBoD,OAAOC,OAAO/C,KAChB,E","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/tinymce-components/src/dynamicItems/richTextSource/node/richTextSourceNode.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/tinymce-components/src/dynamicItems/richTextSource/metadata/richTextSource.relationsMetadata.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef } from '@angular/core';\nimport { RelationsNodeBase, RelationNodeOutputSAComponent, RelationsNodeHeaderSAComponent } from '@anglr/dynamic/relations-editor';\nimport { TitledDialogService } from '@anglr/common/material';\nimport { isPresent } from '@jscrpt/common';\nimport { lastValueFrom } from 'rxjs';\nimport { RichTextBlockEditorDialogSAComponent } from '../../richTextBlock/misc/components';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@anglr/common/material\";\n/**\n * Relations node component for rich text source\n */\n\nexport class RichTextSourceNodeSAComponent extends RelationsNodeBase {\n  //######################### constructor #########################\n  constructor(changeDetector, element, dialog) {\n    super(changeDetector, element);\n    this.dialog = dialog;\n  } //######################### protected methods - template bindings #########################\n\n  /**\n   * Shows code editor\n   */\n\n\n  showCodeEditor() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const result = yield lastValueFrom(_this.dialog.open(RichTextBlockEditorDialogSAComponent, {\n        title: 'Rich text editor',\n        width: '75vw',\n        height: '75vh',\n        data: _this.metadata?.relationsOptions?.content ?? ''\n      }).afterClosed());\n\n      if (isPresent(result)) {\n        if (_this.metadata?.relationsOptions) {\n          _this.metadata.relationsOptions.content = result;\n\n          _this.history.getNewState();\n        }\n      }\n    })();\n  }\n\n}\n\nRichTextSourceNodeSAComponent.ɵfac = function RichTextSourceNodeSAComponent_Factory(t) {\n  return new (t || RichTextSourceNodeSAComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.TitledDialogService));\n};\n\nRichTextSourceNodeSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: RichTextSourceNodeSAComponent,\n  selectors: [[\"rich-text-source-node\"]],\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 12,\n  vars: 5,\n  consts: [[\"name\", \"rich text source\", 3, \"parent\", \"destroySubject\"], [1, \"node-content\"], [1, \"inputs-outputs\"], [1, \"inputs\"], [1, \"outputs\"], [1, \"output\"], [\"name\", \"htmlString\", 3, \"parentCoordiantes\", \"zoomLevel\", \"parent\"], [\"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-primary\", 3, \"click\"]],\n  template: function RichTextSourceNodeSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"relations-node-header\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"div\");\n      i0.ɵɵtext(7, \"html string\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"relation-node-output\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function RichTextSourceNodeSAComponent_Template_button_click_9_listener() {\n        return ctx.showCodeEditor();\n      });\n      i0.ɵɵelementStart(10, \"span\");\n      i0.ɵɵtext(11, \"content\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"parent\", ctx)(\"destroySubject\", ctx.destroySubject);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"parentCoordiantes\", ctx.nodePosition)(\"zoomLevel\", ctx.zoomLevel)(\"parent\", ctx);\n    }\n  },\n  dependencies: [RelationsNodeHeaderSAComponent, RelationNodeOutputSAComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RichTextSourceNodeSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'rich-text-source-node',\n      standalone: true,\n      imports: [RelationsNodeHeaderSAComponent, RelationNodeOutputSAComponent],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<relations-node-header [parent]=\\\"this\\\" [destroySubject]=\\\"destroySubject\\\" name=\\\"rich text source\\\"></relations-node-header>\\n\\n<div class=\\\"node-content\\\">\\n    <div class=\\\"inputs-outputs\\\">\\n        <div class=\\\"inputs\\\">\\n        </div>\\n    \\n        <div class=\\\"outputs\\\">\\n            <div class=\\\"output\\\">\\n                <div>html string</div>\\n                <relation-node-output [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" name=\\\"htmlString\\\" [parent]=\\\"this\\\"></relation-node-output>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <button type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-primary\\\" (click)=\\\"showCodeEditor()\\\">\\n        <span>content</span>\\n    </button>\\n</div>\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i1.TitledDialogService\n    }];\n  }, null);\n})();","import { RichTextSourceNodeSAComponent } from '../node/richTextSourceNode.component';\n/**\n * Rich text source relations metadata\n */\n\nexport class RichTextSourceRelationsEditorMetadata {\n  //######################### constructor #########################\n  constructor() {\n    //######################### public properties - implementation of RelationsEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    this.metaInfo = {\n      name: 'Rich text source',\n      description: 'Provides rich text source node',\n      group: 'Texts'\n    };\n    /**\n     * @inheritdoc\n     */\n\n    this.nodeDefinition = RichTextSourceNodeSAComponent;\n    Object.freeze(this);\n  }\n\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","RichTextSourceNodeSAComponent","constructor","changeDetector","element","dialog","super","this","showCodeEditor","fn","_this","result","lastValueFrom","open","title","width","height","data","metadata","relationsOptions","content","afterClosed","history","getNewState","self","args","arguments","apply","err","undefined","t","type","selectors","standalone","features","decls","vars","consts","template","rf","ctx","destroySubject","nodePosition","zoomLevel","dependencies","encapsulation","changeDetection","RichTextSourceRelationsEditorMetadata","metaInfo","name","description","group","nodeDefinition","Object","freeze"],"sourceRoot":""}