"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[688],{688:(t,e,n)=>{n.r(e),n.d(e,{TransformDataRelationsEditorMetadata:()=>S});var a=n(73512),o=n(71498),r=n(22957);function i(t,e,n,a,o,r,i){try{var s=t[r](i),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}const s=t=>new r.y("typescript","ts",function(){var t,e=(t=function*(t){const e=t.getModel()?.uri;if(!e)return"";const n=yield o.Mj.typescript.getTypeScriptWorker(),a=yield n(e);return(yield a.getEmitOutput(e.toString())).outputFiles[0].text},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function s(t){i(r,a,o,s,d,"next",t)}function d(t){i(r,a,o,s,d,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}(),t);var d=n(12125),c=n(32123),u=n(74957),p=n(69445),m=n(13816),l=n(89033),f=n(37654),v=n(66382),h=n(47948),y=n(13341),g=n(52900),T=n(94128),D=n(12890),w=n(50478),b=n(27805),x=n(5419),C=n(28588),M=n(81473);function _(t,e,n,a,o,r,i){try{var s=t[r](i),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}o.Mj.typescript.typescriptDefaults.addExtraLib("/**\n * Transforms data to another form of data\n * @param data - Data to be transformed\n */\nexport declare type TransformData<TData = any, TResult = any> = (data: TData) => TResult;\n//# sourceMappingURL=transformData.interface.d.ts.map","file:///node_modules/@types/transformData/index.d.ts");class L extends d.M{constructor(t,e,n){super(t,e),this.dialog=n}showCodeEditor(){var t,e=this;return(t=function*(){var t;const n=yield(0,l.n)(e.dialog.open(a.I,{title:"Code editor",width:"75vw",height:"75vh",data:{content:e.metadata?.nodeMetadata?.options?.content??"",languageModel:s("import {TransformData} from 'transformData';\n\n/**\n * Transformer function that performs transformation\n */\nconst transformer: TransformData<any, any> = data =>\n{\n    return data;\n};\n \nexport default transformer;\n")}}).afterClosed());e.metadata?.relationsOptions&&n&&e.metadata.nodeMetadata&&(e.metadata.relationsOptions.code=n.code,(t=e.metadata.nodeMetadata).options??(t.options={content:""}),e.metadata.nodeMetadata.options.content=n.content,e.history.getNewState())},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){_(r,a,o,i,s,"next",t)}function s(t){_(r,a,o,i,s,"throw",t)}i(void 0)}))})()}metadataSet(){var t;this.metadata?.relationsOptions&&((t=this.metadata.relationsOptions).id??(t.id=(0,m.Ox)(12)))}}L.ɵfac=function(t){return new(t||L)(f.Y(v.s),f.Y(h.SB),f.Y(M.J))},L.ɵcmp=y.Xp({type:L,selectors:[["transform-data-node"]],standalone:!0,features:[g.q,T.j],decls:16,vars:8,consts:[["name","transform data",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],[1,"input"],["name","data",3,"parentCoordiantes","zoomLevel","parent"],[1,"outputs"],[1,"output"],["name","transformedData",3,"parentCoordiantes","zoomLevel","parent"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(t,e){1&t&&(D._U(0,"relations-node-header",0),D.Tg(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D._U(5,"relation-node-input",5),D.Tg(6,"div"),w._(7,"data"),D.qZ()()(),D.Tg(8,"div",6)(9,"div",7)(10,"div"),w._(11,"transformed data"),D.qZ(),D._U(12,"relation-node-output",8),D.qZ()()(),D.Tg(13,"button",9),b.N("click",(function(){return e.showCodeEditor()})),D.Tg(14,"span"),w._(15,"code"),D.qZ()()()),2&t&&(x.Q("parent",e)("destroySubject",e.destroySubject),C.x(5),x.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e),C.x(7),x.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e))},dependencies:[c.e,u.P,p.n],encapsulation:2,changeDetection:0});class S{constructor(){this.metaInfo={name:"Transform data",description:"Code that allows data tranformation",group:"Data"},this.nodeDefinition=L,Object.freeze(this)}}}}]);
//# sourceMappingURL=688.client.chunk.60a34dd8e8b65e3edebc.js.map