{"version":3,"file":"4930.client.chunk.c271627552e7b245cbb2.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/gridPanel/gridPanel.metadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/gridPanel/gridPanel.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/gridPanel/type.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorMetadata/layoutEditorMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/components/layoutComponentBase/layoutComponentBase.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/extensions/componentStyling/componentStyling.extension.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/decorators/dynamicMetadata/dynamicClassMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/misc/dynamicItemExtensionBase.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Grid panel layout metadata loader\n */\nexport const GridPanelLayoutMetadataLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/gridPanel.layoutMetadata')).GridPanelLayoutEditorMetadata();\n  });\n\n  return function GridPanelLayoutMetadataLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();","import { __decorate } from \"tslib\";\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LayoutComponentBase, LayoutComponentRendererSADirective } from '@anglr/dynamic/layout';\nimport { LayoutEditorMetadata } from '@anglr/dynamic/layout-editor';\nimport { generateId } from '@jscrpt/common';\nimport { GridPanelLayoutMetadataLoader } from './gridPanel.metadata';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n/**\n * Component used for displaying grid panel layout\n */\n\nfunction GridPanelSAComponent_ng_container_0_ng_template_1_Template(rf, ctx) {}\n\nfunction GridPanelSAComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GridPanelSAComponent_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const type_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"layoutComponentRenderer\", type_r1);\n  }\n}\n\nlet GridPanelSAComponent = class GridPanelSAComponent extends LayoutComponentBase {\n  //######################### protected methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n  onOptionsSet() {\n    this._fixCells();\n\n    const style = this.componentElement.nativeElement.style;\n    let gridTemplateRows = '';\n    let gridTemplateColumns = '';\n\n    if (this.options?.rows && Array.isArray(this.options?.rows)) {\n      for (const row of this.options.rows) {\n        gridTemplateRows += `${row.height} `;\n      }\n    }\n\n    if (this.options?.columns && Array.isArray(this.options?.columns)) {\n      for (const column of this.options.columns) {\n        gridTemplateColumns += `${column.width} `;\n      }\n    }\n\n    style.gridTemplateRows = gridTemplateRows.trim();\n    style.gridTemplateColumns = gridTemplateColumns.trim();\n  } //######################### protected methods #########################\n\n  /**\n   * Fixes cell metadata\n   */\n\n\n  _fixCells() {\n    var _a;\n\n    if (!this.options) {\n      return;\n    }\n\n    (_a = this.options).cells ?? (_a.cells = []);\n    const grid = [];\n\n    for (let y = 0; y < (this.options.rows ?? []).length; y++) for (let x = 0; x < (this.options.columns ?? []).length; x++) {\n      grid[y] ?? (grid[y] = []);\n      grid[y][x] = '';\n    }\n\n    for (const cell of this.options.cells) {\n      cell.package = 'basic-components';\n      cell.name = 'gridPanelCell';\n\n      for (let y = cell.options?.gridRowStart ?? 1; y < (cell.options?.gridRowEnd ?? 2); y++) for (let x = cell.options?.gridColumnStart ?? 1; x < (cell.options?.gridColumnEnd ?? 2); x++) {\n        const yCoordinate = y - 1;\n        const xCoordinate = x - 1;\n\n        if (grid[yCoordinate][xCoordinate] === '') {\n          grid[yCoordinate][xCoordinate] = cell.id;\n        }\n      }\n    }\n\n    for (let y = 1; y <= (this.options.rows ?? []).length; y++) for (let x = 1; x <= (this.options.columns ?? []).length; x++) {\n      if (grid[y - 1][x - 1] === '') {\n        this.options.cells.push({\n          id: `${generateId(6)}-r${y}-${y + 1}-c${x}-${x + 1}`,\n          package: 'basic-components',\n          name: 'gridPanelCell',\n          options: {\n            gridRowStart: y,\n            gridRowEnd: y + 1,\n            gridColumnStart: x,\n            gridColumnEnd: x + 1\n          }\n        });\n      }\n    }\n  }\n\n};\n\nGridPanelSAComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵGridPanelSAComponent_BaseFactory;\n  return function GridPanelSAComponent_Factory(t) {\n    return (ɵGridPanelSAComponent_BaseFactory || (ɵGridPanelSAComponent_BaseFactory = i0.ɵɵgetInheritedFactory(GridPanelSAComponent)))(t || GridPanelSAComponent);\n  };\n}();\n\nGridPanelSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: GridPanelSAComponent,\n  selectors: [[\"grid-panel\"]],\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"layoutComponentRenderer\"]],\n  template: function GridPanelSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GridPanelSAComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.options == null ? null : ctx.options.cells);\n    }\n  },\n  dependencies: [CommonModule, i1.NgForOf, LayoutComponentRendererSADirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\nGridPanelSAComponent = __decorate([LayoutEditorMetadata(GridPanelLayoutMetadataLoader)], GridPanelSAComponent);\nexport { GridPanelSAComponent };\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GridPanelSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'grid-panel',\n      standalone: true,\n      imports: [CommonModule, LayoutComponentRendererSADirective],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<ng-container *ngFor=\\\"let type of options?.cells\\\">\\n    <ng-template [layoutComponentRenderer]=\\\"type\\\"></ng-template>\\n</ng-container>\"\n    }]\n  }], null, null);\n})();","import { ComponentStylingExtension } from '@anglr/dynamic/layout';\nimport { GridPanelSAComponent } from './gridPanel.component';\nexport default GridPanelSAComponent;\nexport const extensions = [ComponentStylingExtension];","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor metadata to class on which is this decorator applied\n * @param metadataLoader - Layout editor metadata loader function used for obtaining metadata\n */\n\nexport function LayoutEditorMetadata(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorMetadata');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectorRef, Directive, ElementRef, Inject, Injector, Optional } from '@angular/core';\nimport { LOGGER } from '@anglr/common';\nimport { isEmptyObject, nameof } from '@jscrpt/common';\nimport * as i0 from \"@angular/core\";\n/**\n * Base component for layout component\n */\n\nexport class LayoutComponentBase {\n  //######################### constructor #########################\n  constructor(changeDetector, componentElement, injector, logger) {\n    this.changeDetector = changeDetector;\n    this.componentElement = componentElement;\n    this.injector = injector;\n    this.logger = logger; //######################### protected fields #########################\n\n    /**\n     * Array of extensions that are registered for component\n     */\n\n    this.extensions = [];\n    /**\n     * Indication whether initialization was already done\n     */\n\n    this.initialized = false;\n    /**\n     * Indication whether was component destroyed\n     */\n\n    this.destroyed = false;\n  } //######################### protected properties #########################\n\n  /**\n   * Gets element that is used within extension\n   */\n\n\n  get element() {\n    return this.componentElement;\n  }\n  /**\n   * Gets options that are used within extension\n   */\n\n\n  get extensionsOptions() {\n    return this.options;\n  } //######################### public methods - implementation of OnDestroy #########################\n\n  /**\n   * Called when component is destroyed\n   */\n\n\n  ngOnDestroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    for (const ext of this.extensions) {\n      ext.destroy();\n    }\n\n    this.onDestroy();\n  } //######################### public methods - implementation of LayoutComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) {\n        return;\n      }\n\n      _this.initialized = true;\n      const extensionsOptions = _this.extensionsOptions;\n      yield _this.onInit();\n      yield _this.onOptionsSet();\n\n      if (extensionsOptions) {\n        for (const extension of _this.extensions) {\n          yield extension.initialize(_this.injector, _this.element, _this);\n        }\n      }\n\n      yield _this.afterInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnChanges(changes) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      //options has changed\n      if (nameof('options') in changes) {\n        yield _this2.onOptionsSet();\n        const extensionsOptions = _this2.extensionsOptions; //set options in extensions\n\n        if (extensionsOptions) {\n          for (const extension of _this2.extensions) {\n            yield extension.optionsChange(extensionsOptions);\n          }\n        }\n\n        if (!_this2.initialized) {\n          return;\n        }\n\n        yield _this2.onOptionsChange();\n      }\n\n      delete changes[nameof('options')];\n\n      if (!isEmptyObject(changes)) {\n        _this2.onChanges(changes);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  registerExtensions(extensions) {\n    this.extensions = extensions;\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {\n    this.changeDetector.detectChanges();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialzation of component, options are already set\n   */\n\n\n  onInit() {}\n  /**\n   * Called right after initialization finished, including extesions\n   */\n\n\n  afterInit() {}\n  /**\n   * Called on change of options, after initialization\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Occurs when some property changes on component\n   * @param _changes - Changes that occured on component\n   */\n\n\n  onChanges(_changes) {}\n  /**\n   * Called everytime options are set, after initialization and later\n   */\n\n\n  onOptionsSet() {}\n  /**\n   * Called when component is being destroyed\n   */\n\n\n  onDestroy() {}\n\n}\n\nLayoutComponentBase.ɵfac = function LayoutComponentBase_Factory(t) {\n  return new (t || LayoutComponentBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(LOGGER, 8));\n};\n\nLayoutComponentBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: LayoutComponentBase,\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LayoutComponentBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGGER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();","import { DynamicItemExtensionBase } from '@anglr/dynamic';\nimport { isPresent } from '@jscrpt/common';\n/**\n * Extension that applies common component styling to component\n */\n\nexport class ComponentStylingExtension extends DynamicItemExtensionBase {\n  //######################### public methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n  onInit() {\n    this._applyStyling();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsChange() {\n    this._applyStyling();\n  } //######################### protected methods #########################\n\n  /**\n   * Applies component styling to element\n   */\n\n\n  _applyStyling() {\n    const options = this.options;\n    const style = this.element?.nativeElement.style;\n\n    if (this.element) {\n      if (isPresent(this.lastCssClass)) {\n        for (const cssClass of this.lastCssClass.split(' ')) {\n          if (cssClass) {\n            this.element.nativeElement.classList.remove(cssClass);\n          }\n        }\n      }\n\n      this.lastCssClass = options?.cssClass;\n\n      if (options?.cssClass) {\n        for (const cssClass of options.cssClass.split(' ')) {\n          if (cssClass) {\n            this.element?.nativeElement.classList.add(cssClass);\n          }\n        }\n      }\n    }\n\n    if (isPresent(style)) {\n      if (options?.margin) {\n        if (isPresent(options.margin.bottom)) {\n          style.marginBottom = options.margin.bottom;\n        }\n\n        if (isPresent(options.margin.right)) {\n          style.marginRight = options.margin.right;\n        }\n\n        if (isPresent(options.margin.top)) {\n          style.marginTop = options.margin.top;\n        }\n\n        if (isPresent(options.margin.left)) {\n          style.marginLeft = options.margin.left;\n        }\n      }\n\n      if (options?.padding) {\n        if (isPresent(options.padding.bottom)) {\n          style.paddingBottom = options.padding.bottom;\n        }\n\n        if (isPresent(options.padding.right)) {\n          style.paddingRight = options.padding.right;\n        }\n\n        if (isPresent(options.padding.top)) {\n          style.paddingTop = options.padding.top;\n        }\n\n        if (isPresent(options.padding.left)) {\n          style.paddingLeft = options.padding.left;\n        }\n      }\n\n      if (options?.textStyling) {\n        if (isPresent(options.textStyling.fontSize)) {\n          style.fontSize = options.textStyling.fontSize;\n        }\n\n        if (isPresent(options.textStyling.fontWeight)) {\n          style.fontWeight = options.textStyling.fontWeight.toString();\n        }\n      }\n    }\n  }\n\n}","//TODO: rework also with symbol\n\n/**\n * Sets dynamic metadata to class on which is this decorator applied\n * @param metadataLoader - Metadata loader function used for obtaining metadata\n * @param propertyName - Name of property where will be metadata instance stored\n */\nexport function DynamicClassMetadata(metadataLoader, propertyName) {\n  if (ngDesignerMetadata) {\n    return function (target) {\n      target[propertyName] = metadataLoader();\n      return target;\n    };\n  }\n\n  return function (target) {\n    return target;\n  };\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Dynamic item extension base class\n */\nexport class DynamicItemExtensionBase {\n  //######################### constructor #########################\n  constructor(metadata) {\n    this.metadata = metadata;\n    /**\n     * Indication whether was extension initialized\n     */\n\n    this.initialized = false;\n  } //######################### public methods - implementation of DynamicItemExtension #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize(injector, element, instance) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.initialized = true;\n      _this.injector = injector;\n      _this.element = element;\n      _this.instance = instance;\n      yield _this.onInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  optionsChange(options) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.options = options;\n\n      if (!_this2.initialized) {\n        return;\n      }\n\n      yield _this2.onOptionsChange();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  destroy() {\n    this.onDestroy();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialization of component\n   */\n\n\n  onInit() {}\n  /**\n   * Called on change of options of component\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Called on destruction of component\n   */\n\n\n  onDestroy() {}\n\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","GridPanelLayoutMetadataLoader","fn","_ref","GridPanelLayoutEditorMetadata","self","this","args","arguments","apply","err","undefined","GridPanelSAComponent_ng_container_0_ng_template_1_Template","rf","ctx","GridPanelSAComponent_ng_container_0_Template","type_r1","$implicit","GridPanelSAComponent","onOptionsSet","_fixCells","style","componentElement","nativeElement","gridTemplateRows","gridTemplateColumns","options","rows","Array","isArray","row","height","columns","column","width","trim","_a","cells","grid","y","length","x","cell","package","name","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","yCoordinate","xCoordinate","id","push","t","type","selectors","standalone","features","decls","vars","consts","template","dependencies","encapsulation","changeDetection","extensions","LayoutEditorMetadata","metadataLoader","_asyncToGenerator","LayoutComponentBase","constructor","changeDetector","injector","logger","initialized","destroyed","element","extensionsOptions","ngOnDestroy","ext","destroy","onDestroy","ngOnInit","_this","onInit","extension","initialize","afterInit","ngOnChanges","changes","_this2","optionsChange","onOptionsChange","onChanges","registerExtensions","invalidateVisuals","detectChanges","_changes","ComponentStylingExtension","_applyStyling","lastCssClass","cssClass","split","classList","remove","add","margin","bottom","marginBottom","right","marginRight","top","marginTop","left","marginLeft","padding","paddingBottom","paddingRight","paddingTop","paddingLeft","textStyling","fontSize","fontWeight","toString","DynamicClassMetadata","propertyName","target","DynamicItemExtensionBase","metadata","instance"],"sourceRoot":""}