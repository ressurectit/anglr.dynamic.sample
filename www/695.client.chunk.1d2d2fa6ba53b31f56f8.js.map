{"version":3,"file":"695.client.chunk.1d2d2fa6ba53b31f56f8.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/ifBlock/ifBlock.metadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/ifBlock/ifBlock.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/basic-components/src/dynamicItems/ifBlock/type.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorDesignerType/layoutEditorDesignerType.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorMetadata/layoutEditorMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/components/layoutComponentBase/layoutComponentBase.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/relations-editor/src/decorators/relationsEditorMetadata/relationsEditorMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/relations/src/extensions/relationsRegistration/relationsRegistration.extension.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/decorators/dynamicMetadata/dynamicClassMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/misc/dynamicItemExtensionBase.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * If block layout metadata loader\n */\nexport const IfBlockLayoutMetadataLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/ifBlock.layoutMetadata')).IfBlockLayoutEditorMetadata();\n  });\n\n  return function IfBlockLayoutMetadataLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * If block relations metadata loader\n */\n\nexport const IfBlockRelationsMetadataLoader = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/ifBlock.relationsMetadata')).IfBlockRelationsEditorMetadata();\n  });\n\n  return function IfBlockRelationsMetadataLoader() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/**\n * If block layout designer type loader\n */\n\nexport const IfBlockLayoutDesignerTypeLoader = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    return (yield import('./designer/ifBlockDesigner.component')).IfBlockDesignerSAComponent;\n  });\n\n  return function IfBlockLayoutDesignerTypeLoader() {\n    return _ref3.apply(this, arguments);\n  };\n}();","import { __decorate } from \"tslib\";\nimport { Component, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LayoutComponentBase, LayoutComponentRendererSADirective } from '@anglr/dynamic/layout';\nimport { LayoutEditorDesignerType, LayoutEditorMetadata } from '@anglr/dynamic/layout-editor';\nimport { RelationsEditorMetadata } from '@anglr/dynamic/relations-editor';\nimport { HostDisplayBlockStyle } from '@anglr/common';\nimport { IfBlockLayoutDesignerTypeLoader, IfBlockLayoutMetadataLoader, IfBlockRelationsMetadataLoader } from './ifBlock.metadata';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n/**\n * Component used for displaying if block\n */\n\nfunction IfBlockSAComponent_ng_container_0_ng_template_1_Template(rf, ctx) {}\n\nfunction IfBlockSAComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, IfBlockSAComponent_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"layoutComponentRenderer\", ctx_r0.options == null ? null : ctx_r0.options.content);\n  }\n}\n\nlet IfBlockSAComponent = class IfBlockSAComponent extends LayoutComponentBase {\n  constructor() {\n    super(...arguments); //######################### public properties - inputs #########################\n\n    /**\n     * Condition used for displaying content of if block\n     */\n\n    this.condition = true;\n  } //######################### protected - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsSet() {\n    this.condition = this.options?.condition ?? false;\n  }\n\n};\n\nIfBlockSAComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵIfBlockSAComponent_BaseFactory;\n  return function IfBlockSAComponent_Factory(t) {\n    return (ɵIfBlockSAComponent_BaseFactory || (ɵIfBlockSAComponent_BaseFactory = i0.ɵɵgetInheritedFactory(IfBlockSAComponent)))(t || IfBlockSAComponent);\n  };\n}();\n\nIfBlockSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: IfBlockSAComponent,\n  selectors: [[\"if-block\"]],\n  inputs: {\n    condition: \"condition\"\n  },\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [3, \"layoutComponentRenderer\"]],\n  template: function IfBlockSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, IfBlockSAComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.condition);\n    }\n  },\n  dependencies: [CommonModule, i1.NgIf, LayoutComponentRendererSADirective],\n  styles: [\"[_nghost-%COMP%]{display: block;}\"],\n  changeDetection: 0\n});\nIfBlockSAComponent = __decorate([LayoutEditorDesignerType(IfBlockLayoutDesignerTypeLoader), RelationsEditorMetadata(IfBlockRelationsMetadataLoader), LayoutEditorMetadata(IfBlockLayoutMetadataLoader)], IfBlockSAComponent);\nexport { IfBlockSAComponent };\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(IfBlockSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'if-block',\n      standalone: true,\n      imports: [CommonModule, LayoutComponentRendererSADirective],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<ng-container *ngIf=\\\"condition\\\">\\n    <ng-template [layoutComponentRenderer]=\\\"options?.content\\\"></ng-template>\\n</ng-container>\",\n      styles: [\":host{display: block;}\"]\n    }]\n  }], null, {\n    condition: [{\n      type: Input\n    }]\n  });\n})();","import { RelationsRegistrationExtension } from '@anglr/dynamic/relations';\nimport { IfBlockSAComponent } from './ifBlock.component';\nexport default IfBlockSAComponent;\nexport const extensions = [RelationsRegistrationExtension];","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor designer type for class on which is this decorator applied\n * @param metadataLoader - Layout editor designer type loader function used for obtaining designer type\n */\n\nexport function LayoutEditorDesignerType(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorDesignerType');\n}","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor metadata to class on which is this decorator applied\n * @param metadataLoader - Layout editor metadata loader function used for obtaining metadata\n */\n\nexport function LayoutEditorMetadata(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorMetadata');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectorRef, Directive, ElementRef, Inject, Injector, Optional } from '@angular/core';\nimport { LOGGER } from '@anglr/common';\nimport { isEmptyObject, nameof } from '@jscrpt/common';\nimport * as i0 from \"@angular/core\";\n/**\n * Base component for layout component\n */\n\nexport class LayoutComponentBase {\n  //######################### constructor #########################\n  constructor(changeDetector, componentElement, injector, logger) {\n    this.changeDetector = changeDetector;\n    this.componentElement = componentElement;\n    this.injector = injector;\n    this.logger = logger; //######################### protected fields #########################\n\n    /**\n     * Array of extensions that are registered for component\n     */\n\n    this.extensions = [];\n    /**\n     * Indication whether initialization was already done\n     */\n\n    this.initialized = false;\n    /**\n     * Indication whether was component destroyed\n     */\n\n    this.destroyed = false;\n  } //######################### protected properties #########################\n\n  /**\n   * Gets element that is used within extension\n   */\n\n\n  get element() {\n    return this.componentElement;\n  }\n  /**\n   * Gets options that are used within extension\n   */\n\n\n  get extensionsOptions() {\n    return this.options;\n  } //######################### public methods - implementation of OnDestroy #########################\n\n  /**\n   * Called when component is destroyed\n   */\n\n\n  ngOnDestroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    for (const ext of this.extensions) {\n      ext.destroy();\n    }\n\n    this.onDestroy();\n  } //######################### public methods - implementation of LayoutComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) {\n        return;\n      }\n\n      _this.initialized = true;\n      const extensionsOptions = _this.extensionsOptions;\n      yield _this.onInit();\n      yield _this.onOptionsSet();\n\n      if (extensionsOptions) {\n        for (const extension of _this.extensions) {\n          yield extension.initialize(_this.injector, _this.element, _this);\n        }\n      }\n\n      yield _this.afterInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnChanges(changes) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      //options has changed\n      if (nameof('options') in changes) {\n        yield _this2.onOptionsSet();\n        const extensionsOptions = _this2.extensionsOptions; //set options in extensions\n\n        if (extensionsOptions) {\n          for (const extension of _this2.extensions) {\n            yield extension.optionsChange(extensionsOptions);\n          }\n        }\n\n        if (!_this2.initialized) {\n          return;\n        }\n\n        yield _this2.onOptionsChange();\n      }\n\n      delete changes[nameof('options')];\n\n      if (!isEmptyObject(changes)) {\n        _this2.onChanges(changes);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  registerExtensions(extensions) {\n    this.extensions = extensions;\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {\n    this.changeDetector.detectChanges();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialzation of component, options are already set\n   */\n\n\n  onInit() {}\n  /**\n   * Called right after initialization finished, including extesions\n   */\n\n\n  afterInit() {}\n  /**\n   * Called on change of options, after initialization\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Occurs when some property changes on component\n   * @param _changes - Changes that occured on component\n   */\n\n\n  onChanges(_changes) {}\n  /**\n   * Called everytime options are set, after initialization and later\n   */\n\n\n  onOptionsSet() {}\n  /**\n   * Called when component is being destroyed\n   */\n\n\n  onDestroy() {}\n\n}\n\nLayoutComponentBase.ɵfac = function LayoutComponentBase_Factory(t) {\n  return new (t || LayoutComponentBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(LOGGER, 8));\n};\n\nLayoutComponentBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: LayoutComponentBase,\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LayoutComponentBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGGER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets relations editor metadata to class on which is this decorator applied\n * @param metadataLoader - Relations editor metadata loader function used for obtaining metadata\n */\n\nexport function RelationsEditorMetadata(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'relationsEditorMetadata');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { DynamicItemExtensionBase } from '@anglr/dynamic';\nimport { RelationsComponentManager, RelationsProcessor } from '../../services';\n/**\n * Extension that allows registration of component for relations\n */\n\nexport class RelationsRegistrationExtension extends DynamicItemExtensionBase {\n  constructor() {\n    //######################### protected properties #########################\n    super(...arguments);\n    /**\n     * Instance of relations processor\n     */\n\n    this.relationsProcessor = null;\n    /**\n     * Instance of component manager\n     */\n\n    this.componentManager = null;\n  } //######################### public methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  onInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.injector || !_this.metadata || !_this.instance) {\n        return;\n      }\n\n      _this.relationsProcessor ?? (_this.relationsProcessor = _this.injector.get(RelationsProcessor, null));\n      _this.componentManager ?? (_this.componentManager = _this.injector.get(RelationsComponentManager, null));\n\n      if (!_this.relationsProcessor || !_this.componentManager) {\n        return;\n      }\n\n      _this.componentManager.registerComponent(_this.metadata.id, _this.instance);\n\n      yield _this.relationsProcessor.initialized;\n\n      _this.relationsProcessor.updateRelations(_this.metadata.id);\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  onDestroy() {\n    if (!this.relationsProcessor || !this.componentManager || !this.metadata) {\n      return;\n    }\n\n    this.relationsProcessor.destroyComponent(this.metadata.id);\n    this.componentManager.unregisterComponent(this.metadata.id);\n  }\n\n}","//TODO: rework also with symbol\n\n/**\n * Sets dynamic metadata to class on which is this decorator applied\n * @param metadataLoader - Metadata loader function used for obtaining metadata\n * @param propertyName - Name of property where will be metadata instance stored\n */\nexport function DynamicClassMetadata(metadataLoader, propertyName) {\n  if (ngDesignerMetadata) {\n    return function (target) {\n      target[propertyName] = metadataLoader();\n      return target;\n    };\n  }\n\n  return function (target) {\n    return target;\n  };\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Dynamic item extension base class\n */\nexport class DynamicItemExtensionBase {\n  //######################### constructor #########################\n  constructor(metadata) {\n    this.metadata = metadata;\n    /**\n     * Indication whether was extension initialized\n     */\n\n    this.initialized = false;\n  } //######################### public methods - implementation of DynamicItemExtension #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize(injector, element, instance) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.initialized = true;\n      _this.injector = injector;\n      _this.element = element;\n      _this.instance = instance;\n      yield _this.onInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  optionsChange(options) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.options = options;\n\n      if (!_this2.initialized) {\n        return;\n      }\n\n      yield _this2.onOptionsChange();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  destroy() {\n    this.onDestroy();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialization of component\n   */\n\n\n  onInit() {}\n  /**\n   * Called on change of options of component\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Called on destruction of component\n   */\n\n\n  onDestroy() {}\n\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","IfBlockLayoutMetadataLoader","_ref","IfBlockLayoutEditorMetadata","IfBlockRelationsMetadataLoader","_ref2","IfBlockRelationsEditorMetadata","IfBlockLayoutDesignerTypeLoader","_ref3","IfBlockDesignerSAComponent","IfBlockSAComponent_ng_container_0_ng_template_1_Template","rf","ctx","IfBlockSAComponent_ng_container_0_Template","ctx_r0","options","content","IfBlockSAComponent","constructor","super","condition","onOptionsSet","t","type","selectors","inputs","standalone","features","decls","vars","consts","template","dependencies","styles","changeDetection","extensions","LayoutEditorDesignerType","metadataLoader","LayoutEditorMetadata","LayoutComponentBase","changeDetector","componentElement","injector","logger","initialized","destroyed","element","extensionsOptions","ngOnDestroy","ext","destroy","onDestroy","ngOnInit","_this","onInit","extension","initialize","afterInit","ngOnChanges","changes","_this2","optionsChange","onOptionsChange","onChanges","registerExtensions","invalidateVisuals","detectChanges","_changes","RelationsEditorMetadata","RelationsRegistrationExtension","relationsProcessor","componentManager","metadata","instance","get","registerComponent","id","updateRelations","destroyComponent","unregisterComponent","DynamicClassMetadata","propertyName","target","DynamicItemExtensionBase"],"sourceRoot":""}