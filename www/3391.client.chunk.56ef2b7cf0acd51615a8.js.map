{"version":3,"file":"3391.client.chunk.56ef2b7cf0acd51615a8.js","mappings":"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","sources":["webpack://ng-universal-demo/../../../src/common/authorize.decorator.ts","webpack://ng-universal-demo/../../../src/common/auth.guard.ts","webpack://ng-universal-demo/../../../src/common/componentRouteAuthorized.decorator.ts","webpack://ng-universal-demo/../../../forms/src/misc/formModel/misc/defaults.ts","webpack://ng-universal-demo/../../../forms/src/misc/formModel/misc/validatorFactories.ts","webpack://ng-universal-demo/../../../forms/src/misc/formModel/misc/utils.ts","webpack://ng-universal-demo/../../../forms/src/services/formModelBuilder/formModelBuilder.service.ts","webpack://ng-universal-demo/../../../router/src/decorators/componentRoute.decorator.ts","webpack://ng-universal-demo/../../../src/misc/enums.ts","webpack://ng-universal-demo/../../../src/paginator/paginator.ts","webpack://ng-universal-demo/../../../src/plugins/dataLoader/types.ts","webpack://ng-universal-demo/../../../src/plugins/paging/pagingAbstract.component.ts","webpack://ng-universal-demo/./node_modules/@anglr/grid/src/plugins/paging/basic/basicPaging.component.html","webpack://ng-universal-demo/../../../src/plugins/paging/basic/basicPaging.component.ts","webpack://ng-universal-demo/../../../src/plugins/paging/basic/basicPaging.component.html","webpack://ng-universal-demo/../../../src/plugins/dataLoader/dataLoaderAbstract.component.ts","webpack://ng-universal-demo/../../../src/plugins/dataLoader/async/asyncDataLoader.component.ts","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/bodyContentRendererAbstract.component.ts","webpack://ng-universal-demo/./node_modules/@anglr/grid/src/plugins/contentRenderer/table/body/basic/tableBodyContentRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/table/body/basic/tableBodyContentRenderer.component.ts","webpack://ng-universal-demo/../../../src/enums/orderByDirection.ts","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/table/body/basic/tableBodyContentRenderer.component.html","webpack://ng-universal-demo/./node_modules/@anglr/grid/src/plugins/contentRenderer/table/header/basic/tableHeaderContentRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/table/header/basic/tableHeaderContentRenderer.component.ts","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/headerContentRendererAbstract.component.ts","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/table/header/basic/tableHeaderContentRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/contentRendererAbstract.component.ts","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/table/tableContentRenderer.component.ts","webpack://ng-universal-demo/./node_modules/@anglr/grid/src/plugins/contentRenderer/table/tableContentRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/contentRenderer/table/tableContentRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/metadataSelector/no/noMetadataSelector.component.ts","webpack://ng-universal-demo/./node_modules/@anglr/grid/src/plugins/noDataRenderer/simple/simpleNoDataRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/noDataRenderer/simple/simpleNoDataRenderer.component.ts","webpack://ng-universal-demo/../../../src/plugins/noDataRenderer/simple/simpleNoDataRenderer.component.html","webpack://ng-universal-demo/../../../src/plugins/rowSelector/types.ts","webpack://ng-universal-demo/../../../src/plugins/rowSelector/basic/basicRowSelector.component.ts","webpack://ng-universal-demo/../../../src/plugins/gridInitializer/no/noGridInitializer.component.ts","webpack://ng-universal-demo/./node_modules/@anglr/grid/src/components/grid/grid.component.html","webpack://ng-universal-demo/../../../src/components/grid/grid.component.ts","webpack://ng-universal-demo/../../../src/components/grid/grid.component.html","webpack://ng-universal-demo/../../../src/components/metadata/basicTable/basicTableColumn.context.ts","webpack://ng-universal-demo/../../../src/components/metadata/basicTable/basicTableColumn.component.ts","webpack://ng-universal-demo/../../../src/components/metadata/basicTable/basicTableMetadataGatherer.component.ts","webpack://ng-universal-demo/../../../src/components/metadata/types.ts"],"sourcesContent":["import {Injector} from '@angular/core';\nimport {Dictionary, isBlank, isString, PromiseOr} from '@jscrpt/common';\n\n/**\n * Extended type with authorization permission definition\n */\nexport interface AuthorizationDecoratedComponent\n{\n    /**\n     * Definition of permissions required for authorization for all routes\n     */\n    permissions?: AuthorizeOptions;\n\n    /**\n     * Route specific permissions, can be applied only for specific route, overrides `permissions`\n     */\n    routeSpecificPermissions?: Dictionary<AuthorizeOptions>;\n}\n\n/**\n * Options passed to `Authorize` decorator\n */\nexport interface AuthorizeOptions\n{\n    /**\n     * Name of permission or array of permissions that is requested for displaying component\n     */\n    permission: string|string[];\n\n    /**\n     * Indication that AND condition should be used instead of OR condition if multiple permissions are provided\n     */\n    andCondition?: boolean;\n\n    /**\n     * Indication that provided string is set of loggical operations among permission names, if this is true andCondition is ignored\n     */\n    conditionString?: boolean;\n\n    /**\n     * Callback for additional condition that is added to evaluation of permission\n     */\n    addCondition?: (injector: Injector) => PromiseOr<boolean>;\n}\n\n/**\n * Used for setting required permission name for authentication\n * @param permission - Name of requested permission, array of permission names or AuthorizeOptions that is used for displaying of component\n * @param route - If provided route specific permission will be created applied only to specified route\n */\nexport function Authorize(permission: string|string[]|AuthorizeOptions, route?: string)\n{\n    return function <TFunction extends Function> (target: TFunction): TFunction\n    {\n        let options: AuthorizeOptions;\n\n        if(isString(permission) || Array.isArray(permission))\n        {\n            options =\n            {\n                permission\n            };\n        }\n        else\n        {\n            options = permission;\n        }\n\n        const typedTarget = target as unknown as AuthorizationDecoratedComponent;\n\n        if(isBlank(route))\n        {\n            typedTarget.permissions = options;\n        }\n        else\n        {\n            typedTarget.routeSpecificPermissions ??= {};\n            typedTarget.routeSpecificPermissions[route] = options;\n        }\n\n        return target;\n    };\n}","import {Injectable, Injector} from '@angular/core';\nimport {CanActivate, ActivatedRouteSnapshot, Router, UrlTree, UrlSegmentGroup} from '@angular/router';\nimport {isBlank, flatMapArray} from '@jscrpt/common';\n\nimport {AuthorizeOptions} from './authorize.decorator';\nimport {AuthenticationService} from './authentication.service';\nimport {AuthorizationDecoratedComponent} from './authorize.decorator';\nimport {evaluatePermissions} from '../misc/utils';\n\n/**\n * Routing guard that is used for authorization of user\n */\n@Injectable({providedIn: 'root'})\nexport class AuthGuard implements CanActivate\n{\n    //######################### constructor #########################\n    constructor(private _authSvc: AuthenticationService,\n                private _injector: Injector,\n                private _router: Router)\n    {\n    }\n\n    //######################### implementation of CanActivate #########################\n\n    /**\n     * Tests whether component can be activated\n     * @param next - Information about next coming route\n     */\n    public async canActivate(next: ActivatedRouteSnapshot) : Promise<boolean>\n    {\n        const component = next.component as unknown as AuthorizationDecoratedComponent;\n        let authOptions: AuthorizeOptions|undefined;\n\n        //route specific auth options\n        if(next.routeConfig?.path &&\n           component.routeSpecificPermissions?.[next.routeConfig.path])\n        {\n            authOptions = component.routeSpecificPermissions[next.routeConfig.path];\n        }\n        //common auth options\n        else if(component.permissions)\n        {\n            authOptions = component.permissions;\n        }\n        \n        if(!authOptions)\n        {\n            return true;\n        }\n\n        let addCondition: boolean = true;\n\n        //evaluate add condition\n        if(authOptions.addCondition)\n        {\n            addCondition = await authOptions.addCondition(this._injector);\n        }\n\n        const userIdentity = this._authSvc.userIdentity;\n\n        if(isBlank(userIdentity))\n        {\n            throw new Error('AuthenticationService must be initialized before first use of AuthGuard');\n        }\n\n        const authorized = evaluatePermissions(userIdentity.permissions,\n                                               authOptions.permission,\n                                               authOptions.andCondition ?? false,\n                                               authOptions.conditionString ?? false,\n                                               addCondition);\n\n        const urlSegmentGroup = new UrlSegmentGroup(flatMapArray(next.pathFromRoot.map(itm => itm.url)), {});\n        const urlTree = new UrlTree();\n        urlTree.root = urlSegmentGroup;\n        urlTree.queryParams = {};\n        const nextPath = this._router.serializeUrl(urlTree);\n\n        //user is authenticated and not authorized\n        if(!authorized && userIdentity.isAuthenticated)\n        {\n            this._authSvc.showAccessDenied();\n\n            return false;\n        }\n        //not authorized, not authenticated, not on login page\n        else if(!authorized && !userIdentity.isAuthenticated && !this._authSvc.isAuthPage(nextPath))\n        {\n            this._authSvc.showAuthPage();\n            \n            return false;\n        }\n\n        return true;\n    }\n}","import {ComponentRoute, ComponentRouteDefinition} from '@anglr/common/router';\n\nimport {AuthGuard} from './auth.guard';\n\n/**\n * Defines route for component on which is this decorator applied, automatically adds `AuthGuard`\n * @param route - Definition of route\n */\nexport function ComponentRouteAuthorized(route: ComponentRouteDefinition): ClassDecorator\n{\n    route.canActivate ??= [];\n\n    //adds auth guard if there is no one\n    if(route.canActivate.indexOf(AuthGuard) < 0)\n    {\n        route.canActivate.push(AuthGuard);\n    }\n\n    return ComponentRoute(route);\n}\n","import {FormControl} from '@angular/forms';\n\nimport {ModelPropertyDecoratorMetadata} from '../interfaces/modelPropertyDecoratorMetadata';\n\n/**\n * Default value for property metadata\n */\nexport const ÉµDefaultPropertyMetadata: ModelPropertyDecoratorMetadata =\n{\n    asyncValidators: [],\n    validators: [],\n    disabled: false,\n    type: FormControl,\n    childType: FormControl,\n    args: {}\n};","import {AsyncValidatorFn, ValidatorFn} from '@angular/forms';\nimport {Dictionary} from '@jscrpt/common';\n\nimport {AsyncValidatorFnFactoryFn, ValidatorFnFactoryFn} from '../interfaces/validator.interface';\n\n/**\n * Class that represents ValidatorFn factory\n */\nexport class ValidatorFnFactory<TArg extends Dictionary<any> = any>\n{\n    //######################### constructor #########################\n    /**\n     * Creates instance of ValidatorFnFactory\n     * @param _factoryFn - Function used for creating ValidatorFn\n     * @param _args - Static arguments/parameters that can be passed to validator\n     */\n    constructor(private _factoryFn?: ValidatorFnFactoryFn<TArg>,\n                private _args?: TArg,)\n    {\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Gets validator function factory function\n     */\n    public valueOf(): ValidatorFnFactoryFn<TArg>\n    {\n        if(this._args)\n        {\n            return (args: TArg): ValidatorFn =>\n            {\n                args = \n                {\n                    ...this._args,\n                    args\n                };\n\n                return this._factoryFn(args);\n            };\n        }\n\n        return this._factoryFn;\n    }\n}\n\n/**\n * Class that represents AsyncValidatorFn factory\n */\nexport class AsyncValidatorFnFactory<TArg extends Dictionary<any> = any>\n{\n    //######################### constructor #########################\n    /**\n     * Creates instance of AsyncValidatorFnFactory\n     * @param _factoryFn - Function used for creating AsyncValidatorFn\n     * @param _args - Static arguments/parameters that can be passed to validator\n     */\n    constructor(private _factoryFn?: AsyncValidatorFnFactoryFn<TArg>,\n                private _args?: TArg,)\n    {\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Gets async validator function factory function\n     */\n    public valueOf(): AsyncValidatorFnFactoryFn<TArg>\n    {\n        if(this._args)\n        {\n            return (args: TArg): AsyncValidatorFn =>\n            {\n                args = \n                {\n                    ...this._args,\n                    args\n                };\n\n                return this._factoryFn(args);\n            };\n        }\n\n        return this._factoryFn;\n    }\n}","import {AbstractControl, FormArray, FormControl, FormGroup} from '@angular/forms';\nimport {Dictionary} from '@jscrpt/common';\n\nimport {FormModelGroup} from '../../types';\nimport {FormModelBuilderDefaultArgs} from '../interfaces/formModelBuilder.interface';\nimport {ModelDecoratorMetadata} from '../interfaces/modelDecoratorMetadata';\nimport {ModelPropertyDecoratorMetadata} from '../interfaces/modelPropertyDecoratorMetadata';\nimport {ÉµDefaultPropertyMetadata} from './defaults';\nimport {AsyncValidatorFnFactory, ValidatorFnFactory} from './validatorFactories';\n\n/**\n * Builds form group from decorated model\n * @param model - Model that can be decorated for enhancing created form group with validation and so on\n * @param args - Object storing arguments from owning component for customization\n * @returns\n */\nfunction buildFormGroup<TModel, TArgs extends Dictionary<any> = any>(model: ModelDecoratorMetadata<TModel> & Dictionary<any>, args?: TArgs&FormModelBuilderDefaultArgs): FormGroup<FormModelGroup<TModel>>\n{\n    if(!model)\n    {\n        return new FormGroup<FormModelGroup<TModel>>({} as any);\n    }\n\n    const modelMetadata: Dictionary<any> = model.ÉµControlsMetadata ?? {};\n    const groupValidators = model.ÉµValidators ?? [];\n    const groupAsyncValidators = model.ÉµAsyncValidators ?? [];\n    const groupArgs: Dictionary<any> = model.ÉµArgs ?? {};\n    const properties = Object.keys(model);\n    const formGroup: FormGroup = new FormGroup({},\n                                               {\n                                                   validators: groupValidators?.map(validator => validator instanceof ValidatorFnFactory ? validator.valueOf()({...groupArgs, ...args}) : validator).filter(itm => !!itm),\n                                                   asyncValidators: groupAsyncValidators?.map(validator => validator instanceof AsyncValidatorFnFactory ? validator.valueOf()({...groupArgs, ...args}) : validator).filter(itm => !!itm)\n                                               });\n\n    for(const propertyName of properties)\n    {\n        const metadata: ModelPropertyDecoratorMetadata = modelMetadata[propertyName] ?? ÉµDefaultPropertyMetadata;\n        const defaultValue = model[propertyName];\n\n        //Skip control creation if value is undefined\n        if(defaultValue === undefined)\n        {\n            continue;\n        }\n\n        const validators = metadata.validators.map(validator => validator instanceof ValidatorFnFactory ? validator.valueOf()({...metadata.args, ...args}) : validator).filter(itm => !!itm);\n        const asyncValidators = metadata.asyncValidators.map(validator => validator instanceof AsyncValidatorFnFactory ? validator.valueOf()({...metadata.args, ...args}) : validator).filter(itm => !!itm);\n\n        let control: AbstractControl;\n\n        switch(metadata.type)\n        {\n            case FormGroup:\n            {\n                control = buildFormGroup(defaultValue, args);\n\n                //TODO: think of setting metadata from property to model\n\n                break;\n            }\n            case FormArray:\n            {\n                //TODO - enhance FormArray child definition and finish it\n                control = new FormArray([],\n                                        {\n                                            validators: validators,\n                                            asyncValidators: asyncValidators,\n                                            ...metadata.controlOptions\n                                        });\n\n                if(defaultValue && Array.isArray(defaultValue))\n                {\n                    const formArray = control as FormArray;\n\n                    for(const val of defaultValue)\n                    {\n                        switch(metadata.childType)\n                        {\n                            case FormGroup:\n                            {\n                                formArray.push(buildFormGroup(val, args));\n\n                                break;\n                            }\n                            case FormArray:\n                            {\n                                break;\n                            }\n                            default:\n                            //case FormControl:\n                            {\n                                formArray.push(new FormControl(val,\n                                                               {\n                                                                   validators: validators,\n                                                                   asyncValidators: asyncValidators,\n                                                                   ...metadata.controlOptions\n                                                               }));\n\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                break;\n            }\n            default:\n            //case FormControl:\n            {\n                control = new FormControl(defaultValue,\n                                          {\n                                              validators: validators,\n                                              asyncValidators: asyncValidators,\n                                              ...metadata.controlOptions\n                                          });\n\n                break;\n            }\n        }\n\n        if(metadata.disabled)\n        {\n            control.disable();\n        }\n\n        formGroup.addControl(propertyName, control);\n    }\n\n    return formGroup;\n}\n\n/**\n * Builds form from decorated model, only for properties with non `undefined` value\n * @param model - Model that can be decorated for enhancing created form group with validation and so on\n * @param args - Object storing arguments from owning component for customization\n * @returns\n */\nexport function buildFormModel<TModel, TArgs extends Dictionary<any> = any>(model: TModel, args?: TArgs&FormModelBuilderDefaultArgs): FormGroup<FormModelGroup<TModel>>\n{\n    return buildFormGroup(model as any, args);\n}\n","import {Injectable, Injector} from '@angular/core';\nimport {FormGroup} from '@angular/forms';\nimport {Dictionary} from '@jscrpt/common';\n\nimport {buildFormModel} from '../../misc/formModel';\nimport {FormModelGroup} from '../../misc/types';\n\n/**\n * Instance of form model builder, that creates `FormGroup` from form model, automatically providing `Injector`\n */\n@Injectable()\nexport class FormModelBuilder\n{\n    //######################### constructor #########################\n    constructor(protected _injector: Injector)\n    {\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Builds form from decorated model, only for properties with non `undefined` value\n     * @param model - Model that can be decorated for enhancing created form group with validation and so on\n     * @param args - Object storing arguments from owning component for customization\n     */\n    public build<TModel, TArgs extends Dictionary<any> = any>(model: TModel, args?: TArgs): FormGroup<FormModelGroup<TModel>>\n    {\n        return buildFormModel<TModel, TArgs>(model,\n                                             {\n                                                 ...args,\n                                                 injector: this._injector,\n                                             });\n    }\n}","import {Route} from '@angular/router';\nimport {isBlank} from '@jscrpt/common';\n\n/**\n * Extended type with route definition\n */\nexport interface RouteDecoratedComponent\n{\n    /**\n     * Definition of routes that are assigned to this type\n     */\n    routeValues: Route[];\n}\n\n/**\n * Type that represents options that can be passed to control represented by model property\n */\nexport type ComponentRouteDefinition = Omit<Route, keyof Pick<Route, 'component'>>;\n\n/**\n * Defines route for component on which is this decorator applied\n * @param route - route Definition of route, does not require component to be set\n */\nexport function ComponentRoute(route: ComponentRouteDefinition): ClassDecorator\n{\n\n    return function <TFunction extends Function> (target: TFunction): TFunction\n    {\n        const rt = route as Route;\n\n        rt.component = <any>target;\n        \n        const routeDecoratedComponent: RouteDecoratedComponent = <any>target;\n\n        if(isBlank(routeDecoratedComponent.routeValues))\n        {\n            Object.defineProperty(target, \n                                  'routeValues', \n                                  {\n                                      enumerable: true,\n                                      configurable: false,\n                                      writable: false,\n                                      value: []\n                                  });\n        }\n\n        routeDecoratedComponent.routeValues.push(rt);\n        \n        return target;\n    };\n}","/**\n * Available paging position where should be rendered\n */\nexport enum PagingPosition\n{\n    /**\n     * Paging will be rendered above grid content\n     */\n    Top,\n\n    /**\n     * Paging will be rendered below grid content\n     */\n    Bottom\n}","/**\r\n * Class for paging evaluation\r\n */\r\nexport class Paginator\r\n{\r\n    //######################### private fields ######################### \r\n\r\n    /**\r\n     * First page set to paginator\r\n     */\r\n    private _base: number = 1;\r\n\r\n    /**\r\n     * Number of items per page\r\n     */\r\n    private _itemsPerPage: number = 10;\r\n\r\n    /**\r\n     * Index of current page\r\n     */\r\n    private _page: number = 1;\r\n\r\n    /**\r\n     * Number of all items to be used for counting paging\r\n     */\r\n    private _itemCount: number = 0;\r\n\r\n    //######################### public methods #########################\r\n\r\n    /**\r\n     * Sets current page number.\r\n     * @param page - Page number\r\n     * @returns Paginator Provides a fluent interface\r\n     */\r\n    public setPage(page: number): Paginator\r\n    {\r\n        this._page = page;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns current page number.\r\n     * @returns number Current page number\r\n     */\r\n    public getPage(): number\r\n    {\r\n        return this._base + this.getPageIndex();\r\n    }\r\n\r\n    /// <summary>\r\n    /// Returns first page number.\r\n    /// </summary>\r\n    /// <returns>Number of first page</returns>\r\n    public GetFirstPage(): number\r\n    {\r\n        return this._base;\r\n    }\r\n\r\n    /**\r\n     * Returns last page number.\r\n     * @returns number Number of last page\r\n     */\r\n    public getLastPage(): number\r\n    {\r\n        return this._base + Math.max(0, this.getPageCount() - 1);\r\n    }\r\n\r\n    /**\r\n     * Sets first page (base) number.\r\n     * @param baseVal - Index of base page\r\n     * @returns Paginator Provides a fluent interface\r\n     */\r\n    public setBase(baseVal: number): Paginator\r\n    {\r\n        this._base = baseVal;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns first page (base) number.\r\n     * @returns number Index of base page\r\n     */\r\n    public getBase(): number\r\n    {\r\n        return this._base;\r\n    }\r\n\r\n    /**\r\n     * Gets indication whether is the current page the first one?\r\n     * @returns boolean True if current page is first one\r\n     */\r\n    public isFirst(): boolean\r\n    {\r\n        return this.getPageIndex() == 0;\r\n    }\r\n\r\n    /**\r\n     * Gets indication whether is the current page the last one?\r\n     * @returns boolean True if current page is last one, otherwise false\r\n     */\r\n    public isLast(): boolean\r\n    {\r\n        return this.getPageIndex() == (this.getPageCount() - 1);\r\n    }\r\n\r\n    /**\r\n     * Returns the total number of pages.\r\n     * @returns number Total number of pages\r\n     */\r\n    public getPageCount(): number\r\n    {\r\n        return Math.ceil(this._itemCount / this._itemsPerPage);\r\n    }\r\n\r\n    /**\r\n     * Sets the number of items to display on a single page.\r\n     * @param itemsPerPage - Number of items per page\r\n     * @returns Paginator Provides a fluent interface\r\n     */\r\n    public setItemsPerPage(itemsPerPage: number): Paginator\r\n    {\r\n        this._itemsPerPage = Math.max(1, itemsPerPage);\r\n        \r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns the number of items to display on a single page.\r\n     * @returns number Number of items per one page\r\n     */\r\n    public getItemsPerPage(): number\r\n    {\r\n        return this._itemsPerPage;\r\n    }\r\n\r\n    /**\r\n     * Sets the total number of items.\r\n     * @param itemCount - Count of items or -1 for infinity\r\n     * @returns Paginator Provides a fluent interface\r\n     */\r\n    public setItemCount(itemCount: number): Paginator\r\n    {\r\n        this._itemCount = itemCount == -1 ? Number.MAX_VALUE : Math.max(0, itemCount);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns the total number of items.\r\n     * @returns number Total number of items\r\n     */\r\n    public getItemCount(): number\r\n    {\r\n        return this._itemCount;\r\n    }\r\n\r\n    /**\r\n     * Returns the absolute index of the first item on current page.\r\n     * @returns number Absolute index of first item\r\n     */\r\n    public getOffset(): number\r\n    {\r\n        return this.getPageIndex() * this._itemsPerPage;\r\n    }\r\n\r\n    /**\r\n     * Returns the absolute index of the first item on current page in countdown paging.\r\n     * @returns number Countdown offset of first item\r\n     */\r\n    public getCountdownOffset(): number\r\n    {\r\n        return Math.max(0, this._itemCount - (this.getPageIndex() + 1) * this._itemsPerPage);\r\n    }\r\n\r\n    /**\r\n     * Returns the number of items on current page.\r\n     * @returns number Number of items on page\r\n     */\r\n    public getLength(): number\r\n    {\r\n        return Math.min(this._itemsPerPage, this._itemCount - this.getPageIndex() * this._itemsPerPage);\r\n    }\r\n\r\n    /**\r\n     * Gets indexes for items on current page (zero-based indexes)\r\n     * @returns number Array of items indexes\r\n     */\r\n    public getIndexesPerPage(): number[]\r\n    {\r\n        const result: number[] = [];\r\n\r\n        if(isNaN(this.getOffset()))\r\n        {\r\n            for(let x = 0; x < this.getItemCount(); x++)\r\n            {\r\n                result.push(x);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for(let x = this.getOffset(); x < this.getOffset() + this.getLength(); x++)\r\n            {\r\n                result.push(x);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Gets list of page numbers with specified dispersion\r\n     * @param dispersion - Number identifying dispersion\r\n     * @returns number Page numbers according specified dispersion\r\n     */\r\n    public getPagesWithDispersion(dispersion: number): number[]\r\n    {\r\n        const currentPage = this.getPage();\r\n        const pageCount = this.getPageCount();\r\n        const numberOfPages = Math.min(pageCount, Math.max(0, dispersion) * 2 + 1) - 1;\r\n        let startingPage = Math.max(this._base, currentPage - dispersion);\r\n\r\n        if ((currentPage + dispersion) > pageCount)\r\n        {\r\n            startingPage = pageCount - numberOfPages;\r\n        }\r\n\r\n        let x: number;\r\n        const endingPage = startingPage + numberOfPages;\r\n\r\n        const result: number[] = [];\r\n\r\n        for (x = startingPage; x <= endingPage; x++)\r\n        {\r\n            result.push(x);\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Gets list of page numbers with specified dispersion, pages are trimmed if current page is near beginning or end\r\n     * @param dispersion - Number identifying dispersion\r\n     * @returns number Page numbers according specified dispersion\r\n     */\r\n    public getPagesWithTrimDispersion(dispersion: number): number[]\r\n    {\r\n        const currentPage = this.getPage();\r\n        const lastPage = this.getLastPage();\r\n        const startingPage = Math.max(this._base, currentPage - dispersion);\r\n        let x: number;\r\n        const endingPage = Math.min(lastPage, currentPage + dispersion);\r\n\r\n        const result: number[] = [];\r\n        \r\n        for (x = startingPage; x <= endingPage; x++)\r\n        {\r\n            result.push(x);\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Gets list of page numbers generated with uniform distribution\r\n     * @param numberOfPages - Number of pages that are going to be uniformly distributed between first and last page (including)\r\n     * @returns number Uniformly distributed page numbers\r\n     */\r\n    public getPagesWithUniformDistribution(numberOfPages: number): number[]\r\n    {\r\n        numberOfPages = Math.max(1, numberOfPages - 1);\r\n        const pageCount = this.getPageCount();\r\n        numberOfPages = Math.min(numberOfPages, pageCount - 1);\r\n        const step = pageCount / numberOfPages;\r\n        let page = this.GetFirstPage();\r\n        let x;\r\n\r\n        const result: number[] = [];\r\n\r\n        for (x = 0; x < numberOfPages; x++)\r\n        {\r\n            result.push(Math.round(page));\r\n\r\n            page += step;\r\n        }\r\n\r\n        result.push(pageCount);\r\n        \r\n        return result;\r\n    }\r\n\r\n    //######################### protected methods #########################\r\n\r\n    /**\r\n     * Returns zero-based page number.\r\n     * @returns number Zero-based page number\r\n     */\r\n    protected getPageIndex(): number\r\n    {\r\n        return Math.min(Math.max(0, this._page - this._base), Math.max(0, this.getPageCount() - 1));\r\n    }\r\n}","import {InjectionToken} from '@angular/core';\n\nimport {DataLoaderOptions} from './dataLoader.interface';\n\n/**\n * Possible states of data loader\n */\nexport enum DataLoaderState\n{\n    /**\n     * Loader has not loaded any data yet, this is initial state before first try for loading data\n     */\n    NotLoadedYet,\n\n    /**\n     * This state is present during loading of data when there are no data present\n     */\n    NoDataLoading,\n\n    /**\n     * This state is present any time loader is loading new data, while some data were already loaded\n     */\n    DataLoading,\n\n    /**\n     * This state is present when there are no data available after loading of data\n     */\n    NoData,\n\n    /**\n     * Loader loaded and have some data to be displayed\n     */\n    Loaded\n}\n\n/**\n * Constant used for accessing data loader in grid\n */\nexport const DATA_LOADER = 'DATA_LOADER';\n\n/**\n * Token for injecting options for data loader\n */\nexport const DATA_LOADER_OPTIONS: InjectionToken<DataLoaderOptions> = new InjectionToken<DataLoaderOptions>('DATA_LOADER_OPTIONS');","import {EventEmitter, ChangeDetectorRef, Injectable, Inject, Optional, Input, Output, OnDestroy, ElementRef} from '@angular/core';\nimport {extend, isPresent} from '@jscrpt/common';\nimport {Subscription} from 'rxjs';\n\nimport {PagingOptions, Paging} from './paging.interface';\nimport {GridPluginInstances} from '../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../components/grid/types';\nimport {GridPluginGeneric} from '../../misc';\nimport {DataLoader, DataResponse} from '../dataLoader';\nimport {DATA_LOADER} from '../dataLoader/types';\nimport {GridInitializer} from '../gridInitializer';\nimport {GRID_INITIALIZER} from '../gridInitializer/types';\n\n/**\n * Abstract class that represents any paging component\n */\n@Injectable()\nexport abstract class PagingAbstractComponent<TCssClasses = any, TOptions extends PagingOptions<TCssClasses> = any> implements Paging, GridPluginGeneric<TOptions>, OnDestroy\n{\n    //######################### protected fields #########################\n\n    /**\n     * Subscription for changes in data\n     */\n    protected _dataChangedSubscription: Subscription;\n\n    /**\n     * Indication whether is component initialized\n     */\n    protected _initialized: boolean = false;\n\n    /**\n     * Options specific to paging implementation\n     */\n    protected _options?: TOptions;\n\n    /**\n     * Data loader used within grid\n     */\n    protected _dataLoader?: DataLoader<DataResponse>;\n\n    //######################### public properties #########################\n\n    /**\n     * Zero based index of first displayed item on page\n     */\n    public abstract get firstItemIndex(): number;\n\n    /**\n     * Gets or sets options specific to paging implementation\n     */\n    @Input()\n    public get options(): TOptions\n    {\n        return this._options;\n    }\n    public set options(options: TOptions)\n    {\n        this._options = extend(true, this._options, options) as TOptions;\n\n        this.optionsSet();\n    }\n\n    /**\n     * Gets or sets index of currently selected page\n     */\n    public abstract get page(): number;\n    public abstract set page(page: number);\n\n    /**\n     * Gets or sets number of items currently used for paging\n     */\n    public abstract get itemsPerPage(): number;\n    public abstract set itemsPerPage(itemsPerPage: number);\n\n    /**\n     * Gets or sets number of all items that are paged with current filter criteria\n     */\n    public abstract get totalCount(): number;\n    public abstract set totalCount(totalCount: number);\n\n    /**\n     * Grid plugin instances available for this plugin\n     */\n    public gridPlugins: GridPluginInstances;\n\n    //######################### public properties - events #########################\n\n    /**\n     * Occurs when index of currently selected page has been changed\n     */\n    @Output()\n    public pageChange: EventEmitter<number> = new EventEmitter<number>();\n\n    /**\n     * Occurs when number of items per page currently selected has been changed\n     */\n    @Output()\n    public itemsPerPageChange: EventEmitter<number> = new EventEmitter<number>();\n\n    //######################### constructor #########################\n    constructor(public pluginElement: ElementRef,\n                protected _changeDetector: ChangeDetectorRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() gridPlugins?: GridPluginInstances)\n    {\n        this.gridPlugins = gridPlugins;\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n\n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy()\n    {\n        if(this._dataChangedSubscription)\n        {\n            this._dataChangedSubscription.unsubscribe();\n            this._dataChangedSubscription = null;\n        }\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        this._changeDetector.detectChanges();\n    }\n\n    /**\n     * Method that initialize paging component, this method can be used for initialization if paging used dynamicaly\n     */\n    public initialize(): void\n    {\n        const gridInitializer = this.gridPlugins[GRID_INITIALIZER] as GridInitializer;\n        let initialPage = this._options.initialPage;\n        let initialItemsPerPage = this._options.initialItemsPerPage;\n\n        if(gridInitializer)\n        {\n            gridInitializer.initialize();\n\n            const page = gridInitializer.getPage();\n\n            if(isPresent(page))\n            {\n                initialPage = page;\n            }\n\n            const itemsPerPage = gridInitializer.getItemsPerPage();\n\n            if(isPresent(itemsPerPage))\n            {\n                initialItemsPerPage = itemsPerPage;\n            }\n        }\n\n        this.page = initialPage;\n        this.itemsPerPage = initialItemsPerPage;\n\n        const dataLoader: DataLoader<DataResponse> = this.gridPlugins[DATA_LOADER] as DataLoader<DataResponse>;\n\n        if(this._dataLoader && this._dataLoader != dataLoader)\n        {\n            this._dataChangedSubscription.unsubscribe();\n            this._dataChangedSubscription = null;\n\n            this._dataLoader = null;\n        }\n\n        if(!this._dataLoader && dataLoader)\n        {\n            this._dataLoader = dataLoader;\n            this.totalCount = this._dataLoader.result.totalCount;\n\n            this._dataChangedSubscription = this._dataLoader.resultChange.subscribe(() =>\n            {\n                this.totalCount = this._dataLoader.result.totalCount;\n                this.invalidateVisuals();\n            });\n        }\n\n        this._initialized = true;\n    }\n\n    /**\n     * Initialize options\n     */\n    public initOptions()\n    {\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Method called when options are set, allowing to do something after that when overriden\n     */\n    protected optionsSet()\n    {\n    }\n}",null,"import {Component, Input, ChangeDetectionStrategy, ChangeDetectorRef, Inject, Optional, ElementRef} from '@angular/core';\nimport {Paginator, isPresent, extend} from '@jscrpt/common';\n\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../../components/grid/types';\nimport {PagingAbstractComponent} from '../pagingAbstract.component';\nimport {BasicPagingOptions, BasicPaging, CssClassesBasicPaging} from './basicPaging.interface';\nimport {PAGING_OPTIONS} from '../types';\nimport {GridInitializer} from '../../gridInitializer';\nimport {GRID_INITIALIZER} from '../../gridInitializer/types';\n\n/**\n * Items per page single item\n */\nexport class ItemsPerPageItem\n{\n    /**\n     * Indication that item is active\n     */\n    public isActive: boolean;\n\n    /**\n     * Value of item\n     */\n    public value: number;\n}\n\n/**\n * Default options for paging\n * @internal\n */\nconst defaultOptions: BasicPagingOptions =\n{\n    initialItemsPerPage: 10,\n    initialPage: 1,\n    itemsPerPageValues: [],\n    pagesDispersion: 4,\n    cssClasses:\n    {\n        pagingUl: 'pagination pagination-sm margin-sm-vertical',\n        itemsPerPageDiv: 'pull-right',\n        displayedItemsCountSpan: 'items-count',\n        itemsPerPageUl: 'pagination pagination-sm margin-sm-vertical'\n    }\n};\n\n/**\n * Component used for rendering basic simple paging\n */\n@Component(\n{\n    selector: 'ng-basic-paging',\n    templateUrl: 'basicPaging.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    styles: [\n        `.items-count\n        {\n            float: left;\n            margin-right: 8px;\n            line-height: 42px;\n        }\n        .pointer-cursor\n        {\n            cursor: pointer;\n        }`\n    ]\n})\nexport class BasicPagingComponent extends PagingAbstractComponent<CssClassesBasicPaging, BasicPagingOptions> implements BasicPaging\n{\n    //######################### protected fields #########################\n\n    /**\n     * Paginator used for getting page numbers\n     */\n    protected _paginator: Paginator = new Paginator();\n\n    /**\n     * Index of currently selected page\n     */\n    protected _page: number;\n\n    /**\n     * Number of items currently used for paging\n     */\n    protected _itemsPerPage: number;\n\n    /**\n     * Number of all items that are paged with current filter criteria\n     */\n    protected _totalCount: number;\n\n    //######################### public properties - template bindings #########################\n\n    /**\n     * Text displaying items count\n     * @internal\n     */\n    public displayedItemsCount: string = '';\n\n    /**\n     * Array of pages that are rendered\n     * @internal\n     */\n    public pages: {isActive: boolean; isDisabled: boolean; title: string; page: number}[] = [];\n\n    /**\n     * Array of items per page that are rendered\n     * @internal\n     */\n    public itemsPerPageItems: ItemsPerPageItem[] = [];\n\n    //######################### public properties #########################\n\n    /**\n     * Zero based index of first displayed item on page\n     */\n    public get firstItemIndex(): number\n    {\n        const offset = this._paginator.getOffset();\n\n        return isNaN(offset) ? 0 : offset;\n    }\n\n    /**\n     * Indication whether plugin is already initialized\n     */\n    public get initialized(): boolean\n    {\n        return this._initialized;\n    }\n\n    //######################### public properties - inputs #########################\n\n    /**\n     * Gets or sets index of currently selected page\n     */\n    @Input()\n    public get page(): number\n    {\n        return this._page;\n    }\n    public set page(page: number)\n    {\n        this._page = page;\n        this._paginator.setPage(page);\n        this._generatePages();\n        this._setDisplayedItemsCount();\n        (this.gridPlugins[GRID_INITIALIZER] as GridInitializer).setPage(this._page);\n    }\n\n    /**\n     * Gets or sets number of items currently used for paging\n     */\n    @Input()\n    public get itemsPerPage(): number\n    {\n        return this._itemsPerPage;\n    }\n    public set itemsPerPage(itemsPerPage: number)\n    {\n        this._itemsPerPage = itemsPerPage;\n        this._paginator.setItemsPerPage(itemsPerPage);\n        this._generatePages();\n        this._generateItemsPerPage();\n        this._setDisplayedItemsCount();\n        (this.gridPlugins[GRID_INITIALIZER] as GridInitializer).setItemsPerPage(this._itemsPerPage);\n    }\n\n    /**\n     * Gets or sets number of all items that are paged with current filter criteria\n     */\n    @Input()\n    public get totalCount(): number\n    {\n        return this._totalCount;\n    }\n    public set totalCount(totalCount: number)\n    {\n        this._totalCount = totalCount;\n        this._paginator.setItemCount(totalCount);\n        this._generatePages();\n        this._setDisplayedItemsCount();\n    }\n\n    //######################### constructor #########################\n    constructor(pluginElement: ElementRef,\n                changeDetector: ChangeDetectorRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() gridPlugins?: GridPluginInstances,\n                @Inject(PAGING_OPTIONS) @Optional() options?: BasicPagingOptions)\n    {\n        super(pluginElement, changeDetector, gridPlugins);\n\n        this._options = extend(true, {}, defaultOptions, options);\n        this.optionsSet();\n    }\n\n    //######################### public methods - template bindings #########################\n\n    /**\n     * Sets page for current paging\n     * @param page - Page index to be set\n     * @internal\n     */\n    public setPage(page: {isActive: boolean; isDisabled: boolean; page: number})\n    {\n        if(page.isActive || page.isDisabled)\n        {\n            return;\n        }\n\n        this.page = page.page;\n        this.pageChange.emit(this.page);\n    }\n\n    /**\n     * Sets items per page for current paging\n     * @param itemsPerPage - Number of items per page\n     * @internal\n     */\n    public setItemsPerPage(itemsPerPage: ItemsPerPageItem)\n    {\n        if(itemsPerPage.isActive)\n        {\n            return;\n        }\n\n        this.itemsPerPage = itemsPerPage.value;\n        this.itemsPerPageChange.emit(this.itemsPerPage);\n    }\n\n    /**\n     * Converts number to text that is going to be rendered for ItemsPerPage\n     * @param value - Text that is returned for items per page\n     * @internal\n     */\n    public renderItemsPerPageText(value: number): string\n    {\n        return isNaN(value) ? '&infin;' : value.toString();\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Method that initialize paging component, this method can be used for initialization if paging used dynamicaly\n     */\n    public override initialize()\n    {\n        super.initialize();\n\n        this._paginator.setPage(this._page);\n        this._paginator.setItemsPerPage(this._itemsPerPage);\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Generates rendered pages\n     */\n    protected _generatePages()\n    {\n        if(!this._initialized)\n        {\n            return;\n        }\n\n        const pageCount = this._paginator.getPageCount() || 1;\n\n        //Applied when displaying all items\n        if(isNaN(pageCount))\n        {\n            if(this._page != 1)\n            {\n                this._page = 1;\n                this._paginator.setPage(1);\n                this.pageChange.emit(1);\n            }\n\n            this.pages = [];\n\n            return;\n        }\n\n        if(!isNaN(pageCount) && pageCount < this._page)\n        {\n            this.setPage(\n            {\n                page: pageCount,\n                isActive: false,\n                isDisabled: false\n            });\n        }\n\n        this.pages = [];\n\n        this.pages.push(\n        {\n            isActive: false,\n            isDisabled: this._paginator.isFirst(),\n            title: '&laquo;',\n            page: this._paginator.GetFirstPage()\n        });\n\n        this._paginator.getPagesWithTrimDispersion(this.options.pagesDispersion).forEach(page =>\n        {\n            this.pages.push(\n            {\n                isActive: this._paginator.getPage() == page,\n                isDisabled: false,\n                title: page.toString(),\n                page: page\n            });\n        });\n\n        this.pages.push(\n        {\n            isActive: false,\n            isDisabled: this._paginator.isLast(),\n            title: '&raquo;',\n            page: this._paginator.getLastPage()\n        });\n    }\n\n    /**\n     * Generates rendered items per page\n     */\n    protected _generateItemsPerPage()\n    {\n        this.itemsPerPageItems.forEach(itm => itm.isActive = itm.value == this.itemsPerPage || (isNaN(itm.value) && isNaN(this.itemsPerPage)));\n    }\n\n    /**\n     * Sets displayed items count\n     */\n    protected _setDisplayedItemsCount()\n    {\n        if(!this._initialized)\n        {\n            return;\n        }\n\n        const displayedItems = this._paginator.getOffset() + this._paginator.getLength();\n\n        this.displayedItemsCount = '';\n\n        if(isNaN(displayedItems) && isPresent(this._totalCount))\n        {\n            this.displayedItemsCount = this._totalCount.toString();\n        }\n        else if(!isNaN(displayedItems) && isPresent(this._totalCount))\n        {\n            this.displayedItemsCount = `${displayedItems}/${this._totalCount}`;\n        }\n    }\n\n    //######################### protected methods - overrides #########################\n\n    /**\n     * Method called when options are set, allowing to do something after that when overriden\n     */\n    protected override optionsSet()\n    {\n        this.itemsPerPageItems = this.options.itemsPerPageValues.map(itm =>\n        {\n            return {\n                value: itm,\n                isActive: false\n            };\n        });\n\n        this._generateItemsPerPage();\n    }\n}","<div>\r\n    <ul [ngClass]=\"options?.cssClasses?.pagingUl\">\r\n        <li *ngFor=\"let page of pages\" [ngClass]=\"{disabled: page.isDisabled, active: page.isActive, 'pointer-cursor': !page.isDisabled && !page.isActive}\">\r\n            <a (click)=\"setPage(page)\">\r\n                <span [innerHtml]=\"page.title\"></span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n\r\n    <div [ngClass]=\"options?.cssClasses?.itemsPerPageDiv\" *ngIf=\"initialized && !!itemsPerPageItems && itemsPerPageItems.length > 0\">\r\n        <span [ngClass]=\"options?.cssClasses?.displayedItemsCountSpan\">{{displayedItemsCount}}</span>\r\n\r\n        <ul [ngClass]=\"options?.cssClasses?.itemsPerPageUl\">\r\n            <li *ngFor=\"let itemsPerPage of itemsPerPageItems\" [ngClass]=\"{active: itemsPerPage.isActive, 'pointer-cursor': !itemsPerPage.isActive}\">\r\n                <a (click)=\"setItemsPerPage(itemsPerPage)\">\r\n                    <span [innerHtml]=\"renderItemsPerPageText(itemsPerPage.value)\"></span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>","import {Injectable, Inject, Optional, OnDestroy, EventEmitter, ElementRef} from '@angular/core';\nimport {extend} from '@jscrpt/common';\nimport {Subscription, Subject} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\nimport {DataLoader, DataLoaderOptions} from './dataLoader.interface';\nimport {Paging} from '../paging';\nimport {PAGING} from '../paging/types';\nimport {ContentRenderer} from '../contentRenderer';\nimport {CONTENT_RENDERER} from '../contentRenderer/types';\nimport {GridPluginInstances} from '../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../components/grid/types';\nimport {GridPluginGeneric} from '../../misc';\nimport {DataLoaderState} from './types';\n\n/**\n * Abstract class that represents any data loader component\n */\n@Injectable()\nexport abstract class DataLoaderAbstractComponent<TOptions extends DataLoaderOptions = any, TOrdering = any, TResult = any> implements DataLoader<TResult>, GridPluginGeneric<TOptions>, OnDestroy\n{\n    //######################### private fields #########################\n\n    /**\n     * Last page used for loading data\n     */\n    private _lastPage: number;\n\n    /**\n     * Last items per page used for loading data\n     */\n    private _lastItemsPerPage: number;\n\n    /**\n     * Last ordering used for loading data\n     */\n    private _lastOrdering: TOrdering;\n\n    //######################### protected fields #########################\n\n    /**\n     * Options for 'AsyncDataLoader'\n     */\n    protected _options: TOptions;\n\n    /**\n     * Paging used in grid\n     */\n    protected _paging: Paging;\n\n    /**\n     * Current state of data loader\n     */\n    protected _state: DataLoaderState = DataLoaderState.NotLoadedYet;\n\n    /**\n     * Subscription for page change in paging\n     */\n    protected _pageChangedSubscription: Subscription;\n\n    /**\n     * Subscription for items per page change in paging\n     */\n    protected _itemsPerPageChangedSubscription: Subscription;\n\n    /**\n     * Subscription for ordering change in content renderer\n     */\n    protected _orderingChangedSubscription: Subscription;\n\n    /**\n     * Content renderer used for rendering data\n     */\n    protected _contentRenderer: ContentRenderer<TOrdering>;\n\n    /**\n     * Subject for debounce dataCallback\n     */\n    protected _debounceSubject: Subject<boolean> = new Subject<boolean>();\n\n    /**\n     * Subscription for debounce dataCallback\n     */\n    protected _debounceSubscription: Subscription = null;\n\n    //######################### public properties #########################\n\n    /**\n     * Current state of data loader\n     */\n    public get state(): DataLoaderState\n    {\n        return this._state;\n    }\n\n    /**\n     * Gets or sets options for 'DataLoader'\n     */\n    public get options(): TOptions\n    {\n        return this._options;\n    }\n    public set options(options: TOptions)\n    {\n        this._options = extend(true, this._options, options) as TOptions;\n    }\n\n    /**\n     * Current result of data loader\n     */\n    public abstract get result(): TResult;\n\n    /**\n     * Indication that data has changed\n     */\n    public resultChange: EventEmitter<void> = new EventEmitter<void>();\n\n    /**\n     * Indication that data loader state has changed\n     */\n    public stateChange: EventEmitter<void> =  new EventEmitter<void>();\n\n    //######################### constructor #########################\n    constructor(public pluginElement: ElementRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() public gridPlugins: GridPluginInstances)\n    {\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n\n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy()\n    {\n        if(this._debounceSubscription)\n        {\n            this._debounceSubscription.unsubscribe();\n            this._debounceSubscription = null;\n        }\n\n        if(this._pageChangedSubscription)\n        {\n            this._pageChangedSubscription.unsubscribe();\n            this._pageChangedSubscription = null;\n        }\n\n        if(this._itemsPerPageChangedSubscription)\n        {\n            this._itemsPerPageChangedSubscription.unsubscribe();\n            this._itemsPerPageChangedSubscription = null;\n        }\n\n        if(this._orderingChangedSubscription)\n        {\n            this._orderingChangedSubscription.unsubscribe();\n            this._orderingChangedSubscription = null;\n        }\n    }\n\n    //######################### public methodes - implements DataLoader #########################\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n        this._registerDebounce();\n\n        const paging: Paging = this.gridPlugins[PAGING] as Paging;\n\n        if(this._paging && this._paging != paging)\n        {\n            this._pageChangedSubscription.unsubscribe();\n            this._pageChangedSubscription = null;\n            this._itemsPerPageChangedSubscription.unsubscribe();\n            this._itemsPerPageChangedSubscription = null;\n\n            this._paging = null;\n        }\n\n        if(!this._paging)\n        {\n            this._paging = paging;\n\n            this._pageChangedSubscription = this._paging.pageChange.subscribe(() => this._debounceSubject.next());\n            this._itemsPerPageChangedSubscription = this._paging.itemsPerPageChange.subscribe(() => this._debounceSubject.next());\n        }\n\n        const contentRenderer: ContentRenderer<TOrdering> = this.gridPlugins[CONTENT_RENDERER] as ContentRenderer<TOrdering>;\n\n        if(this._contentRenderer && this._contentRenderer != contentRenderer)\n        {\n            this._orderingChangedSubscription.unsubscribe();\n            this._orderingChangedSubscription = null;\n\n            this._contentRenderer = null;\n        }\n\n        if(!this._contentRenderer)\n        {\n            this._contentRenderer = contentRenderer;\n\n            this._orderingChangedSubscription = this._contentRenderer.orderingChange.subscribe(() => this._debounceSubject.next());\n        }\n\n        if(this._options.autoLoadData)\n        {\n            this.loadData();\n        }\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals()\n    {\n    }\n\n    /**\n     * Loads data from 'source'\n     * @param force - Indication that data should be reloaded even if nothing changed\n     */\n    public loadData(force?: boolean)\n    {\n        this._debounceSubject.next(force);\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Loads data from 'source'\n     * @param force - Indication that data should be reloaded even if nothing changed\n     */\n    protected abstract _loadData(force?: boolean);\n\n    /**\n     * Check for changes on input\n     */\n    protected _checkChanges(): boolean\n    {\n        if(this._paging.page != this._lastPage ||\n           this._paging.itemsPerPage != this._lastItemsPerPage ||\n           this._contentRenderer.ordering != this._lastOrdering)\n        {\n            this._lastPage = this._paging.page;\n            this._lastItemsPerPage = this._paging.itemsPerPage;\n            this._lastOrdering = this._contentRenderer.ordering;\n\n            return true;\n        }\n\n        return false;\n    }\n\n    //######################### private methods #########################\n\n    /**\n     * Registers debounce subject\n     */\n    private _registerDebounce()\n    {\n        if(this._debounceSubscription)\n        {\n            this._debounceSubscription.unsubscribe();\n            this._debounceSubscription = null;\n        }\n\n        this._debounceSubscription = this._debounceSubject\n            .asObservable()\n            .pipe(debounceTime(this._options.debounceDataCallback))\n            .subscribe(force => this._loadData(force));\n    }\n}","import {Component, ChangeDetectionStrategy, Inject, Optional, ElementRef} from '@angular/core';\nimport {extend} from '@jscrpt/common';\n\nimport {DataResponse} from '../dataLoader.interface';\nimport {DATA_LOADER_OPTIONS, DataLoaderState} from '../types';\nimport {AsyncDataLoaderOptions, AsyncDataLoader} from './asyncDataLoader.interface';\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../../components/grid/types';\nimport {DataLoaderAbstractComponent} from '../dataLoaderAbstract.component';\n\n/**\n * Default options for async data loader\n * @internal\n */\nconst defaultOptions: AsyncDataLoaderOptions =\n{\n    autoLoadData: true,\n    debounceDataCallback: 30,\n    dataCallback: () => new Promise<any>(() => {})\n};\n\n/**\n * Data loader that allows asynchronous data loading\n * \n * @example\n * If you want to use async data loader you have to provide at least `dataCallback`.\n * \n * Sample grid options\n * ``` typescript\n * var gridOptions =\n * {\n *     plugins:\n *     {\n *         dataLoader:\n *         {\n *             type: AsyncDataLoaderComponent, //this is default value could be omitted\n *             options: <AsyncDataLoaderOptions<DataType, SimpleOrdering>>\n *             {\n *                 dataCallback: this._getData.bind(this)\n *             }\n *         }\n *     }\n * };\n * ```\n * \n * @example\n * data callback should look like this\n * ``` typescript\n * private async _getData(page: number, itemsPerPage: number, ordering: SimpleOrdering): Promise<DataResponse<DataType>>\n * {\n *     let result = await this._dataSvc\n *         .getData(\n *         {\n *             page: (page - 1),\n *             size: itemsPerPage\n *         }).toPromise();\n * \n *     return {\n *         data: result.content,\n *         totalCount: result.totalElements\n *     };\n * }\n * ```\n */\n@Component(\n{\n    selector: 'ng-async-data-loader',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AsyncDataLoaderComponent<TData = any, TOrdering = any> extends DataLoaderAbstractComponent<AsyncDataLoaderOptions<TData, TOrdering>, TOrdering, DataResponse<TData>> implements AsyncDataLoader<TData>\n{\n    //######################### private fields #########################\n\n    /**\n     * Current result of data loader\n     */\n    private _result?: DataResponse<TData> =\n    {\n        data: [],\n        totalCount: 0\n    };\n\n    //######################### public properties #########################\n\n    /**\n     * Current result of data loader\n     */\n    public get result(): DataResponse<TData>\n    {\n        return this._result;\n    }\n\n    //######################### constructor #########################\n    constructor(pluginElement: ElementRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() gridPlugins?: GridPluginInstances,\n                @Inject(DATA_LOADER_OPTIONS) @Optional() options?: AsyncDataLoaderOptions<TData, TOrdering>)\n    {\n        super(pluginElement, gridPlugins);\n\n        this._options = extend(true, {}, defaultOptions, options);\n    }\n\n    //######################### protected methodes - implements DataLoaderAbstractComponent #########################\n    \n    /**\n     * Loads data from 'source'\n     * @param force - Indication that data should be reloaded even if nothing changed\n     */\n    protected async _loadData(force?: boolean)\n    {\n        if(!force && !this._checkChanges())\n        {\n            return;\n        }\n\n        this._state = (this._result && this._result.data && this._result.data.length) ? DataLoaderState.DataLoading : DataLoaderState.NoDataLoading;\n        this.stateChange.emit();\n\n        const result = await this._options.dataCallback(this._paging.page, this._paging.itemsPerPage, this._contentRenderer.ordering);\n\n        this._state = (result && result.data && result.data.length) ? DataLoaderState.Loaded : DataLoaderState.NoData;\n        this.stateChange.emit();\n\n        this._paging.totalCount = result.totalCount;\n        this._paging.invalidateVisuals();\n        this._result = result;\n        this.resultChange.emit();\n    }\n}","import {ChangeDetectorRef, Inject, Injectable, ElementRef, Optional} from '@angular/core';\nimport {extend} from '@jscrpt/common';\n\nimport {GridPluginInstances} from '../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../components/grid/types';\nimport {BodyContentRenderer, BodyContentRendererOptions} from './contentRenderer.interface';\nimport {Paging} from '../paging';\nimport {PAGING} from '../paging/types';\nimport {GridPluginGeneric} from '../../misc';\n\n//TODO - compute classes before rendering\n//TOOD - mergeClasses as pipe\n\n/**\n * Abstract component for body content renderer\n */\n@Injectable()\nexport class BodyContentRendererAbstractComponent<TData = any, TOptions extends BodyContentRendererOptions<TCssClasses> = any, TMetadata = any, TCssClasses = any> implements BodyContentRenderer<TData, TMetadata>, GridPluginGeneric<TOptions>\n{\n    //######################### protected fields #########################\n\n    /**\n     * Options for body content renderer\n     */\n    protected _options: TOptions;\n\n    //######################### public properties - template bindings #########################\n\n    /**\n     * Starting index of currently displayed items\n     */\n    public startingIndex: number = 0;\n\n    //######################### public properties - implementation of BodyContentRenderer #########################\n\n    /**\n     * Options for body content renderer\n     */\n    public get options(): TOptions\n    {\n        return this._options;\n    }\n    public set options(options: TOptions)\n    {\n        this._options = extend(true, this._options, options) as TOptions;\n    }\n\n    /**\n     * Data that are rendered\n     */\n    public data: TData[];\n\n    /**\n     * Metadata used for rendering\n     */\n    public metadata: TMetadata;\n\n    //######################### constructor #########################\n    constructor(public pluginElement: ElementRef,\n                protected _changeDetector: ChangeDetectorRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() public gridPlugins: GridPluginInstances)\n    {\n    }\n\n    //######################### public methods - implementation of CssDivsBodyContentRenderer<TData, BasicTableColumn> #########################\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        this.startingIndex = (this.gridPlugins[PAGING] as Paging).firstItemIndex;\n        this._changeDetector.detectChanges();\n    }\n\n    //######################### public methods - template bindings #########################\n\n    /**\n     * Merges css classes specified as strings\n     */\n    public mergeStringClasses(...classes: string[])\n    {\n        const result = [];\n\n        classes.forEach(cls => cls ? (result.push(cls)) : null);\n\n        return result;\n    }\n}",null,"import {Component, ChangeDetectionStrategy, ChangeDetectorRef, Optional, Inject, ElementRef} from '@angular/core';\nimport {extend} from '@jscrpt/common';\n\nimport {BasicTableColumn, BasicTableMetadata} from '../../../../../components/metadata';\nimport {TableBodyContentRendererOptions} from '../../tableContentRenderer.interface';\nimport {GridPluginInstances} from '../../../../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../../../../components/grid/types';\nimport {BODY_CONTENT_RENDERER_OPTIONS} from '../../../types';\nimport {BodyContentRendererAbstractComponent} from '../../../bodyContentRendererAbstract.component';\n\n/**\n * Default options for 'TableBodyContentRendererComponent'\n * @internal\n */\nconst defaultOptions: TableBodyContentRendererOptions =\n{\n};\n\n/**\n * Component used for rendering tbody for 'TableContentRenderer'\n */\n@Component(\n{\n    selector: 'tbody.content-renderer',\n    templateUrl: 'tableBodyContentRenderer.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableBodyContentRendererComponent<TData = any> extends BodyContentRendererAbstractComponent<TData, TableBodyContentRendererOptions, BasicTableMetadata<BasicTableColumn<TData>>, any>\n{\n    //######################### constructor #########################\n    constructor(pluginElement: ElementRef,\n                changeDetector: ChangeDetectorRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() gridPlugins: GridPluginInstances,\n                @Inject(BODY_CONTENT_RENDERER_OPTIONS) @Optional() options: TableBodyContentRendererOptions)\n    {\n        super(pluginElement, changeDetector, gridPlugins);\n\n        this._options = extend(true, {}, defaultOptions, options);\n    }\n}","/**\r\n * Directions for ordering\r\n */\r\nexport enum OrderByDirection\r\n{\r\n    /**\r\n     * Items are ordered ascending\r\n     */\r\n    Ascending,\r\n    \r\n    /**\r\n     * Items are ordered descending\r\n     */\r\n    Descending\r\n}","<tr *ngFor=\"let datum of data; let index=index\">\r\n    <ng-template ngFor [ngForOf]=\"metadata?.columns\" let-meta>\r\n        <td [ngClass]=\"meta?.cellClass\"\r\n            [attr.data-header-title]=\"meta?.title\">\r\n            <ng-template [ngIf]=\"!meta?.bodyTemplate\" [ngIfElse]=\"bodyTemplate\">\r\n                {{datum[meta?.name]}}\r\n            </ng-template>\r\n\r\n            <ng-template #bodyTemplate [ngTemplateOutlet]=\"meta?.bodyTemplate\" [ngTemplateOutletContext]=\"meta?.getColumnContext(datum, meta, index, startingIndex)\">\r\n            </ng-template>\r\n        </td>\r\n    </ng-template>\r\n</tr>",null,"import {Component, ChangeDetectionStrategy, ChangeDetectorRef, Inject, Optional, HostBinding, ElementRef} from '@angular/core';\nimport {extend} from '@jscrpt/common';\n\nimport {TableHeaderContentRendererOptions} from '../../tableContentRenderer.interface';\nimport {HEADER_CONTENT_RENDERER_OPTIONS} from '../../../types';\nimport {HeaderContentRendererAbstractComponent} from '../../../headerContentRendererAbstract.component';\nimport {GRID_PLUGIN_INSTANCES} from '../../../../../components/grid/types';\nimport {GridPluginInstances} from '../../../../../components/grid';\n\n/**\n * Default options for 'TableHeaderContentRendererComponent'\n * @internal\n */\nconst defaultOptions: TableHeaderContentRendererOptions =\n{\n    cssClasses:\n    {\n        thead: '',\n        thDefault: 'header-default',\n        thOrderable: 'header-orderable',\n        spanContent: 'header-content',\n        spanOrdering: 'header-ordering',\n        spanOrderingDirection:\n        {\n            none: 'fa fa-sort',\n            asc: 'fa fa-sort-up',\n            desc: 'fa fa-sort-down'\n        }\n    }\n};\n\n/**\n * Component used for rendering table header in table content renderer\n */\n@Component(\n{\n    selector: 'thead.content-renderer',\n    templateUrl: 'tableHeaderContentRenderer.component.html',\n    styleUrls: ['tableHeaderContentRenderer.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableHeaderContentRendererComponent<TData = any> extends HeaderContentRendererAbstractComponent<TData, TableHeaderContentRendererOptions>\n{\n    //######################### public properties - host #########################\n\n    /**\n     * Css class applied to header itself\n     */\n    @HostBinding('class')\n    public get cssClass(): string\n    {\n        return this._options.cssClasses.thead;\n    }\n\n    //######################### constructor #########################\n    constructor(pluginElement: ElementRef,\n                changeDetector: ChangeDetectorRef,\n                @Inject(HEADER_CONTENT_RENDERER_OPTIONS) @Optional() options: TableHeaderContentRendererOptions,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() gridPlugins: GridPluginInstances)\n    {\n        super(pluginElement, gridPlugins, changeDetector);\n\n        this._options = extend(true, {}, defaultOptions, options);\n    }\n}","import {EventEmitter, ChangeDetectorRef, ElementRef} from '@angular/core';\nimport {OrderByDirection, extend} from '@jscrpt/common';\n\nimport {GridPluginInstances} from '../../components/grid';\nimport {HeaderContentRenderer, SimpleOrdering, BasicOrderableColumn, HeaderContentRendererOptions, CssClassesHeaderContentRenderer} from './contentRenderer.interface';\nimport {GridPluginGeneric} from '../../misc';\nimport {BasicTableMetadata} from '../../components/metadata';\nimport {GridInitializer} from '../gridInitializer';\nimport {GRID_INITIALIZER} from '../gridInitializer/types';\nimport {deserializeSimpleOrdering, serializeSimpleOrdering} from './types';\n\n/**\n * Abstract component for header content renderer\n */\nexport abstract class HeaderContentRendererAbstractComponent<TData = any, TOptions extends HeaderContentRendererOptions<CssClassesHeaderContentRenderer> = any> implements HeaderContentRenderer<SimpleOrdering, BasicTableMetadata<BasicOrderableColumn<TData>>>, GridPluginGeneric<TOptions>\n{\n    //######################### protected fields #########################\n\n    /**\n     * Options for header content renderer\n     */\n    protected _options: TOptions;\n\n    /**\n     * Current ordering state\n     */\n    protected _ordering: SimpleOrdering = null;\n\n    /**\n     * Instance of grid initializer\n     */\n    protected _gridInitializer: GridInitializer = null;\n\n    //######################### public properties - implementation of TableHeaderContentRenderer #########################\n\n    /**\n     * Options for header content renderer\n     */\n    public get options(): TOptions\n    {\n        return this._options;\n    }\n    public set options(options: TOptions)\n    {\n        this._options = extend(true, this._options, options) as TOptions;\n    }\n\n    /**\n     * Metadata used for rendering\n     */\n    public metadata: BasicTableMetadata<BasicOrderableColumn<TData>>;\n\n    /**\n     * Current ordering state\n     */\n    public get ordering(): SimpleOrdering\n    {\n        if(!this._ordering)\n        {\n            this._ordering = deserializeSimpleOrdering(this._gridInitializer.getOrdering());\n\n            this._initializeOrderingCss();\n        }\n\n        return this._ordering;\n    }\n    public set ordering(ordering: SimpleOrdering)\n    {\n        this._gridInitializer.setOrdering(serializeSimpleOrdering(ordering));\n        this._ordering = ordering;\n    }\n\n    /**\n     * Occurs when ordering has changed\n     */\n    public orderingChange: EventEmitter<void> = new EventEmitter<void>();\n\n    //######################### constructor #########################\n    constructor(public pluginElement: ElementRef,\n                public gridPlugins: GridPluginInstances,\n                protected _changeDetector: ChangeDetectorRef)\n    {\n    }\n\n    //######################### public methods - implementation of TableHeaderContentRenderer #########################\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        this.orderingChange.emit();\n        this._changeDetector.detectChanges();\n    }\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n        this._gridInitializer = this.gridPlugins[GRID_INITIALIZER] as GridInitializer;\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n    }\n\n    /**\n     * Resets metadata to defaults\n     * @param force - Indication whether forcibly reset ordering, otherwise it is reset only if column is not present in displayed metadata\n     */\n    public resetMetadata(force: boolean = false): void\n    {\n        //sets initial css classes for all columns\n        this._resetOrdering();\n\n        //only if current ordering column was removed from metadata or forced\n        if(force || !(!!this.ordering?.orderBy && this.metadata?.columns?.find(itm => itm.name == this.ordering.orderBy && itm.ordering)))\n        {\n            this.ordering = null;\n            this._resetOrdering();\n        }\n    }\n\n    //######################### public methods - template bindings #########################\n\n    /**\n     * Merges css classes specified as strings\n     */\n    public mergeStringClasses(...classes: string[])\n    {\n        const result = [];\n\n        classes.forEach(cls => cls ? (result.push(cls)) : null);\n\n        return result;\n    }\n\n    /**\n     * Applies ordering for specified column\n     * @param meta - Metadata for column that was selected for ordering\n     */\n    public orderBy(meta: BasicOrderableColumn<TData>)\n    {\n        if(!meta.ordering)\n        {\n            return;\n        }\n\n        //no ordering, or ordering different column\n        if(!this.ordering || this.ordering.orderBy != meta.name)\n        {\n            this._resetOrdering();\n\n            this.ordering =\n            {\n                orderByDirection: OrderByDirection.Ascending,\n                orderBy: meta.name\n            };\n\n            meta.orderingClass = this.options.cssClasses.spanOrderingDirection.asc;\n            this.orderingChange.emit();\n        }\n        else if(this.ordering.orderByDirection == OrderByDirection.Ascending)\n        {\n            this.ordering =\n            {\n                orderByDirection: OrderByDirection.Descending,\n                orderBy: meta.name\n            };\n\n            meta.orderingClass = this.options.cssClasses.spanOrderingDirection.desc;\n            this.orderingChange.emit();\n        }\n        else\n        {\n            this.ordering = null;\n            meta.orderingClass = this.options.cssClasses.spanOrderingDirection.none;\n            this.orderingChange.emit();\n        }\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Resets ordering to none\n     */\n    protected _resetOrdering()\n    {\n        this.metadata.columns.forEach(meta => meta.orderingClass = this.options.cssClasses.spanOrderingDirection.none);\n    }\n\n    /**\n     * Initialize ordering css\n     */\n    protected _initializeOrderingCss()\n    {\n        //initialize css for ordering if set\n        if(this._ordering?.orderBy)\n        {\n            const meta = this.metadata?.columns?.find(itm => itm.name == this._ordering.orderBy);\n\n            if(meta)\n            {\n                switch(this._ordering.orderByDirection)\n                {\n                    case OrderByDirection.Ascending:\n                    {\n                        meta.orderingClass = this.options.cssClasses.spanOrderingDirection.asc;\n\n                        break;\n                    }\n                    default:\n                    //case OrderByDirection.Descendant:\n                    {\n                        meta.orderingClass = this.options.cssClasses.spanOrderingDirection.desc;\n\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}","<tr>\r\n    <th *ngFor=\"let meta of metadata?.columns; let index=index\" \r\n        [ngClass]=\"mergeStringClasses(options?.cssClasses?.thDefault, meta?.headerClass, meta?.ordering ? options?.cssClasses?.thOrderable : null)\" \r\n        [style.width]=\"meta?.width\"\r\n        (click)=\"orderBy(meta)\"\r\n        [title]=\"meta?.headerTooltip || meta?.title\">\r\n        <ng-template [ngIf]=\"meta?.titleVisible\">\r\n            <ng-template [ngIf]=\"!meta?.headerTemplate\" [ngIfElse]=\"headerTemplate\">\r\n                <span [ngClass]=\"options?.cssClasses?.spanContent\">{{meta?.title}}</span>\r\n            </ng-template>\r\n\r\n            <ng-template #headerTemplate [ngTemplateOutlet]=\"meta?.headerTemplate\" [ngTemplateOutletContext]=\"meta?.getColumnContext(null, meta, index, 0)\">\r\n            </ng-template>\r\n\r\n            <span *ngIf=\"meta?.ordering\" [ngClass]=\"mergeStringClasses(options?.cssClasses?.spanOrdering, meta?.orderingClass)\"></span>\r\n        </ng-template>\r\n    </th>\r\n</tr>","import {EventEmitter, Inject, OnDestroy, resolveForwardRef, Directive, ElementRef, Optional, HostBinding} from '@angular/core';\nimport {extend} from '@jscrpt/common';\nimport {Subscription} from 'rxjs';\n\nimport {GridPluginInstances} from '../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../components/grid/types';\nimport {ContentRendererPlugins, ContentRendererOptions, ContentRenderer, HeaderContentRenderer, BodyContentRenderer, CssClassesContentRenderer} from './contentRenderer.interface';\nimport {BODY_CONTENT_RENDERER, HEADER_CONTENT_RENDERER} from './types';\nimport {MetadataSelector} from '../metadataSelector';\nimport {METADATA_SELECTOR} from '../metadataSelector/types';\nimport {DataResponse, DataLoader} from '../dataLoader';\nimport {DATA_LOADER} from '../dataLoader/types';\nimport {GridPluginGeneric} from '../../misc';\n\n/**\n * Abstract component for content renderers\n */\n@Directive()\nexport class ContentRendererAbstractComponent<TOrdering = any, TData = any, TMetadata = any, TOptions extends ContentRendererOptions<CssClassesContentRenderer, ContentRendererPlugins> = any> implements ContentRenderer<TOrdering>, OnDestroy, GridPluginGeneric<TOptions>\n{\n    //######################### protected fields #########################\n\n    /**\n     * Options for content renderer\n     */\n    protected _options: TOptions;\n\n    /**\n     * Metadata selector currently used\n     */\n    protected _metadataSelector: MetadataSelector<TMetadata>;\n\n    /**\n     * Data loader currently used\n     */\n    protected _dataLoader: DataLoader<DataResponse<TData>>;\n\n    /**\n     * Subscription listening for metadata changes\n     */\n    protected _metadataChangedSubscription: Subscription;\n\n    /**\n     * Subscription listening for data changes\n     */\n    protected _dataChangedSubscription: Subscription;\n\n    /**\n     * Subscription listening for ordering changes\n     */\n    protected _orderingChangedSubscription: Subscription;\n\n    //######################### public properties - implementation of TableContentRenderer #########################\n\n    /**\n     * Options for content renderer\n     */\n    public get options(): TOptions\n    {\n        return this._options;\n    }\n    public set options(options: TOptions)\n    {\n        this._options = extend(true, this._options, options) as TOptions;\n    }\n\n    /**\n     * Information about current ordering state\n     */\n    public get ordering(): TOrdering\n    {\n        const headerRenderer: HeaderContentRenderer<TOrdering, TMetadata> = this.gridPlugins[HEADER_CONTENT_RENDERER] as HeaderContentRenderer<TOrdering, TMetadata>;\n\n        return headerRenderer ? headerRenderer.ordering : null;\n    }\n    public set ordering(ordering: TOrdering)\n    {\n        const headerRenderer: HeaderContentRenderer<TOrdering, TMetadata> = this.gridPlugins[HEADER_CONTENT_RENDERER] as HeaderContentRenderer<TOrdering, TMetadata>;\n\n        if(headerRenderer)\n        {\n            headerRenderer.ordering = ordering;\n        }\n\n        headerRenderer.invalidateVisuals();\n    }\n\n    /**\n     * Indication that ordering has changed\n     */\n    public orderingChange: EventEmitter<void> = new EventEmitter<void>();\n\n    //######################### public properties - hosts #########################\n\n    /**\n     * Css class applied to grid itself\n     */\n    @HostBinding('class')\n    public get cssClass(): string\n    {\n        return this._options.cssClasses.containerDiv;\n    }\n\n    //######################### constructor #########################\n    constructor(public pluginElement: ElementRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() public gridPlugins: GridPluginInstances)\n    {\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n\n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy()\n    {\n        if(this._metadataChangedSubscription)\n        {\n            this._metadataChangedSubscription.unsubscribe();\n            this._metadataChangedSubscription = null;\n        }\n\n        if(this._orderingChangedSubscription)\n        {\n            this._orderingChangedSubscription.unsubscribe();\n            this._orderingChangedSubscription = null;\n        }\n\n        if(this._dataChangedSubscription)\n        {\n            this._dataChangedSubscription.unsubscribe();\n            this._dataChangedSubscription = null;\n        }\n    }\n\n    //######################### public methods - implementation of TableContentRenderer #########################\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        this._invalidateVisuals();\n    }\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n        const metadataSelector: MetadataSelector<TMetadata> = this.gridPlugins[METADATA_SELECTOR] as MetadataSelector<TMetadata>;\n\n        if(this._metadataSelector && this._metadataSelector != metadataSelector)\n        {\n            this._metadataChangedSubscription.unsubscribe();\n            this._metadataChangedSubscription = null;\n            this._metadataSelector = null;\n        }\n\n        if(!this._metadataSelector)\n        {\n            this._metadataSelector = metadataSelector;\n\n            this._metadataChangedSubscription = this._metadataSelector.metadataChange.subscribe(() => this._invalidateVisuals());\n        }\n\n        const dataLoader: DataLoader<DataResponse<TData>> = this.gridPlugins[DATA_LOADER] as DataLoader<DataResponse<TData>>;\n\n        if(this._dataLoader && this._dataLoader != dataLoader)\n        {\n            this._dataChangedSubscription.unsubscribe();\n            this._dataChangedSubscription = null;\n            this._dataLoader = null;\n        }\n\n        if(!this._dataLoader)\n        {\n            this._dataLoader = dataLoader;\n\n            this._dataChangedSubscription = this._dataLoader.resultChange.subscribe(() => this._invalidateVisuals());\n        }\n\n        this.gridPlugins[HEADER_CONTENT_RENDERER].initialize();\n        this.gridPlugins[BODY_CONTENT_RENDERER].initialize();\n\n        this._invalidateVisuals();\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n        if(this._options.plugins)\n        {\n            if(this._options.plugins.bodyRenderer)\n            {\n                this._options.plugins.bodyRenderer.type = resolveForwardRef(this._options.plugins.bodyRenderer.type);\n\n                if(this._options.plugins.bodyRenderer.instance &&\n                   this._options.plugins.bodyRenderer.instance != this.gridPlugins[BODY_CONTENT_RENDERER])\n                {\n                    this.gridPlugins[BODY_CONTENT_RENDERER] = this._options.plugins.bodyRenderer.instance;\n                    this._options.plugins.bodyRenderer.instance.gridPlugins = this.gridPlugins;\n                }\n\n                if(this.gridPlugins[BODY_CONTENT_RENDERER])\n                {\n                    if(this._options.plugins && this._options.plugins.bodyRenderer && this._options.plugins.bodyRenderer.options)\n                    {\n                        this.gridPlugins[BODY_CONTENT_RENDERER].options = this._options.plugins.bodyRenderer.options;\n                    }\n\n                    this.gridPlugins[BODY_CONTENT_RENDERER].initOptions();\n                }\n            }\n\n            if(this._options.plugins.headerRenderer)\n            {\n                this._options.plugins.headerRenderer.type = resolveForwardRef(this._options.plugins.headerRenderer.type);\n\n                if(this._options.plugins.headerRenderer.instance &&\n                   this._options.plugins.headerRenderer.instance != this.gridPlugins[HEADER_CONTENT_RENDERER])\n                {\n                    this.gridPlugins[HEADER_CONTENT_RENDERER] = this._options.plugins.headerRenderer.instance;\n                    this._options.plugins.headerRenderer.instance.gridPlugins = this.gridPlugins;\n\n                    if(this._orderingChangedSubscription)\n                    {\n                        this._orderingChangedSubscription.unsubscribe();\n                        this._orderingChangedSubscription = null;\n                    }\n\n                    this._orderingChangedSubscription = this._options.plugins.headerRenderer.instance.orderingChange.subscribe(() => this.orderingChange.emit());\n                }\n\n                if(this.gridPlugins[HEADER_CONTENT_RENDERER])\n                {\n                    if(this._options.plugins && this._options.plugins.headerRenderer && this._options.plugins.headerRenderer.options)\n                    {\n                        this.gridPlugins[HEADER_CONTENT_RENDERER].options = this._options.plugins.headerRenderer.options;\n                    }\n\n                    this.gridPlugins[HEADER_CONTENT_RENDERER].initOptions();\n                }\n            }\n        }\n    }\n\n    //######################### public methods - template bindings #########################\n\n    /**\n     * Sets body renderer component\n     * @param bodyRenderer - Created body renderer that is rendered\n     * @internal\n     */\n    public setBodyRendererComponent(bodyRenderer: BodyContentRenderer<TData, TMetadata>)\n    {\n        if(!bodyRenderer)\n        {\n            return;\n        }\n\n        this.gridPlugins[BODY_CONTENT_RENDERER] = bodyRenderer;\n\n        if(this._options.plugins && this._options.plugins.bodyRenderer && this._options.plugins.bodyRenderer.options)\n        {\n            bodyRenderer.options = this._options.plugins.bodyRenderer.options;\n        }\n\n        bodyRenderer.initOptions();\n\n        if(this._options.plugins && this._options.plugins.bodyRenderer && this._options.plugins.bodyRenderer.instanceCallback)\n        {\n            this._options.plugins.bodyRenderer.instanceCallback(bodyRenderer);\n        }\n    }\n\n    /**\n     * Sets header renderer component\n     * @param headerRenderer - Created header renderer that is rendered\n     * @internal\n     */\n    public setHeaderRendererComponent(headerRenderer: HeaderContentRenderer<TOrdering, TMetadata>)\n    {\n        if(!headerRenderer)\n        {\n            return;\n        }\n\n        this.gridPlugins[HEADER_CONTENT_RENDERER] = headerRenderer;\n\n        if(this._options.plugins && this._options.plugins.headerRenderer && this._options.plugins.headerRenderer.options)\n        {\n            headerRenderer.options = this._options.plugins.headerRenderer.options;\n        }\n\n        headerRenderer.initOptions();\n\n        if(this._options.plugins && this._options.plugins.headerRenderer && this._options.plugins.headerRenderer.instanceCallback)\n        {\n            this._options.plugins.headerRenderer.instanceCallback(headerRenderer);\n        }\n\n        if(this._orderingChangedSubscription)\n        {\n            this._orderingChangedSubscription.unsubscribe();\n            this._orderingChangedSubscription = null;\n        }\n\n        this._orderingChangedSubscription = headerRenderer.orderingChange.subscribe(() => this.orderingChange.emit());\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Invalidates visuals, redraw template\n     */\n    protected _invalidateVisuals()\n    {\n        const bodyRenderer: BodyContentRenderer<TData, TMetadata> = this.gridPlugins[BODY_CONTENT_RENDERER] as BodyContentRenderer<TData, TMetadata>;\n        const headerRenderer: HeaderContentRenderer<TOrdering, TMetadata> = this.gridPlugins[HEADER_CONTENT_RENDERER] as HeaderContentRenderer<TOrdering, TMetadata>;\n\n        if(headerRenderer.metadata != this._metadataSelector.metadata)\n        {\n            headerRenderer.metadata = this._metadataSelector.metadata;\n            headerRenderer.resetMetadata();\n            headerRenderer.invalidateVisuals();\n        }\n\n        if(bodyRenderer.data != this._dataLoader.result.data || bodyRenderer.metadata != this._metadataSelector.metadata)\n        {\n            bodyRenderer.data = this._dataLoader.result.data;\n            bodyRenderer.metadata = this._metadataSelector.metadata;\n            bodyRenderer.invalidateVisuals();\n        }\n    }\n}","import {Component, ChangeDetectionStrategy, Inject, Optional, OnDestroy, HostBinding, forwardRef, ElementRef} from '@angular/core';\nimport {extend} from '@jscrpt/common';\n\nimport {TableContentRendererOptions} from './tableContentRenderer.interface';\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../../components/grid/types';\nimport {CONTENT_RENDERER_OPTIONS} from '../types';\nimport {PluginDescription} from '../../../misc';\nimport {TableBodyContentRendererComponent} from './body/basic/tableBodyContentRenderer.component';\nimport {TableHeaderContentRendererComponent} from './header/basic/tableHeaderContentRenderer.component';\nimport {ContentRendererAbstractComponent} from '../contentRendererAbstract.component';\nimport {BodyContentRenderer, HeaderContentRenderer} from '../contentRenderer.interface';\n\n/**\n * Default options for 'TableContentRendererComponent'\n * @internal\n */\nconst defaultOptions: TableContentRendererOptions =\n{\n    cssClasses:\n    {\n        table: 'table table-condensed table-striped table-hover',\n        containerDiv: 'table-container'\n    },\n    plugins:\n    {\n        bodyRenderer: <PluginDescription<BodyContentRenderer>>\n        {\n            type: forwardRef(() => TableBodyContentRendererComponent)\n        },\n        headerRenderer: <PluginDescription<HeaderContentRenderer>>\n        {\n            type: forwardRef(() => TableHeaderContentRendererComponent)\n        }\n    }\n};\n\n/**\n * Component used for 'TableContentRendererComponent'\n */\n@Component(\n{\n    selector: 'div.table-content-renderer',\n    templateUrl: 'tableContentRenderer.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableContentRendererComponent<TOrdering = any, TData = any, TMetadata = any> extends ContentRendererAbstractComponent<TOrdering, TData, TMetadata, TableContentRendererOptions> implements OnDestroy\n{\n    //######################### public properties - hosts #########################\n\n    /**\n     * Css class applied to grid itself\n     */\n    @HostBinding('class')\n    public override get cssClass(): string\n    {\n        return this._options.cssClasses.containerDiv;\n    }\n\n    //######################### constructor #########################\n    constructor(pluginElement: ElementRef,\n                @Inject(GRID_PLUGIN_INSTANCES) @Optional() gridPlugins: GridPluginInstances,\n                @Inject(CONTENT_RENDERER_OPTIONS) @Optional() options?: TableContentRendererOptions)\n    {\n        super(pluginElement, gridPlugins);\n\n        this._options = extend(true, {}, defaultOptions, options);\n    }\n}",null,"<table [ngClass]=\"options?.cssClasses?.table\">\r\n    <ng-template [ngComponentOutletEx]=\"options?.plugins?.headerRenderer?.type\" (ngComponentOutletExCreated)=\"setHeaderRendererComponent($event)\"></ng-template>\r\n    <ng-template [ngComponentOutletEx]=\"options?.plugins?.bodyRenderer?.type\" (ngComponentOutletExCreated)=\"setBodyRendererComponent($event)\"></ng-template>\r\n</table>","import {Component, ChangeDetectionStrategy, EventEmitter, OnDestroy, ElementRef} from '@angular/core';\nimport {Subscription} from 'rxjs';\n\nimport {NoMetadataSelector, NoMetadataSelectorOptions} from './noMetadataSelector.interface';\nimport {MetadataGatherer} from '../../../components/metadata';\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GridPluginGeneric} from '../../../misc';\n\n/**\n * Plugin component for metadata selector, which does not allows selection of metadata\n */\n@Component(\n{\n    selector: 'ng-no-metadata-selector',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NoMetadataSelectorComponent<TMetadata = any> implements NoMetadataSelector<TMetadata>, GridPluginGeneric<NoMetadataSelectorOptions>, OnDestroy\n{\n    /**\n     * Subscription for metadata changes\n     */\n    private _metadataChangedSubscription: Subscription;\n\n    /**\n     * Indication whether gahterer has been initialized\n     */\n    private _gathererInitialized: boolean = false;\n\n    /**\n     * Instance of metadata gatherer, which is used for getting initial metadata\n     */\n    private _metadataGatherer: MetadataGatherer<TMetadata>;\n\n    //######################### public properties - implementation of NoMetadataSelector #########################\n\n    /**\n     * Options for metadata selector\n     */\n    public options: NoMetadataSelectorOptions;\n\n    /**\n     * Instance of metadata gatherer, which is used for getting initial metadata\n     */\n    public get metadataGatherer(): MetadataGatherer<TMetadata>\n    {\n        return this._metadataGatherer;\n    }\n    public set metadataGatherer(gatherer: MetadataGatherer<TMetadata>)\n    {\n        if(this._metadataGatherer != gatherer)\n        {\n            this._gathererInitialized = false;\n        }\n\n        this._metadataGatherer = gatherer;\n    }\n\n    /**\n     * Current metadata that are used for rendering\n     */\n    public metadata: TMetadata;\n\n    /**\n     * Occurs when metadata changed\n     */\n    public metadataChange: EventEmitter<void> = new EventEmitter<void>();\n\n    /**\n     * Grid plugin instances available for this plugin\n     */\n    public gridPlugins: GridPluginInstances;\n\n    //######################### constructor #########################\n    constructor(public pluginElement: ElementRef)\n    {\n    }\n\n    //######################### public methods - implementation of NoMetadataSelector #########################\n\n    /**\n     * Shows metadata selector\n     */\n    public show(): void\n    {\n    }\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n        if(!this._gathererInitialized)\n        {\n            if(this._metadataChangedSubscription)\n            {\n                this._metadataChangedSubscription.unsubscribe();\n                this._metadataChangedSubscription = null;\n            }\n\n            this._metadataChangedSubscription = this.metadataGatherer.metadataChange.subscribe(() =>\n            {\n                this.metadata = this.metadataGatherer.getMetadata();\n\n                this.metadataChange.emit();\n            });\n        }\n\n        this.metadata = this.metadataGatherer.getMetadata();\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals()\n    {\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n    \n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy()\n    {\n        if(this._metadataChangedSubscription)\n        {\n            this._metadataChangedSubscription.unsubscribe();\n            this._metadataChangedSubscription = null;\n        }\n    }\n}",null,"import {Inject, Component, ChangeDetectionStrategy, ElementRef, ChangeDetectorRef, Optional, OnDestroy} from '@angular/core';\nimport {STRING_LOCALIZATION, StringLocalization} from '@anglr/common';\nimport {extend} from '@jscrpt/common';\nimport {Subscription} from 'rxjs';\n\nimport {NO_DATA_RENDERER_OPTIONS} from '../types';\nimport {GridPluginGeneric} from '../../../misc';\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../../components/grid/types';\nimport {DataLoader, DataResponse} from '../../dataLoader';\nimport {DATA_LOADER, DataLoaderState} from '../../dataLoader/types';\nimport {SimpleNoDataRenderer, CssClassesSimpleNoDataRenderer, SimpleNoDataRendererOptions} from './simpleNoDataRenderer.interface';\nimport {NoDataRendererTexts} from '../noDataRenderer.interface';\n\n//TODO - change texts for texts options with localizations\n\n/**\n * Default options for no data renderer\n * @internal\n */\nconst defaultOptions: SimpleNoDataRendererOptions<CssClassesSimpleNoDataRenderer> =\n{\n    texts:\n    {\n        loading: 'Loading ...',\n        noData: 'No data available.',\n        notLoaded: 'No data loaded yet'\n    },\n    cssClasses:\n    {\n        wrapperDiv: 'simple-no-data',\n        textSpan: 'simple-no-data-text'\n    }\n};\n\n/**\n * Component for basic simple no data renderer\n */\n@Component(\n{\n    selector: 'ng-simple-no-data',\n    templateUrl: 'simpleNoDataRenderer.component.html',\n    styleUrls: ['simpleNoDataRenderer.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SimpleNoDataRendererComponent implements SimpleNoDataRenderer, GridPluginGeneric<SimpleNoDataRendererOptions<CssClassesSimpleNoDataRenderer>>, OnDestroy\n{\n    //######################### protected fields #########################\n\n    /**\n     * Options for grid plugin\n     */\n    protected _options: SimpleNoDataRendererOptions<CssClassesSimpleNoDataRenderer>;\n\n    /**\n     * Data loader currently used\n     */\n    protected _dataLoader: DataLoader<DataResponse>;\n\n    /**\n     * Subscription for changes in state of data loader\n     */\n    protected _stateChangedSubscription: Subscription;\n\n    /**\n     * Subscription for changes in texts\n     */\n    protected _textsChangedSubscription: Subscription;\n\n    /**\n     * Object containing available texts\n     */\n    protected _texts: NoDataRendererTexts = {};\n\n    //######################### public properties - template bindings #########################\n\n    /**\n     * Currently displayed text\n     */\n    public text: string;\n\n    //######################### public properties - implementation of NoDataRenderer #########################\n\n    /**\n     * Options for grid plugin\n     */\n    public get options(): SimpleNoDataRendererOptions<CssClassesSimpleNoDataRenderer>\n    {\n        return this._options;\n    }\n    public set options(options: SimpleNoDataRendererOptions<CssClassesSimpleNoDataRenderer>)\n    {\n        this._options = extend(true, this._options, options);\n    }\n\n    //######################### constructor #########################\n    constructor(@Inject(GRID_PLUGIN_INSTANCES) @Optional() public gridPlugins: GridPluginInstances,\n                @Inject(STRING_LOCALIZATION) protected _stringLocalization: StringLocalization,\n                public pluginElement: ElementRef,\n                protected _changeDetector: ChangeDetectorRef,\n                @Inject(NO_DATA_RENDERER_OPTIONS) @Optional() options?: SimpleNoDataRendererOptions<CssClassesSimpleNoDataRenderer>)\n    {\n        this._options = extend(true, {}, defaultOptions, options);\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n    \n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy()\n    {\n        if(this._stateChangedSubscription)\n        {\n            this._stateChangedSubscription.unsubscribe();\n            this._stateChangedSubscription = null;\n        }\n\n        if(this._textsChangedSubscription)\n        {\n            this._textsChangedSubscription.unsubscribe();\n            this._textsChangedSubscription = null;\n        }\n    }\n\n    //######################### public methods - implementation of NoDataRenderer #########################\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n        const dataLoader: DataLoader<DataResponse> = this.gridPlugins[DATA_LOADER] as DataLoader<DataResponse>;\n\n        if(this._dataLoader && this._dataLoader != dataLoader)\n        {\n            this._stateChangedSubscription.unsubscribe();\n            this._stateChangedSubscription = null;\n\n            this._dataLoader = null;\n        }\n\n        if(!this._dataLoader)\n        {\n            this._dataLoader = dataLoader;\n\n            this._stateChangedSubscription = this._dataLoader.stateChange.subscribe(() => this._processLoaderState());\n        }\n\n        this._textsChangedSubscription = this._stringLocalization.textsChange.subscribe(() => this._initTexts());\n        this._initTexts();\n        \n        this.invalidateVisuals();\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        this._changeDetector.detectChanges();\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Process current loader state\n     */\n    protected _processLoaderState()\n    {\n        if(!this._dataLoader)\n        {\n            return;\n        }\n\n        switch(this._dataLoader.state)\n        {\n            case DataLoaderState.NoDataLoading:\n            {\n                this.text = this._texts.loading;\n\n                break;\n            }\n            case DataLoaderState.NoData:\n            {\n                this.text = this._texts.noData;\n\n                break;\n            }\n            case DataLoaderState.NotLoadedYet:\n            {\n                this.text = this._texts.notLoaded;\n\n                break;\n            }\n            default:\n            //case DataLoaderState.Loaded:\n            //case DataLoaderState.DataLoading:\n            {\n                this.text = null;\n\n                break;\n            }\n        }\n\n        this._changeDetector.detectChanges();\n    }\n\n    /**\n     * Initialize texts\n     */\n    protected _initTexts()\n    {\n        Object.keys(this.options.texts).forEach(key =>\n        {\n            this._texts[key] = this._stringLocalization.get(this.options.texts[key]);\n        });\n\n        this._processLoaderState();\n    }\n}","<div [ngClass]=\"options?.cssClasses?.wrapperDiv\" *ngIf=\"!!text\">\r\n    <span [ngClass]=\"options?.cssClasses?.textSpan\" *ngIf=\"!options?.template; else options?.template\">{{text}}</span>\r\n</div>","import {InjectionToken} from '@angular/core';\n\nimport {RowSelectorOptions, RowSelector} from './rowSelector.interface';\nimport {Grid} from '../../components/grid';\n\n/**\n * Token for injecting options for row selector\n */\nexport const ROW_SELECTOR_OPTIONS: InjectionToken<RowSelectorOptions> = new InjectionToken<RowSelectorOptions>('ROW_SELECTOR_OPTIONS');\n\n/**\n * Constant used for accessing row selector in grid\n */\nexport const ROW_SELECTOR = 'ROW_SELECTOR';\n\n/**\n * Applies block of row selection to grid, if row was not selected checkbox change event will be blocked\n * @param grid - Instance of grid which is used\n * @param itm - Data item for row\n * @param event - Mouse event that occured\n */\nexport function applyRowSelectionBlock<TItem>(grid: Grid, itm: TItem, event: MouseEvent)\n{\n    const rowSelector = grid.getPlugin<RowSelector>(ROW_SELECTOR);\n\n    if(!rowSelector.isSelected(itm) && (event.target as HTMLInputElement).checked)\n    {\n        event.preventDefault();\n    }\n}","import {Component, ChangeDetectionStrategy, ElementRef, EventEmitter, Inject, Optional, OnDestroy} from '@angular/core';\nimport {extend, isBlank} from '@jscrpt/common';\nimport {Subscription} from 'rxjs';\n\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GRID_PLUGIN_INSTANCES} from '../../../components/grid/types';\nimport {GridPluginGeneric} from '../../../misc';\nimport {DataLoader} from '../../dataLoader';\nimport {DATA_LOADER} from '../../dataLoader/types';\nimport {ROW_SELECTOR_OPTIONS} from '../types';\nimport {BasicRowSelectorOptions, BasicRowSelector} from './basicRowSelector.interface';\n\n/**\n * Default options for row selector\n * @internal\n */\nconst defaultOptions: BasicRowSelectorOptions =\n{\n    getRowId: null,\n    autoResetOnDataChange: false,\n    multiSelection: true,\n    getRowData: null\n};\n\n/**\n * Component used for handling row selection\n *\n * This component requires `ContentRenderer` which supports row selection, one possible use is with `TableContentRendererComponent` with `AdvancedTableBodyContentRendererComponent`, any\n * other `ContentRenderer` that supports row selection can be used\n *\n * Working with `BasicRowSelectorComponent` from code should be done using extensions methods\n *\n * @example\n * If you want to use row selection you must provide at least `getRowId`, you can use `getRowData` for obtaining selected data in requested format see below example:\n * \n * ``` typescript\n * var gridOptions =\n * {\n *     plugins:\n *     {\n *         contentRenderer:\n *         {\n *             options: <TableContentRendererOptions>\n *             {\n *                 plugins:\n *                 {\n *                     bodyRenderer:\n *                     {\n *                         type: AdvancedTableBodyContentRendererComponent\n *                     }\n *                 }\n *             }\n *         },\n *         rowSelector:\n *         {\n *             options: <RowSelectorOptions<SelectedDataType, DataType, string>>\n *             {\n *                 getRowId: item => item.uuid,\n *                 getRowData: item =>\n *                 {\n *                     return {\n *                         uuid: item.uuid,\n *                         myNumber: item.myNumber,\n *                         myString: item.myString\n *                     };\n *                 }\n *             }\n *         }\n *     }\n * };\n * ```\n *\n * @example\n * Example usage with `AdvancedTableBodyContentRendererComponent`\n * \n * ``` html\n * <ng-grid #grid [gridOptions]=\"gridOptions\">\n *     <basic-table-metadata>\n *         <basic-table-column id=\"uuid\" name=\"uuid\" title=\"Id\"></basic-table-column>\n *         <basic-table-column id=\"myNumber\" name=\"myNumber\" title=\"Number value\"></basic-table-column>\n *         <basic-table-column id=\"myString\" name=\"myString\" title=\"String value\"></basic-table-column>\n *\n *         <basic-table-column id=\"rowSelection\" name=\"rowSelection\" title=\"Row selection\">\n *             <!-- selection of all rows in header -->\n *             <ng-template #headerTemplate>\n *                 <input type=\"checkbox\" (click)=\"toggleAllSelected($event.target.checked, $event)\" [checked]=\"selectedAll\">\n *             </ng-template>\n *\n *             <!-- selection of single row -->\n *             <ng-template #bodyTemplate let-item let-rowSelector=\"rowSelector\" let-isSelected=\"isSelected\">\n *                 <input type=\"checkbox\" (click)=\"rowSelector.selectItem(item, $event.target.checked)\" [checked]=\"isSelected\">\n *             </ng-template>\n *         </basic-table-column>\n *     </basic-table-metadata>\n * </ng-grid>\n * ```\n *\n * @example\n * Selecting all items in code\n * \n * ``` typescript\n * public selectedAll: boolean = false;\n * \n * (at)ViewChild('grid')\n * public grid: GridComponent;\n * \n * public ngAfterViewInit()\n * {\n *     this._setSelectedFlags();\n *\n *     let dataLoader = this.grid.getPlugin<DataLoader<DataResponse>>(DATA_LOADER);\n *     let rowSelector = this.grid.getPlugin<RowSelector>(ROW_SELECTOR);\n *\n *     rowSelector.selectedChange.subscribe(() => this._setSelectedFlags());\n *     dataLoader.resultChange.subscribe(() => this._setSelectedFlags());\n * }\n *\n * public toggleAllSelected(value: boolean)\n * {\n *     this.grid.execute(selectAllOnPage(value));\n * }\n *\n * private _setSelectedFlags()\n * {\n *     this.selectedAll = this.grid.executeAndReturn(areSelectedAllOnPage());\n *\n *     this._changeDetector.detectChanges();\n * }\n * ```\n */\n@Component(\n{\n    selector: 'ng-basic-row-selector',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class BasicRowSelectorComponent<TSelectedData = any, TData = any, TId = any> implements BasicRowSelector<TSelectedData, TData, TId>, GridPluginGeneric<BasicRowSelectorOptions<TSelectedData, TData, TId>>, OnDestroy\n{\n    //######################### protected fields #########################\n\n    /**\n     * Options for grid plugin\n     */\n    protected _options: BasicRowSelectorOptions<TSelectedData, TData, TId>;\n\n    /**\n     * Data loader used for loading data\n     */\n    protected _dataLoader: DataLoader;\n\n    /**\n     * Subscription for data changes\n     */\n    protected _dataChangedSubscription: Subscription;\n\n    //######################### public properties - implementation of RowSelector #########################\n\n    /**\n     * Options for grid plugin\n     */\n    public get options(): BasicRowSelectorOptions<TSelectedData, TData, TId>\n    {\n        return this._options;\n    }\n    public set options(options: BasicRowSelectorOptions<TSelectedData, TData, TId>)\n    {\n        this._options = extend(true, this._options, options) as BasicRowSelectorOptions<TSelectedData, TData, TId>;\n    }\n\n    /**\n     * Array of currently selected row ids\n     */\n    public selectedIds: TId[] = [];\n\n    /**\n     * Array of currently selected row data\n     */\n    public selectedData: TSelectedData[] = [];\n\n    /**\n     * Occurs when selection has changed\n     */\n    public selectedChange?: EventEmitter<void> = new EventEmitter<void>();\n\n    //######################### constructor #########################\n    constructor(@Inject(GRID_PLUGIN_INSTANCES) @Optional() public gridPlugins: GridPluginInstances,\n                public pluginElement: ElementRef,\n                @Inject(ROW_SELECTOR_OPTIONS) @Optional() options?: BasicRowSelectorOptions<TSelectedData, TData, TId>)\n    {\n        this._options = extend(true, {}, defaultOptions, options) as BasicRowSelectorOptions<TSelectedData, TData, TId>;\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n\n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy()\n    {\n        if(this._dataChangedSubscription)\n        {\n            this._dataChangedSubscription.unsubscribe();\n            this._dataChangedSubscription = null;\n        }\n    }\n\n    //######################### public methods - implementation of RowSelector #########################\n\n    /**\n     * Resets current selection\n     * @param emit - Indication whether emit selection change\n     */\n    public resetSelection(emit: boolean = true)\n    {\n        this.selectedIds = [];\n        this.selectedData = [];\n\n        if(emit)\n        {\n            this.selectedChange.emit();\n        }\n    }\n\n    /**\n     * Adds item to selection (or remove it from selection if deselect is true)\n     * @param item - Item that is going to be selected\n     * @param select - Indication whether select specified item, defaults to true\n     */\n    public selectItem(item: TData, select: boolean = true)\n    {\n        if(isBlank(this.options.getRowId))\n        {\n            throw new Error('Missing \"getRowId\" method in options before first use!');\n        }\n\n        if(!this.options.multiSelection)\n        {\n            this.resetSelection(false);\n        }\n\n        const id = this.options.getRowId(item);\n        const index = this.selectedIds.indexOf(id);\n\n        //select if not selected\n        if(select && index < 0)\n        {\n            this.selectedIds.push(id);\n            this.selectedData.push(this.options.getRowData(item));\n\n            this.selectedChange.emit();\n        }\n        //remove from selection if selected\n        else if(!select && index >= 0)\n        {\n            this.selectedIds.splice(index, 1);\n            this.selectedData.splice(index, 1);\n            this.selectedIds = [...this.selectedIds];\n            this.selectedData = [...this.selectedData];\n\n            this.selectedChange.emit();\n        }\n    }\n\n    /**\n     * Gets indication whether item is currently selected\n     * @param item - Item that is tested for current selection\n     */\n    public isSelected(item: TData): boolean\n    {\n        if(isBlank(this.options.getRowId))\n        {\n            throw new Error('Missing \"getRowId\" method in options before first use!');\n        }\n\n        const id = this.options.getRowId(item);\n\n        return this.selectedIds.indexOf(id) > -1;\n    }\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n        const dataLoader: DataLoader = this.gridPlugins[DATA_LOADER] as DataLoader;\n\n        if(this._dataLoader && this._dataLoader != dataLoader)\n        {\n            this._dataChangedSubscription.unsubscribe();\n            this._dataChangedSubscription = null;\n\n            this._dataLoader = null;\n        }\n\n        if(!this._dataLoader)\n        {\n            this._dataLoader = dataLoader;\n\n            this._dataChangedSubscription = this._dataLoader.resultChange.subscribe(() =>\n            {\n                if(this.options.autoResetOnDataChange)\n                {\n                    this.resetSelection(false);\n                }\n            });\n        }\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n        if(!this.options.getRowData)\n        {\n            this.options.getRowData = this.options.getRowId as any;\n        }\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n    }\n}","import {ChangeDetectionStrategy, Component, ElementRef} from '@angular/core';\n\nimport {GridPluginInstances} from '../../../components/grid';\nimport {GridPluginGeneric} from '../../../misc';\nimport {NoGridInitializer, NoGridInitializerOptions} from './noGridInitializer.interface';\n\n\n/**\n * Component used for rendering no grid initializer\n */\n@Component(\n{\n    selector: 'ng-no-grid-initializer',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NoGridInitializerComponent implements NoGridInitializer, GridPluginGeneric<NoGridInitializerOptions>\n{\n    //######################### public properties - implementation of NoGridInitializer #########################\n\n    /**\n     * Element that represents plugin\n     */\n    public pluginElement: ElementRef;\n\n    /**\n     * Options for grid plugin\n     */\n    public options: NoGridInitializerOptions;\n\n    /**\n     * Grid plugin instances available for this plugin\n     */\n    public gridPlugins: GridPluginInstances;\n\n    //######################### public methods - implementation of NoGridInitializer #########################\n\n    /**\n     * Initialize plugin, to be ready to use, initialize communication with other plugins\n     */\n    public initialize()\n    {\n    }\n\n    /**\n     * Initialize plugin options, all operations required to be done with plugin options are handled here\n     */\n    public initOptions()\n    {\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n    }\n\n    /**\n     * Gets stored page\n     */\n    public getPage(): number\n    {\n        return null;\n    }\n\n    /**\n     * Sets current page when changed\n     * @param page - Page to be stored\n     */\n    public setPage()\n    {\n    }\n\n    /**\n     * Gets stored items per page\n     */\n    public getItemsPerPage(): number\n    {\n        return null;\n    }\n\n    /**\n     * Sets current items per page when changed\n     * @param itemsPerPage - Items per page to be stored\n     */\n    public setItemsPerPage()\n    {\n    }\n\n    /**\n     * Gets stored ordering\n     */\n    public getOrdering(): string\n    {\n        return null;\n    }\n\n    /**\n     * Sets current ordering when changed\n     * @param ordering - Ordering as string to be stored\n     */\n    public setOrdering(): void\n    {\n    }\n}",null,"import {Component, ChangeDetectionStrategy, Inject, Optional, Type, Input, OnInit, AfterViewInit, ContentChild, forwardRef, resolveForwardRef, ChangeDetectorRef, FactoryProvider} from '@angular/core';\nimport {extend} from '@jscrpt/common';\nimport {Observable, BehaviorSubject} from 'rxjs';\n\nimport {GridPluginInstances, Grid, GridFunction} from './grid.interface';\nimport {GRID_PLUGIN_INSTANCES} from './types';\nimport {GridOptions, PluginDescription, GridPlugin} from '../../misc';\nimport {GRID_OPTIONS, PAGING_TYPE, DATA_LOADER_TYPE, CONTENT_RENDERER_TYPE, METADATA_SELECTOR_TYPE, NO_DATA_RENDERER_TYPE, ROW_SELECTOR_TYPE, GRID_INITIALIZER_TYPE} from '../../misc/types';\nimport {PagingPosition} from '../../misc/enums';\nimport {Paging} from '../../plugins/paging';\nimport {BasicPagingComponent} from '../../plugins/paging/components';\nimport {PAGING} from '../../plugins/paging/types';\nimport {MetadataGatherer} from '../metadata';\nimport {METADATA_GATHERER} from '../metadata/types';\nimport {DataLoader} from '../../plugins/dataLoader';\nimport {AsyncDataLoaderComponent} from '../../plugins/dataLoader/components';\nimport {DATA_LOADER} from '../../plugins/dataLoader/types';\nimport {ContentRenderer} from '../../plugins/contentRenderer';\nimport {TableContentRendererComponent} from '../../plugins/contentRenderer/components';\nimport {CONTENT_RENDERER} from '../../plugins/contentRenderer/types';\nimport {MetadataSelector} from '../../plugins/metadataSelector';\nimport {NoMetadataSelectorComponent} from '../../plugins/metadataSelector/components';\nimport {METADATA_SELECTOR} from '../../plugins/metadataSelector/types';\nimport {NoDataRenderer} from '../../plugins/noDataRenderer';\nimport {SimpleNoDataRendererComponent} from '../../plugins/noDataRenderer/components';\nimport {NO_DATA_RENDERER} from '../../plugins/noDataRenderer/types';\nimport {RowSelector} from '../../plugins/rowSelector';\nimport {BasicRowSelectorComponent} from '../../plugins/rowSelector/components';\nimport {ROW_SELECTOR} from '../../plugins/rowSelector/types';\nimport {GridInitializer} from '../../plugins/gridInitializer';\nimport {NoGridInitializerComponent} from '../../plugins/gridInitializer/components';\nimport {GRID_INITIALIZER} from '../../plugins/gridInitializer/types';\n\n//TODO - make grid css class customizable\n\n/**\n * Default 'GridOptions'\n * @internal\n */\nconst defaultOptions: GridOptions =\n{\n    autoInitialize: true,\n    pagingPosition: PagingPosition.Bottom,\n    plugins:\n    {\n        paging: <PluginDescription<Paging>>\n        {\n            type: forwardRef(() => BasicPagingComponent)\n        },\n        metadataSelector: <PluginDescription<MetadataSelector>>\n        {\n            type: forwardRef(() => NoMetadataSelectorComponent)\n        },\n        dataLoader: <PluginDescription<DataLoader>>\n        {\n            type: forwardRef(() => AsyncDataLoaderComponent)\n        },\n        contentRenderer: <PluginDescription<ContentRenderer>>\n        {\n            type: forwardRef(() => TableContentRendererComponent)\n        },\n        noDataRenderer: <PluginDescription<NoDataRenderer>>\n        {\n            type: forwardRef(() => SimpleNoDataRendererComponent)\n        },\n        rowSelector: <PluginDescription<RowSelector>>\n        {\n            type: forwardRef(() => BasicRowSelectorComponent)\n        },\n        gridInitializer: <PluginDescription<GridInitializer>>\n        {\n            type: forwardRef(() => NoGridInitializerComponent)\n        }\n    }\n};\n\n/**\n * Grid component used for rendering grid\n */\n@Component(\n{\n    selector: 'ng-grid',\n    templateUrl: 'grid.component.html',\n    styleUrls: ['grid.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers:\n    [\n        <FactoryProvider>\n        {\n            provide: GRID_PLUGIN_INSTANCES,\n            useFactory: () => {return {};}\n        }\n    ]\n})\nexport class GridComponent implements OnInit, AfterViewInit, Grid\n{\n    //######################### private fields #########################\n\n    /**\n     * Grid options\n     */\n    private _gridOptions: GridOptions;\n\n    /**\n     * Subject used for indication that grid was initialized\n     */\n    private _initializedSubject: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n    //######################### public properties - inputs #########################\n\n    /**\n     * Gets or sets grid options\n     */\n    @Input()\n    public get gridOptions(): GridOptions\n    {\n        return this._gridOptions;\n    }\n    public set gridOptions(options: GridOptions)\n    {\n        this._gridOptions = extend(true, this._gridOptions, options);\n    }\n\n    //######################### public properties - outputs #########################\n\n    /**\n     * Occurs every time when grid is initialized or reinitialized\n     */\n    public get initialized(): Observable<boolean>\n    {\n        return this._initializedSubject.asObservable();\n    }\n\n    //######################### public properties - children #########################\n\n    /**\n     * Metadata gatherer instance\n     * @internal\n     */\n    @ContentChild(METADATA_GATHERER)\n    public metadataGatherer: MetadataGatherer;\n\n    //######################### constructors #########################\n    constructor(private _changeDetector: ChangeDetectorRef,\n                @Inject(GRID_PLUGIN_INSTANCES) private _pluginInstances: GridPluginInstances,\n                @Inject(GRID_OPTIONS) @Optional() options?: GridOptions,\n                @Inject(PAGING_TYPE) @Optional() pagingType?: Type<Paging>,\n                @Inject(GRID_INITIALIZER_TYPE) @Optional() gridInitializerType?: Type<GridInitializer>,\n                @Inject(DATA_LOADER_TYPE) @Optional() dataLoaderType?: Type<DataLoader>,\n                @Inject(CONTENT_RENDERER_TYPE) @Optional() contentRendererType?: Type<ContentRenderer>,\n                @Inject(METADATA_SELECTOR_TYPE) @Optional() metadataSelectorType?: Type<MetadataSelector>,\n                @Inject(NO_DATA_RENDERER_TYPE) @Optional() noDataRendererType?: Type<NoDataRenderer>,\n                @Inject(ROW_SELECTOR_TYPE) @Optional() rowSelectorType?: Type<RowSelector>)\n    {\n        const opts: GridOptions = extend({}, options);\n\n        if(!opts.plugins)\n        {\n            opts.plugins = {};\n        }\n\n        if(pagingType)\n        {\n            if(!opts.plugins.paging)\n            {\n                opts.plugins.paging = {};\n            }\n\n            opts.plugins.paging.type = pagingType;\n        }\n\n        if(gridInitializerType)\n        {\n            if(!opts.plugins.gridInitializer)\n            {\n                opts.plugins.gridInitializer = {};\n            }\n\n            opts.plugins.gridInitializer.type = gridInitializerType;\n        }\n\n        if(dataLoaderType)\n        {\n            if(!opts.plugins.dataLoader)\n            {\n                opts.plugins.dataLoader = {};\n            }\n\n            opts.plugins.dataLoader.type = dataLoaderType;\n        }\n        \n        if(contentRendererType)\n        {\n            if(!opts.plugins.contentRenderer)\n            {\n                opts.plugins.contentRenderer = {};\n            }\n\n            opts.plugins.contentRenderer.type = contentRendererType;\n        }\n\n        if(metadataSelectorType)\n        {\n            if(!opts.plugins.metadataSelector)\n            {\n                opts.plugins.metadataSelector = {};\n            }\n\n            opts.plugins.metadataSelector.type = metadataSelectorType;\n        }\n\n        if(noDataRendererType)\n        {\n            if(!opts.plugins.noDataRenderer)\n            {\n                opts.plugins.noDataRenderer = {};\n            }\n\n            opts.plugins.noDataRenderer.type = noDataRendererType;\n        }\n\n        if(rowSelectorType)\n        {\n            if(!opts.plugins.rowSelector)\n            {\n                opts.plugins.rowSelector = {};\n            }\n\n            opts.plugins.rowSelector.type = rowSelectorType;\n        }\n\n        this._gridOptions = extend(true, {}, defaultOptions, opts);\n    }\n\n    //######################### public methods - implementation of OnInit #########################\n\n    /**\n     * Initialize component\n     */\n    public ngOnInit()\n    {\n        this.initOptions();\n    }\n\n    //######################### public methods - implementation of AfterViewInit #########################\n    \n    /**\n     * Called when view was initialized\n     */\n    public ngAfterViewInit()\n    {\n        if(this._gridOptions.autoInitialize)\n        {\n            this.initialize();\n        }\n    }\n\n    //######################### public methods - template bindings #########################\n\n    /**\n     * Sets paging component\n     * @param paging - Created paging that is rendered\n     * @internal\n     */\n    public setPagingComponent(paging: Paging)\n    {\n        if(!paging)\n        {\n            return;\n        }\n\n        this._pluginInstances[PAGING] = paging;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.paging && this._gridOptions.plugins.paging.options)\n        {\n            paging.options = this._gridOptions.plugins.paging.options;\n        }\n\n        paging.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.paging && this._gridOptions.plugins.paging.instanceCallback)\n        {\n            this._gridOptions.plugins.paging.instanceCallback(paging);\n        }\n    }\n\n    /**\n     * Sets grid initializer component\n     * @param gridInitializer - Created grid initializer that is used\n     * @internal\n     */\n    public setGridInitializerComponent(gridInitializer: GridInitializer)\n    {\n        if(!gridInitializer)\n        {\n            return;\n        }\n\n        this._pluginInstances[GRID_INITIALIZER] = gridInitializer;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.gridInitializer && this._gridOptions.plugins.gridInitializer.options)\n        {\n            gridInitializer.options = this._gridOptions.plugins.gridInitializer.options;\n        }\n\n        gridInitializer.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.gridInitializer && this._gridOptions.plugins.gridInitializer.instanceCallback)\n        {\n            this._gridOptions.plugins.gridInitializer.instanceCallback(gridInitializer);\n        }\n    }\n\n    /**\n     * Sets metadata selector component\n     * @param metadataSelector - Created metadata selector that is used\n     * @internal\n     */\n    public setMetadataSelectorComponent(metadataSelector: MetadataSelector)\n    {\n        if(!metadataSelector)\n        {\n            return;\n        }\n\n        this._pluginInstances[METADATA_SELECTOR] = metadataSelector;\n\n        metadataSelector.metadataGatherer = this.metadataGatherer;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.metadataSelector && this._gridOptions.plugins.metadataSelector.options)\n        {\n            metadataSelector.options = this._gridOptions.plugins.metadataSelector.options;\n        }\n\n        metadataSelector.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.metadataSelector && this._gridOptions.plugins.metadataSelector.instanceCallback)\n        {\n            this._gridOptions.plugins.metadataSelector.instanceCallback(metadataSelector);\n        }\n    }\n\n    /**\n     * Sets data loader component\n     * @param dataLoader - Created data loader that is used\n     * @internal\n     */\n    public setDataLoaderComponent(dataLoader: DataLoader)\n    {\n        if(!dataLoader)\n        {\n            return;\n        }\n\n        this._pluginInstances[DATA_LOADER] = dataLoader;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.dataLoader && this._gridOptions.plugins.dataLoader.options)\n        {\n            dataLoader.options = this._gridOptions.plugins.dataLoader.options;\n        }\n\n        dataLoader.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.dataLoader && this._gridOptions.plugins.dataLoader.instanceCallback)\n        {\n            this._gridOptions.plugins.dataLoader.instanceCallback(dataLoader);\n        }\n    }\n\n    /**\n     * Sets content renderer component\n     * @param contentRenderer - Created content renderer that is rendered\n     * @internal\n     */\n    public setContentRendererComponent(contentRenderer: ContentRenderer)\n    {\n        if(!contentRenderer)\n        {\n            return;\n        }\n\n        this._pluginInstances[CONTENT_RENDERER] = contentRenderer;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.contentRenderer && this._gridOptions.plugins.contentRenderer.options)\n        {\n            contentRenderer.options = this._gridOptions.plugins.contentRenderer.options;\n        }\n\n        contentRenderer.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.contentRenderer && this._gridOptions.plugins.contentRenderer.instanceCallback)\n        {\n            this._gridOptions.plugins.contentRenderer.instanceCallback(contentRenderer);\n        }\n    }\n\n    /**\n     * Sets no data renderer component\n     * @param noDataRenderer - Created no data renderer that is rendered\n     * @internal\n     */\n    public setNoDataRendererComponent(noDataRenderer: NoDataRenderer)\n    {\n        if(!noDataRenderer)\n        {\n            return;\n        }\n\n        this._pluginInstances[NO_DATA_RENDERER] = noDataRenderer;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.noDataRenderer && this._gridOptions.plugins.noDataRenderer.options)\n        {\n            noDataRenderer.options = this._gridOptions.plugins.noDataRenderer.options;\n        }\n\n        noDataRenderer.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.noDataRenderer && this._gridOptions.plugins.noDataRenderer.instanceCallback)\n        {\n            this._gridOptions.plugins.noDataRenderer.instanceCallback(noDataRenderer);\n        }\n    }\n\n    /**\n     * Sets row selector component\n     * @param rowSelector - Created row selector that is rendered\n     * @internal\n     */\n    public setRowSelectorComponent(rowSelector: RowSelector)\n    {\n        if(!rowSelector)\n        {\n            return;\n        }\n\n        this._pluginInstances[ROW_SELECTOR] = rowSelector;\n\n        if(this._gridOptions.plugins && this._gridOptions.plugins.rowSelector && this._gridOptions.plugins.rowSelector.options)\n        {\n            rowSelector.options = this._gridOptions.plugins.rowSelector.options;\n        }\n\n        rowSelector.initOptions();\n        \n        if(this._gridOptions.plugins && this._gridOptions.plugins.rowSelector && this._gridOptions.plugins.rowSelector.instanceCallback)\n        {\n            this._gridOptions.plugins.rowSelector.instanceCallback(rowSelector);\n        }\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Initialize component, automatically called once if not blocked by options\n     */\n    public initialize()\n    {\n        this._pluginInstances[ROW_SELECTOR].initialize();\n        this._pluginInstances[METADATA_SELECTOR].initialize();\n        this._pluginInstances[GRID_INITIALIZER].initialize();\n        this._pluginInstances[PAGING].initialize();\n        this._pluginInstances[CONTENT_RENDERER].initialize();\n        this._pluginInstances[NO_DATA_RENDERER].initialize();\n        this._pluginInstances[DATA_LOADER].initialize();\n\n        this._initializedSubject.next(true);\n    }\n\n    /**\n     * Initialize options, automaticaly called during init phase, but can be used to reinitialize GridOptions\n     */\n    public initOptions()\n    {\n        if(this._gridOptions.plugins)\n        {\n            if(this._gridOptions.plugins.paging)\n            {\n                this._gridOptions.plugins.paging.type = resolveForwardRef(this._gridOptions.plugins.paging.type);\n\n                if(this._gridOptions.plugins.paging.instance &&\n                   this._gridOptions.plugins.paging.instance != this._pluginInstances[PAGING])\n                {\n                    this._pluginInstances[PAGING] = this._gridOptions.plugins.paging.instance;\n                    this._gridOptions.plugins.paging.instance.gridPlugins = this._pluginInstances;\n                }\n\n                if(this._pluginInstances[PAGING])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.paging && this._gridOptions.plugins.paging.options)\n                    {\n                        this._pluginInstances[PAGING].options = this._gridOptions.plugins.paging.options;\n                    }\n\n                    this._pluginInstances[PAGING].initOptions();\n                }\n            }\n\n            if(this._gridOptions.plugins.gridInitializer)\n            {\n                this._gridOptions.plugins.gridInitializer.type = resolveForwardRef(this._gridOptions.plugins.gridInitializer.type);\n\n                if(this._gridOptions.plugins.gridInitializer.instance &&\n                   this._gridOptions.plugins.gridInitializer.instance != this._pluginInstances[GRID_INITIALIZER])\n                {\n                    this._pluginInstances[GRID_INITIALIZER] = this._gridOptions.plugins.gridInitializer.instance;\n                    this._gridOptions.plugins.gridInitializer.instance.gridPlugins = this._pluginInstances;\n                }\n\n                if(this._pluginInstances[GRID_INITIALIZER])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.gridInitializer && this._gridOptions.plugins.gridInitializer.options)\n                    {\n                        this._pluginInstances[GRID_INITIALIZER].options = this._gridOptions.plugins.gridInitializer.options;\n                    }\n\n                    this._pluginInstances[GRID_INITIALIZER].initOptions();\n                }\n            }\n\n            if(this._gridOptions.plugins.dataLoader)\n            {\n                this._gridOptions.plugins.dataLoader.type = resolveForwardRef(this._gridOptions.plugins.dataLoader.type);\n\n                if(this._gridOptions.plugins.dataLoader.instance &&\n                   this._gridOptions.plugins.dataLoader.instance != this._pluginInstances[DATA_LOADER])\n                {\n                    this._pluginInstances[DATA_LOADER] = this._gridOptions.plugins.dataLoader.instance;\n                    this._gridOptions.plugins.dataLoader.instance.gridPlugins = this._pluginInstances;\n                }\n\n                if(this._pluginInstances[DATA_LOADER])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.dataLoader && this._gridOptions.plugins.dataLoader.options)\n                    {\n                        this._pluginInstances[DATA_LOADER].options = this._gridOptions.plugins.dataLoader.options;\n                    }\n\n                    this._pluginInstances[DATA_LOADER].initOptions();\n                }\n            }\n\n            if(this._gridOptions.plugins.contentRenderer)\n            {\n                this._gridOptions.plugins.contentRenderer.type = resolveForwardRef(this._gridOptions.plugins.contentRenderer.type);\n\n                if(this._gridOptions.plugins.contentRenderer.instance &&\n                   this._gridOptions.plugins.contentRenderer.instance != this._pluginInstances[CONTENT_RENDERER])\n                {\n                    this._pluginInstances[CONTENT_RENDERER] = this._gridOptions.plugins.contentRenderer.instance;\n                    this._gridOptions.plugins.contentRenderer.instance.gridPlugins = this._pluginInstances;\n                }\n\n                if(this._pluginInstances[CONTENT_RENDERER])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.contentRenderer && this._gridOptions.plugins.contentRenderer.options)\n                    {\n                        this._pluginInstances[CONTENT_RENDERER].options = this._gridOptions.plugins.contentRenderer.options;\n                    }\n\n                    this._pluginInstances[CONTENT_RENDERER].initOptions();\n                }\n            }\n\n            if(this._gridOptions.plugins.metadataSelector)\n            {\n                this._gridOptions.plugins.metadataSelector.type = resolveForwardRef(this._gridOptions.plugins.metadataSelector.type);\n\n                if(this._gridOptions.plugins.metadataSelector.instance &&\n                   this._gridOptions.plugins.metadataSelector.instance != this._pluginInstances[METADATA_SELECTOR])\n                {\n                    this._pluginInstances[METADATA_SELECTOR] = this._gridOptions.plugins.metadataSelector.instance;\n                    this._gridOptions.plugins.metadataSelector.instance.gridPlugins = this._pluginInstances;\n                    this._gridOptions.plugins.metadataSelector.instance.metadataGatherer = this.metadataGatherer;\n                }\n\n                if(this._pluginInstances[METADATA_SELECTOR])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.metadataSelector && this._gridOptions.plugins.metadataSelector.options)\n                    {\n                        this._pluginInstances[METADATA_SELECTOR].options = this._gridOptions.plugins.metadataSelector.options;\n                    }\n\n                    this._pluginInstances[METADATA_SELECTOR].initOptions();\n                }\n            }\n\n            if(this._gridOptions.plugins.noDataRenderer)\n            {\n                this._gridOptions.plugins.noDataRenderer.type = resolveForwardRef(this._gridOptions.plugins.noDataRenderer.type);\n\n                if(this._gridOptions.plugins.noDataRenderer.instance &&\n                   this._gridOptions.plugins.noDataRenderer.instance != this._pluginInstances[NO_DATA_RENDERER])\n                {\n                    this._pluginInstances[NO_DATA_RENDERER] = this._gridOptions.plugins.noDataRenderer.instance;\n                    this._gridOptions.plugins.noDataRenderer.instance.gridPlugins = this._pluginInstances;\n                }\n\n                if(this._pluginInstances[NO_DATA_RENDERER])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.noDataRenderer && this._gridOptions.plugins.noDataRenderer.options)\n                    {\n                        this._pluginInstances[NO_DATA_RENDERER].options = this._gridOptions.plugins.noDataRenderer.options;\n                    }\n\n                    this._pluginInstances[NO_DATA_RENDERER].initOptions();\n                }\n            }\n\n            if(this._gridOptions.plugins.rowSelector)\n            {\n                this._gridOptions.plugins.rowSelector.type = resolveForwardRef(this._gridOptions.plugins.rowSelector.type);\n\n                if(this._gridOptions.plugins.rowSelector.instance &&\n                   this._gridOptions.plugins.rowSelector.instance != this._pluginInstances[ROW_SELECTOR])\n                {\n                    this._pluginInstances[ROW_SELECTOR] = this._gridOptions.plugins.rowSelector.instance;\n                    this._gridOptions.plugins.rowSelector.instance.gridPlugins = this._pluginInstances;\n                }\n\n                if(this._pluginInstances[ROW_SELECTOR])\n                {\n                    if(this._gridOptions.plugins && this._gridOptions.plugins.rowSelector && this._gridOptions.plugins.rowSelector.options)\n                    {\n                        this._pluginInstances[ROW_SELECTOR].options = this._gridOptions.plugins.rowSelector.options;\n                    }\n\n                    this._pluginInstances[ROW_SELECTOR].initOptions();\n                }\n            }\n        }\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        this._changeDetector.detectChanges();\n    }\n\n    /**\n     * Gets instance of plugin by its id\n     * @param pluginId - Id of plugin, use constants\n     */\n    public getPlugin<PluginType extends GridPlugin>(pluginId: string): PluginType\n    {\n        return this._pluginInstances[pluginId] as PluginType;\n    }\n\n    /**\n     * Sets GridPluginInstances into GridPlugin\n     * @param plugin - Grid plugin to be filled with grid GridPluginInstances\n     */\n    public setGridPluginInstances(plugin: GridPlugin)\n    {\n        plugin.gridPlugins = this._pluginInstances;\n    }\n\n    /**\n     * Executes actions on grid\n     * @param actions - Array of actions that are executed over grid\n     */\n    public execute(...actions: ((grid: GridComponent) => void)[])\n    {\n        if(!actions)\n        {\n            return;\n        }\n\n        actions.forEach(action => action(this));\n    }\n\n    /**\n     * Executes function on grid and returns result\n     * @param func - Function that is executed and its result is returned\n     */\n    public executeAndReturn<TResult>(func: GridFunction<TResult>): TResult\n    {\n        if(!func)\n        {\n            return null;\n        }\n\n        return func(this);\n    }\n}","<ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.metadataSelector?.type\" (ngComponentOutletExCreated)=\"setMetadataSelectorComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.dataLoader?.type\" (ngComponentOutletExCreated)=\"setDataLoaderComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.rowSelector?.type\" (ngComponentOutletExCreated)=\"setRowSelectorComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.gridInitializer?.type\" (ngComponentOutletExCreated)=\"setGridInitializerComponent($event)\"></ng-template>\r\n\r\n<ng-template [ngIf]=\"gridOptions?.pagingPosition == 0\">\r\n    <ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.paging?.type\" (ngComponentOutletExCreated)=\"setPagingComponent($event)\"></ng-template>\r\n</ng-template>\r\n\r\n<ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.contentRenderer?.type\" (ngComponentOutletExCreated)=\"setContentRendererComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.noDataRenderer?.type\" (ngComponentOutletExCreated)=\"setNoDataRendererComponent($event)\"></ng-template>\r\n\r\n<ng-template [ngIf]=\"gridOptions?.pagingPosition == 1\">\r\n    <ng-template [ngComponentOutletEx]=\"gridOptions?.plugins?.paging?.type\" (ngComponentOutletExCreated)=\"setPagingComponent($event)\"></ng-template>\r\n</ng-template>","import {BasicTableColumn} from './basicTable.interface';\n\n/**\n * Context for basic table column template\n */\nexport class BasicTableColumnContext<TData = any>\n{\n    //######################### public properties #########################\n\n    /**\n     * Gets row index of displayed item\n     * @returns number\n     */\n    public get rowIndex(): number\n    {\n        return this.startingIndex + this.index;\n    }\n\n    //######################### constructor #########################\n    \n    /**\n     * Creates instance of BasicTableColumnContext\n     * @param $implicit - Data of current row\n     * @param column - Object of column metadata itself\n     * @param index - Index of rendered row in current page\n     * @param startingIndex - Starting index of currently displayed items\n     */\n    constructor(public $implicit: TData, \n                public column: BasicTableColumn<TData>, \n                public index: number, \n                public startingIndex: number)\n    {\n    }\n}","import {Component, ChangeDetectionStrategy, Input, TemplateRef, ContentChild} from '@angular/core';\n\nimport {BasicTableColumn} from './basicTable.interface';\nimport {BasicTableColumnContext} from '../types';\n\n/**\n * Component for gathering information about basic table column\n */\n@Component(\n{\n    selector: 'basic-table-column',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class BasicTableColumnComponent<TData = any> implements BasicTableColumn<TData>\n{\n    //######################### public properties - inputs #########################\n    /**\n     * Unique identifier of column\n     */\n    @Input()\n    public id: string;\n\n    /**\n     * Name of property which is assigned to this column\n     */\n    @Input()\n    public name: string;\n\n    /**\n     * Title of column that is displayed in grid header\n     */\n    @Input()\n    public title: string;\n\n    /**\n     * Text that is displayed in tooltip over grid header\n     */\n    @Input()\n    public headerTooltip: string;\n\n    /**\n     * Indication whether should be title visible in header\n     */\n    @Input()\n    public titleVisible: boolean = true;\n\n    /**\n     * Indication that this column can be used for ordering\n     */\n    @Input()\n    public ordering: boolean;\n\n    /**\n     * Indication that this column is visible in grid\n     */\n    @Input()\n    public visible: boolean = true;\n\n    /**\n     * Width as style string, value is exactly same (require units)\n     */\n    @Input()\n    public width: string;\n\n    /**\n     * Css class that is applied to column header\n     */\n    @Input()\n    public headerClass: string;\n\n    /**\n     * Css class that is applied to each column cell\n     */\n    @Input()\n    public cellClass: string;\n\n    //######################### public properties - children #########################\n\n    /**\n     * Template that is used for rendering of cell header\n     */\n    @ContentChild('headerTemplate')\n    public headerTemplate: TemplateRef<BasicTableColumnContext<TData>>;\n\n    /**\n     * Template that is used for rendering of cell body\n     */\n    @ContentChild('bodyTemplate')\n    public bodyTemplate: TemplateRef<BasicTableColumnContext<TData>>;\n\n    //######################### public methods - helper #########################\n\n    /**\n     * Gets basic table column context\n     */\n    public getColumnContext(data: TData, column: BasicTableColumn<TData>, index: number, startingIndex: number): BasicTableColumnContext<TData>\n    {\n        return new BasicTableColumnContext(data, column, index, startingIndex);\n    }\n}","import {ExistingProvider, Component, ChangeDetectionStrategy, EventEmitter, forwardRef, ContentChildren, QueryList, AfterContentInit} from '@angular/core';\n\nimport {MetadataGatherer} from '../metadata.interface';\nimport {METADATA_GATHERER} from '../types';\nimport {BasicTableColumn, BasicTableMetadata} from './basicTable.interface';\nimport {BasicTableColumnComponent} from './basicTableColumn.component';\n\n/**\n * Component that is used for gathering metadata for basic table\n *\n * @example\n * This is metadata gatherer which works with `BasicTableColumnComponent`\n *\n * Here is sample of use of available options for `BasicTableMetadataGathererComponent` with `BasicTableColumnComponent`\n *\n * ``` html\n * <ng-grid #grid [gridOptions]=\"gridOptions\" class=\"clearfix\" fixedHeader>\n *     <basic-table-metadata>\n *         <!-- Basic usage, id must be unique -->\n *         <!-- if custom template is not provided name is used for getting data -->\n *         <!-- title is displayed in header of grid -->\n *         <basic-table-column id=\"colId\" name=\"colId\" title=\"Id\"></basic-table-column>\n *\n *         <!-- Tooltip that is displayed on hover on column header -->\n *         <!-- This column can be used for ordering -->\n *         <basic-table-column id=\"colId2\" name=\"colId2\" title=\"Col 2\" headerTooltip=\"This is tooltip text\" [ordering]=\"true\"></basic-table-column>\n *\n *         <!-- Title in header is no displayed -->\n *         <!-- Column width set to fixed max 60px -->\n *         <basic-table-column id=\"colId3\" name=\"colId3\" title=\"Col 3\" [titleVisible]=\"false\" width=\"60px\"></basic-table-column>\n *\n *         <!-- Column default behavior will be that it will not be rendered -->\n *         <basic-table-column id=\"colId5\" name=\"colId5\" title=\"Col 5\" [visible]=\"false\"></basic-table-column>\n *\n *         <!-- Column will have custom css class applied to header and each cell -->\n *         <basic-table-column id=\"colId6\" name=\"colId6\" title=\"Col 6\" headerClass=\"header-css-class\" cellClass=\"cell-css-class\"></basic-table-column>\n *\n *         <!-- Column with custom template for header and each cell -->\n *         <basic-table-column id=\"colId7\" name=\"colId7\" title=\"Custom col\">\n *             <!-- Custom header template -->\n *             <ng-template #headerTemplate>\n *                 <div title=\"This is custom tooltip\">Custom column</div>\n *             </ng-template>\n *\n *             <!-- Custom body cell template -->\n *             <ng-template #bodyTemplate let-item let-index=\"index\" let-rowIndex=\"rowIndex\" let-column=\"column\" let-startingIndex=\"startingIndex\">\n *                 <div>\n*                      <div>{{item?.dateItem?.format('L')}} 'item' is row object from data</div>\n*                      <div>{{index}} index is zero based index of row for all items</div>\n*                      <div>{{rowIndex}} rowIndex is zero based index of row for current page</div>\n*                      <div>{{column}} column is object of 'BasicTableColumnComponent'</div>\n*                      <div>{{startingIndex}} startingIndex starting zero based index of current page</div>\n *                 </div>\n *             </ng-template>\n *         </basic-table-column>\n *     </basic-table-metadata>\n * </ng-grid>\n * ```\n */\n@Component(\n{\n    selector: 'ng-grid > basic-table-metadata',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers:\n    [\n        <ExistingProvider>\n        {\n            provide: METADATA_GATHERER,\n            useExisting: forwardRef(() => BasicTableMetadataGathererComponent)\n        }\n    ]\n})\nexport class BasicTableMetadataGathererComponent<TData = any> implements AfterContentInit, MetadataGatherer<BasicTableMetadata<BasicTableColumn<TData>>>\n{\n    //######################### public properties - implementation of MetadataGatherer<BasicTableColumn[]> #########################\n\n    /**\n     * Information that metadata for grid has changed\n     */\n    public metadataChange: EventEmitter<void> = new EventEmitter<void>();\n\n    //######################### public properties - children #########################\n\n    /**\n     * Gets all columns defined in gatherer\n     * @internal\n     */\n    @ContentChildren(BasicTableColumnComponent)\n    public columns: QueryList<BasicTableColumnComponent<TData>>;\n\n    //######################### public methods - implementation of MetadataGatherer<BasicTableColumn[]> #########################\n\n    /**\n     * Gets current metadata for grid\n     */\n    public getMetadata(): BasicTableMetadata<BasicTableColumn<TData>>\n    {\n        return {\n            columns: this.columns.toArray()\n        };\n    }\n\n    //######################### public methods - implementation of AfterContentInit #########################\n\n    /**\n     * Called when content was initialized\n     */\n    public ngAfterContentInit()\n    {\n        this.columns.changes.subscribe(() =>\n        {\n            this.metadataChange.emit();\n        });\n    }\n}","/**\n * Token for getting component that is used as metadata gatherer\n */\nexport class METADATA_GATHERER\n{\n}\n\nexport * from './basicTable/basicTableColumn.context';\nexport * from './groupedTable/headerTableGroup.context';"],"names":["Authorize","permission","route","target","options","isString","Array","isArray","typedTarget","isBlank","permissions","routeSpecificPermissions","AuthGuard","constructor","_authSvc","_injector","_router","canActivate","next","component","authOptions","routeConfig","path","addCondition","userIdentity","Error","authorized","evaluatePermissions","andCondition","conditionString","urlSegmentGroup","UrlSegmentGroup","flatMapArray","pathFromRoot","map","itm","url","urlTree","UrlTree","root","queryParams","nextPath","serializeUrl","isAuthenticated","showAccessDenied","isAuthPage","showAuthPage","ComponentRouteAuthorized","indexOf","push","ComponentRoute","i1","ÉµDefaultPropertyMetadata","asyncValidators","validators","disabled","type","FormControl","childType","args","ValidatorFnFactory","_factoryFn","_args","valueOf","this","AsyncValidatorFnFactory","buildFormGroup","model","FormGroup","modelMetadata","ÉµControlsMetadata","groupValidators","ÉµValidators","groupAsyncValidators","ÉµAsyncValidators","groupArgs","ÉµArgs","properties","Object","keys","formGroup","validator","filter","propertyName","metadata","defaultValue","undefined","control","FormArray","controlOptions","formArray","val","disable","addControl","buildFormModel","FormModelBuilder","build","injector","i0","rt","routeDecoratedComponent","routeValues","defineProperty","enumerable","configurable","writable","value","PagingPosition","Paginator","_base","_itemsPerPage","_page","_itemCount","setPage","page","getPage","getPageIndex","GetFirstPage","getLastPage","Math","max","getPageCount","setBase","baseVal","getBase","isFirst","isLast","ceil","setItemsPerPage","itemsPerPage","getItemsPerPage","setItemCount","itemCount","Number","MAX_VALUE","getItemCount","getOffset","getCountdownOffset","getLength","min","getIndexesPerPage","result","isNaN","x","getPagesWithDispersion","dispersion","currentPage","pageCount","numberOfPages","startingPage","endingPage","getPagesWithTrimDispersion","lastPage","getPagesWithUniformDistribution","step","round","DataLoaderState","DATA_LOADER_OPTIONS","InjectionToken","PagingAbstractComponent","pluginElement","_changeDetector","gridPlugins","_initialized","pageChange","EventEmitter","itemsPerPageChange","_options","extend","optionsSet","ngOnDestroy","_dataChangedSubscription","unsubscribe","invalidateVisuals","detectChanges","initialize","gridInitializer","GRID_INITIALIZER","initialPage","initialItemsPerPage","isPresent","dataLoader","_dataLoader","totalCount","resultChange","subscribe","initOptions","GRID_PLUGIN_INSTANCES","defaultOptions","itemsPerPageValues","pagesDispersion","cssClasses","pagingUl","itemsPerPageDiv","displayedItemsCountSpan","itemsPerPageUl","BasicPagingComponent","changeDetector","super","_paginator","displayedItemsCount","pages","itemsPerPageItems","firstItemIndex","offset","initialized","_generatePages","_setDisplayedItemsCount","_generateItemsPerPage","_totalCount","isActive","isDisabled","emit","renderItemsPerPageText","toString","title","forEach","displayedItems","PAGING_OPTIONS","DataLoaderAbstractComponent","_state","NotLoadedYet","_debounceSubject","Subject","_debounceSubscription","stateChange","state","_pageChangedSubscription","_itemsPerPageChangedSubscription","_orderingChangedSubscription","_registerDebounce","paging","PAGING","_paging","contentRenderer","CONTENT_RENDERER","_contentRenderer","orderingChange","autoLoadData","loadData","force","_checkChanges","_lastPage","_lastItemsPerPage","ordering","_lastOrdering","asObservable","pipe","debounceTime","debounceDataCallback","_loadData","dataCallback","Promise","AsyncDataLoaderComponent","_result","data","length","DataLoading","NoDataLoading","Loaded","NoData","BodyContentRendererAbstractComponent","startingIndex","mergeStringClasses","classes","cls","TableBodyContentRendererComponent","OrderByDirection","BODY_CONTENT_RENDERER_OPTIONS","thead","thDefault","thOrderable","spanContent","spanOrdering","spanOrderingDirection","none","asc","desc","TableHeaderContentRendererComponent","_ordering","_gridInitializer","deserializeSimpleOrdering","getOrdering","_initializeOrderingCss","setOrdering","serializeSimpleOrdering","resetMetadata","_resetOrdering","orderBy","columns","find","name","meta","orderByDirection","Ascending","Descending","orderingClass","cssClass","HEADER_CONTENT_RENDERER_OPTIONS","ContentRendererAbstractComponent","headerRenderer","HEADER_CONTENT_RENDERER","containerDiv","_metadataChangedSubscription","_invalidateVisuals","metadataSelector","METADATA_SELECTOR","_metadataSelector","metadataChange","BODY_CONTENT_RENDERER","plugins","bodyRenderer","resolveForwardRef","instance","setBodyRendererComponent","instanceCallback","setHeaderRendererComponent","table","forwardRef","TableContentRendererComponent","CONTENT_RENDERER_OPTIONS","NoMetadataSelectorComponent","_gathererInitialized","metadataGatherer","_metadataGatherer","gatherer","show","getMetadata","texts","loading","noData","notLoaded","wrapperDiv","textSpan","SimpleNoDataRendererComponent","_stringLocalization","_texts","_stateChangedSubscription","_textsChangedSubscription","_processLoaderState","textsChange","_initTexts","text","key","get","STRING_LOCALIZATION","NO_DATA_RENDERER_OPTIONS","ROW_SELECTOR_OPTIONS","getRowId","autoResetOnDataChange","multiSelection","getRowData","BasicRowSelectorComponent","selectedIds","selectedData","selectedChange","resetSelection","selectItem","item","select","id","index","splice","isSelected","NoGridInitializerComponent","autoInitialize","pagingPosition","Bottom","noDataRenderer","rowSelector","GridComponent","_pluginInstances","pagingType","gridInitializerType","dataLoaderType","contentRendererType","metadataSelectorType","noDataRendererType","rowSelectorType","_initializedSubject","BehaviorSubject","opts","_gridOptions","gridOptions","ngOnInit","ngAfterViewInit","setPagingComponent","setGridInitializerComponent","setMetadataSelectorComponent","setDataLoaderComponent","setContentRendererComponent","setNoDataRendererComponent","NO_DATA_RENDERER","setRowSelectorComponent","getPlugin","pluginId","setGridPluginInstances","plugin","execute","actions","action","executeAndReturn","func","GRID_OPTIONS","PAGING_TYPE","GRID_INITIALIZER_TYPE","DATA_LOADER_TYPE","CONTENT_RENDERER_TYPE","METADATA_SELECTOR_TYPE","NO_DATA_RENDERER_TYPE","ROW_SELECTOR_TYPE","METADATA_GATHERER","provide","useFactory","BasicTableColumnContext","$implicit","column","rowIndex","BasicTableColumnComponent","titleVisible","visible","getColumnContext","BasicTableMetadataGathererComponent","toArray","ngAfterContentInit","changes","useExisting"],"sourceRoot":""}