"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3536],{50603:(t,e,s)=>{s.d(e,{A:()=>n});var i=s(78072);function n(){return function(t,e){const s=e;Object.defineProperty(t,`${s}Change`,{get:function(){return this[`ɵ${s}Change`]||(this[`ɵ${s}Change`]=new i.x),this[`ɵ${s}Change`]}}),Object.defineProperty(t,s,{get:function(){return this[`ɵ${s}`]},set:function(t){this[`ɵ${s}`]=t,this[`${s}Change`].next()}})}}},83536:(t,e,s)=>{s.r(e),s.d(e,{default:()=>R});var i=s(14392),n=s(97873),r=s(18617),a=s(24445),o=s(84109),u=s(50603),h=s(91314),l=s(10382),p=s(12987),c=s(61006),g=s(5567),m=s(29542),d=s(55163),f=s(40853),y=s(95161);function O(t,e,s,i,n,r,a){try{var o=t[r](a),u=o.value}catch(t){return void s(t)}o.done?e(u):Promise.resolve(u).then(i,n)}const b=function(){var t,e=(t=function*(){return new((yield Promise.all([s.e(8440),s.e(9444),s.e(5895)]).then(s.bind(s,95895))).RestRelationsEditorMetadata)},function(){var e=this,s=arguments;return new Promise((function(i,n){var r=t.apply(e,s);function a(t){O(r,i,n,a,o,"next",t)}function o(t){O(r,i,n,a,o,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();let v=class{constructor(t){this.emptyParam=[],this.success={test:!0},this.error=null,this.http=t.get(r.e),this.logger=t.get(p.bZ),this.queryStringSerializer=t.get(g.C),this.progressIndicator=t.get(c.u)}get relationsOptions(){return this.ɵRelationsOptions}set relationsOptions(t){this.ɵRelationsOptions=t,this.initialize()}ngOnChanges(t){this.makeRequest()}invalidateVisuals(){}initialize(){if(this.relationsOptions&&this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const t in this.relationsOptions.params){const e=this.relationsOptions.params[t];this.emptyParam.push(!0),e.configurable&&e.name&&Object.defineProperty(this,e.name,{configurable:!0,enumerable:!0,set:s=>{e.value=s,this.emptyParam[t]=(0,d.fp)(s)}})}this.relationsOptions?.runImmediately&&this.makeRequest()}makeRequest(){if(this.emptyParam.find((t=>t)))return;if(this.runningRequestSubscription&&(this.runningRequestSubscription.unsubscribe(),this.progressIndicator.hideProgress()),!this.relationsOptions||!this.relationsOptions.method||!this.relationsOptions.url)return void this.logger.warn("RestRelations: missing options for craeting http request {@data}",this.relationsOptions);let t=null,e=this.relationsOptions.url;const s={},i={},n=[];if(this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const r of this.relationsOptions.params){if(!r.name)continue;const a={index:0,key:r.name,value:r.value,transformFn:null};switch(r.type){case"PATH":e=(0,m.t6)(a,e);break;case"BODY":t=r.value;break;case"QUERY":(0,m.F6)(a,s);break;case"QUERY OBJECT":(0,m.Td)(a,n,this.queryStringSerializer);break;case"HEADER":(0,m.qk)(a,i)}}let r=new a.a(this.relationsOptions.method,e,t,{reportProgress:!1,responseType:"json"});if((0,d.Qr)(s)||(r=r.clone({setParams:s})),(0,d.Qr)(i)||(r=r.clone({setHeaders:i})),n.length){const t=(0,m.Ex)(n,r.params);r=r.clone({params:t})}this.runningRequestSubscription=this.http.request(r).pipe((0,f.K)((t=>(this.success=null,this.error=t,y.E)))).subscribe((t=>{if(t.type==o.dt.Response&&t.status>=200&&t.status<=300)return this.success=t.body,void(this.error=null)}))}};(0,i.gn)([(0,u.A)(),(0,i.w6)("design:type",Object)],v.prototype,"success",void 0),(0,i.gn)([(0,u.A)(),(0,i.w6)("design:type",Object)],v.prototype,"error",void 0),v=(0,i.gn)([(0,h.H)(),(0,l.i)(b),(0,i.w6)("design:paramtypes",[n.z])],v);const R=v}}]);
//# sourceMappingURL=3536.client.chunk.14664a25d9fe1c30642d.js.map