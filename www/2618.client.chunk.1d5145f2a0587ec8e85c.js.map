{"version":3,"file":"2618.client.chunk.1d5145f2a0587ec8e85c.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataBlock/dataBlock.metadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataBlock/dataBlock.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataBlock/type.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorMetadata/layoutEditorMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/components/layoutComponentBase/layoutComponentBase.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/relations/src/extensions/relationsRegistration/relationsRegistration.extension.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/misc/dynamicItemExtensionBase.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Data block layout metadata loader\n */\nexport const DataBlockLayoutMetadataLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/dataBlock.layoutMetadata')).DataBlockLayoutEditorMetadata();\n  });\n\n  return function DataBlockLayoutMetadataLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * Data block relations metadata loader\n */\n\nexport const DataBlockRelationsMetadataLoader = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/dataBlock.relationsMetadata')).DataBlockRelationsEditorMetadata();\n  });\n\n  return function DataBlockRelationsMetadataLoader() {\n    return _ref2.apply(this, arguments);\n  };\n}();","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { __decorate } from \"tslib\";\nimport { Component, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { LayoutComponentBase } from '@anglr/dynamic/layout';\nimport { LayoutEditorMetadata } from '@anglr/dynamic/layout-editor';\nimport { RelationsEditorMetadata } from '@anglr/dynamic/relations-editor';\nimport { HostDisplayBlockStyle } from '@anglr/common';\nimport { nameof } from '@jscrpt/common';\nimport Handlebars from 'handlebars';\nimport { DataBlockLayoutMetadataLoader, DataBlockRelationsMetadataLoader } from './dataBlock.metadata';\nimport * as i0 from \"@angular/core\";\n/**\n * Component used for displaying data block\n */\n\nlet DataBlockSAComponent = class DataBlockSAComponent extends LayoutComponentBase {\n  //######################### public methods - implementation of OnChanges #########################\n\n  /**\n   * Called when input value changes\n   */\n  ngOnChanges(changes) {\n    var _superprop_getNgOnChanges = () => super.ngOnChanges,\n        _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _superprop_getNgOnChanges().call(_this, changes);\n\n      if (nameof('data') in changes) {\n        _this.componentElement.nativeElement.innerHTML = _this.compiledTemplate?.(_this.data) ?? '';\n      }\n    })();\n  } //######################### protected methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsSet() {\n    if (!this.initialized) {\n      return;\n    }\n\n    if (this.options?.template) {\n      this.compiledTemplate = Handlebars.compile(this.options.template);\n    }\n\n    this.componentElement.nativeElement.innerHTML = this.compiledTemplate?.(this.data) ?? '';\n  }\n\n};\n\nDataBlockSAComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵDataBlockSAComponent_BaseFactory;\n  return function DataBlockSAComponent_Factory(t) {\n    return (ɵDataBlockSAComponent_BaseFactory || (ɵDataBlockSAComponent_BaseFactory = i0.ɵɵgetInheritedFactory(DataBlockSAComponent)))(t || DataBlockSAComponent);\n  };\n}();\n\nDataBlockSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DataBlockSAComponent,\n  selectors: [[\"data-block\"]],\n  inputs: {\n    data: \"data\"\n  },\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature, i0.ɵɵStandaloneFeature],\n  decls: 0,\n  vars: 0,\n  template: function DataBlockSAComponent_Template(rf, ctx) {},\n  styles: [\"[_nghost-%COMP%]{display: block;}\"],\n  changeDetection: 0\n});\nDataBlockSAComponent = __decorate([RelationsEditorMetadata(DataBlockRelationsMetadataLoader), LayoutEditorMetadata(DataBlockLayoutMetadataLoader)], DataBlockSAComponent);\nexport { DataBlockSAComponent };\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DataBlockSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'data-block',\n      template: '',\n      standalone: true,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      styles: [\":host{display: block;}\"]\n    }]\n  }], null, {\n    data: [{\n      type: Input\n    }]\n  });\n})();","import { RelationsRegistrationExtension } from '@anglr/dynamic/relations';\nimport { DataBlockSAComponent } from './dataBlock.component';\nexport default DataBlockSAComponent;\nexport const extensions = [RelationsRegistrationExtension];","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor metadata to class on which is this decorator applied\n * @param metadataLoader - Layout editor metadata loader function used for obtaining metadata\n */\n\nexport function LayoutEditorMetadata(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorMetadata');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectorRef, Directive, ElementRef, Inject, Injector, Optional } from '@angular/core';\nimport { LOGGER } from '@anglr/common';\nimport { isEmptyObject, nameof } from '@jscrpt/common';\nimport * as i0 from \"@angular/core\";\n/**\n * Base component for layout component\n */\n\nexport class LayoutComponentBase {\n  //######################### constructor #########################\n  constructor(changeDetector, componentElement, injector, logger) {\n    this.changeDetector = changeDetector;\n    this.componentElement = componentElement;\n    this.injector = injector;\n    this.logger = logger; //######################### protected fields #########################\n\n    /**\n     * Array of extensions that are registered for component\n     */\n\n    this.extensions = [];\n    /**\n     * Indication whether initialization was already done\n     */\n\n    this.initialized = false;\n    /**\n     * Indication whether was component destroyed\n     */\n\n    this.destroyed = false;\n  } //######################### protected properties #########################\n\n  /**\n   * Gets element that is used within extension\n   */\n\n\n  get element() {\n    return this.componentElement;\n  }\n  /**\n   * Gets options that are used within extension\n   */\n\n\n  get extensionsOptions() {\n    return this.options;\n  } //######################### public methods - implementation of OnDestroy #########################\n\n  /**\n   * Called when component is destroyed\n   */\n\n\n  ngOnDestroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    for (const ext of this.extensions) {\n      ext.destroy();\n    }\n\n    this.onDestroy();\n  } //######################### public methods - implementation of LayoutComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) {\n        return;\n      }\n\n      _this.initialized = true;\n      const extensionsOptions = _this.extensionsOptions;\n      yield _this.onInit();\n      yield _this.onOptionsSet();\n\n      if (extensionsOptions) {\n        for (const extension of _this.extensions) {\n          yield extension.initialize(_this.injector, _this.element, _this);\n        }\n      }\n\n      yield _this.afterInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnChanges(changes) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      //options has changed\n      if (nameof('options') in changes) {\n        yield _this2.onOptionsSet();\n        const extensionsOptions = _this2.extensionsOptions; //set options in extensions\n\n        if (extensionsOptions) {\n          for (const extension of _this2.extensions) {\n            yield extension.optionsChange(extensionsOptions);\n          }\n        }\n\n        if (!_this2.initialized) {\n          return;\n        }\n\n        yield _this2.onOptionsChange();\n      }\n\n      delete changes[nameof('options')];\n\n      if (!isEmptyObject(changes)) {\n        _this2.onChanges(changes);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  registerExtensions(extensions) {\n    this.extensions = extensions;\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {\n    this.changeDetector.detectChanges();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialzation of component, options are already set\n   */\n\n\n  onInit() {}\n  /**\n   * Called right after initialization finished, including extesions\n   */\n\n\n  afterInit() {}\n  /**\n   * Called on change of options, after initialization\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Occurs when some property changes on component\n   * @param _changes - Changes that occured on component\n   */\n\n\n  onChanges(_changes) {}\n  /**\n   * Called everytime options are set, after initialization and later\n   */\n\n\n  onOptionsSet() {}\n  /**\n   * Called when component is being destroyed\n   */\n\n\n  onDestroy() {}\n\n}\n\nLayoutComponentBase.ɵfac = function LayoutComponentBase_Factory(t) {\n  return new (t || LayoutComponentBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(LOGGER, 8));\n};\n\nLayoutComponentBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: LayoutComponentBase,\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LayoutComponentBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGGER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { DynamicItemExtensionBase } from '@anglr/dynamic';\nimport { RelationsComponentManager, RelationsProcessor } from '../../services';\n/**\n * Extension that allows registration of component for relations\n */\n\nexport class RelationsRegistrationExtension extends DynamicItemExtensionBase {\n  constructor() {\n    //######################### protected properties #########################\n    super(...arguments);\n    /**\n     * Instance of relations processor\n     */\n\n    this.relationsProcessor = null;\n    /**\n     * Instance of component manager\n     */\n\n    this.componentManager = null;\n  } //######################### public methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  onInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.injector || !_this.metadata || !_this.instance) {\n        return;\n      }\n\n      _this.relationsProcessor ?? (_this.relationsProcessor = _this.injector.get(RelationsProcessor, null));\n      _this.componentManager ?? (_this.componentManager = _this.injector.get(RelationsComponentManager, null));\n\n      if (!_this.relationsProcessor || !_this.componentManager) {\n        return;\n      }\n\n      _this.componentManager.registerComponent(_this.metadata.id, _this.instance);\n\n      yield _this.relationsProcessor.initialized;\n\n      _this.relationsProcessor.updateRelations(_this.metadata.id);\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  onDestroy() {\n    if (!this.relationsProcessor || !this.componentManager || !this.metadata) {\n      return;\n    }\n\n    this.relationsProcessor.destroyComponent(this.metadata.id);\n    this.componentManager.unregisterComponent(this.metadata.id);\n  }\n\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Dynamic item extension base class\n */\nexport class DynamicItemExtensionBase {\n  //######################### constructor #########################\n  constructor(metadata) {\n    this.metadata = metadata;\n    /**\n     * Indication whether was extension initialized\n     */\n\n    this.initialized = false;\n  } //######################### public methods - implementation of DynamicItemExtension #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize(injector, element, instance) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.initialized = true;\n      _this.injector = injector;\n      _this.element = element;\n      _this.instance = instance;\n      yield _this.onInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  optionsChange(options) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.options = options;\n\n      if (!_this2.initialized) {\n        return;\n      }\n\n      yield _this2.onOptionsChange();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  destroy() {\n    this.onDestroy();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialization of component\n   */\n\n\n  onInit() {}\n  /**\n   * Called on change of options of component\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Called on destruction of component\n   */\n\n\n  onDestroy() {}\n\n}"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","DataBlockLayoutMetadataLoader","_ref","DataBlockLayoutEditorMetadata","DataBlockRelationsMetadataLoader","_ref2","DataBlockRelationsEditorMetadata","DataBlockSAComponent","ngOnChanges","changes","_superprop_getNgOnChanges","super","_this","call","nameof","componentElement","nativeElement","innerHTML","compiledTemplate","data","onOptionsSet","initialized","options","template","t","type","selectors","inputs","standalone","features","decls","vars","rf","ctx","styles","changeDetection","extensions","LayoutEditorMetadata","metadataLoader","LayoutComponentBase","constructor","changeDetector","injector","logger","destroyed","element","extensionsOptions","ngOnDestroy","ext","destroy","onDestroy","ngOnInit","onInit","extension","initialize","afterInit","_this2","optionsChange","onOptionsChange","onChanges","registerExtensions","invalidateVisuals","detectChanges","_changes","RelationsRegistrationExtension","relationsProcessor","componentManager","metadata","instance","get","registerComponent","id","updateRelations","destroyComponent","unregisterComponent","DynamicItemExtensionBase"],"sourceRoot":""}