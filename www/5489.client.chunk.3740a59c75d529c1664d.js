"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[5489],{65489:(t,e,a)=>{a.r(e),a.d(e,{DynamicContentModule:()=>dt});var s=a(14392),n=a(82494),r=a(88549),i=a(18579),o=a(7097),d=a(86836),c=a(39205),h=a(33844),u=a(49023),g=a(59098),l=a(89901),_=a(91628),m=a(8265),p=a(94183),f=a(65343),y=a(33293),v=a(24939),C=a(35139),Y=a(25844),O=a(85746),w=a(41350),M=a(16896),D=a(13816),T=a(89952),x=a(12987),E=a(78072),A=a(81267),b=a(10012);const N="CUSTOM_COMPONENTS";class R extends O.t{constructor(t){super(),this._store=t,this._registeredChange=new E.x}get registeredChange(){return this._registeredChange.asObservable()}toggleRegisteredComponent(t){const e=this.getRegisteredComponents(),a=e.indexOf(t);a>=0?e.splice(a,1):e.push(t),this._store.set(N,e),this._registeredChange.next()}getRegisteredComponents(){return this._store.get(N)??[]}}R.ɵfac=function(t){return new(t||R)(A.LF(x.T0))},R.ɵprov=b.Yz({token:R,factory:R.ɵfac});class z extends g.L{constructor(){super("LAYOUT_PACKAGES_STORE")}}z.ɵfac=function(t){return new(t||z)},z.ɵprov=b.Yz({token:z,factory:z.ɵfac});var U=a(53245),L=a(58883),S=a(37654),k=a(13341),I=a(18968),Q=a(12890),P=a(27805),q=a(5419),j=a(28588),F=a(85646),K=a(78750);let Z=class{constructor(t,e,a,s){this._route=t,this._store=e,this._metaManager=a,this.history=s,this._id="",this.metadata=this.emptyMetadata}get emptyMetadata(){return{id:`stackPanel-${(0,D.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}ngOnInit(){this._route.params.subscribe((({id:t})=>{this._id=t,this.metadata=this._store.getData(this._id)?.layout??this.emptyMetadata}))}save(){const t=this._store.getData(this._id)??{};t.layout=this._metaManager.getMetadata()??void 0,this._store.setData(this._id,t)}};Z.ɵfac=function(t){return new(t||Z)(S.Y(i.gz),S.Y(T.U),S.Y(c.Qh),S.Y(m.dB))},Z.ɵcmp=k.Xp({type:Z,selectors:[["layout-editor-view"]],features:[I._([h.z,{provide:_.qO,useFactory:t=>new u.I((e=>t.getData(e)?.layout??null)),deps:[T.U]},(0,p._)(),(0,w.rj)(),(0,M.m_)(),(0,f.iS)(),(0,y.vQ)(),(0,v.gJ)(),(0,C.hd)(),(0,L.jS)(),(0,Y.Wh)([],R),{provide:g.L,useClass:z},{provide:R,useExisting:O.t},{provide:m.dK,useFactory:t=>t.registeredChange,deps:[R],multi:!0},(0,U.Y)("DYNAMIC_CONTENT_DATA")])],decls:2,vars:3,consts:[[3,"metadata","history","metadataChange","save"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Q.Tg(0,"editor-controls",0),P.N("metadataChange",(function(t){return e.metadata=t}))("save",(function(){return e.save()})),Q.qZ(),Q._U(1,"layout-editor",1)),2&t&&(q.Q("metadata",e.metadata)("history",e.history),j.x(1),q.Q("metadata",e.metadata))},dependencies:[F.Z,K.w],styles:["[_nghost-%COMP%]{padding:0}"],changeDetection:0}),Z=(0,s.gn)([(0,o.n)({path:"layout/:id"}),(0,d.q)("layoutEditor-page"),(0,s.w6)("design:paramtypes",[i.gz,T.U,Object,l.Y])],Z);var G=a(73760),X=a(52205),J=a(19706),W=a(40752);class B extends g.L{constructor(){super("RELATIONS_PACKAGES_STORE")}}B.ɵfac=function(t){return new(t||B)},B.ɵprov=b.Yz({token:B,factory:B.ɵfac});var V=a(63810),$=a(35845),H=a(82222),tt=a(46936);class et extends V.w{getDefinedTypes(){const t={};return t[$.default.relationsId]=$.default,t[H.default.relationsId]=H.default,t}}et.ɵfac=function(){let t;return function(e){return(t||(t=tt.n5(et)))(e||et)}}(),et.ɵprov=b.Yz({token:et,factory:et.ɵfac});var at=a(74967);let st=class{constructor(t,e,a,s,n){this._route=t,this._store=e,this._metaManager=a,this.layoutManager=s,this.history=n,this._id="",this.metadata=[]}ngOnInit(){this._route.params.subscribe((({id:t})=>{this._id=t;const e=this._store.getData(this._id);this.metadata=e?.relations??[],e?.layout&&this.layoutManager.setLayout(e?.layout)}))}save(){const t=this._store.getData(this._id)??{};t.relations=this._metaManager.getMetadata()??void 0,this._store.setData(this._id,t)}};st.ɵfac=function(t){return new(t||st)(S.Y(i.gz),S.Y(T.U),S.Y(c.Qh),S.Y(W.n),S.Y(X.nR))},st.ɵcmp=k.Xp({type:st,selectors:[["relations-editor-view"]],features:[I._([h.z,{provide:G.te,useFactory:t=>new u.I((e=>t.getData(e)?.relations??[])),deps:[T.U]},(0,w.qm)(),(0,M.Od)(),(0,C.vu)(),(0,J.xb)(),(0,v.Rn)(),(0,y.El)(),(0,L.Mr)(),(0,Y.Kc)((0,Y.Sf)(et),R),{provide:g.L,useClass:B},(0,U.Y)("DYNAMIC_CONTENT_DATA")])],decls:2,vars:3,consts:[[3,"metadata","history","metadataChange","save"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Q.Tg(0,"editor-controls",0),P.N("metadataChange",(function(t){return e.metadata=t}))("save",(function(){return e.save()})),Q.qZ(),Q._U(1,"relations-editor",1)),2&t&&(q.Q("metadata",e.metadata)("history",e.history),j.x(1),q.Q("metadata",e.metadata))},dependencies:[at.Y,K.w],styles:["[_nghost-%COMP%]{padding:0}"],changeDetection:0}),st=(0,s.gn)([(0,o.n)({path:"relations/:id"}),(0,d.q)("relationsEditor-page"),(0,s.w6)("design:paramtypes",[i.gz,T.U,Object,W.n,l.Y])],st);var nt=a(2860);let rt=class{constructor(t,e,a,s){this._route=t,this._store=e,this._metaManager=a,this.history=s,this._id="",this.metadata=[]}ngOnInit(){this._route.params.subscribe((({id:t})=>{this._id=t,this.metadata=this._store.getData(this._id)??[]}))}save(){const t=this._metaManager.getMetadata();t&&this._store.setData(this._id,t)}};rt.ɵfac=function(t){return new(t||rt)(S.Y(i.gz),S.Y(T.U),S.Y(c.Qh),S.Y(X.nR))},rt.ɵcmp=k.Xp({type:rt,selectors:[["resolver-relations-editor-view"]],features:[I._([h.z,(0,C.wr)(),(0,J.Gc)(),(0,v.eh)(),(0,L.Lr)(),(0,nt.hE)(et),{provide:g.L,useClass:B},(0,U.Y)("RESOLVER_RELATIONS_DATA")])],decls:2,vars:3,consts:[[3,"metadata","history","metadataChange","save"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Q.Tg(0,"editor-controls",0),P.N("metadataChange",(function(t){return e.metadata=t}))("save",(function(){return e.save()})),Q.qZ(),Q._U(1,"relations-editor",1)),2&t&&(q.Q("metadata",e.metadata)("history",e.history),j.x(1),q.Q("metadata",e.metadata))},dependencies:[at.Y,K.w],styles:["[_nghost-%COMP%]{padding:0}"],changeDetection:0}),rt=(0,s.gn)([(0,o.n)({path:"resolverRelations/:id"}),(0,d.q)("resolverRelationsEditor-page"),(0,s.w6)("design:paramtypes",[i.gz,T.U,Object,l.Y])],rt);const it=[Z,st,rt];var ot=a(83139);let dt=class{};dt.ɵfac=function(t){return new(t||dt)},dt.ɵmod=k.oA({type:dt}),dt.ɵinj=b.cJ({imports:[r.W,ot.wx]}),dt=(0,s.gn)([(0,n.P)(it)],dt)}}]);
//# sourceMappingURL=5489.client.chunk.3740a59c75d529c1664d.js.map