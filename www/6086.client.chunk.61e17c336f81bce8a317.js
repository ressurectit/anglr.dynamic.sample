"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[6086],{86086:(e,n,t)=>{t.d(n,{D:()=>ne});var o=t(6631),i=t(65540),s=t(66968),r=t(12405),a=t(14660),d=t(16173),l=t(709),h=t(18168),c=t(41762),u=t(78072),v=t(78957);const g=()=>{const e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null};var p=t(60662),m=t(93044),w=t(13341);class C{constructor(){this.onBeforePaste=new m.v,this.onBlur=new m.v,this.onClick=new m.v,this.onContextMenu=new m.v,this.onCopy=new m.v,this.onCut=new m.v,this.onDblclick=new m.v,this.onDrag=new m.v,this.onDragDrop=new m.v,this.onDragEnd=new m.v,this.onDragGesture=new m.v,this.onDragOver=new m.v,this.onDrop=new m.v,this.onFocus=new m.v,this.onFocusIn=new m.v,this.onFocusOut=new m.v,this.onKeyDown=new m.v,this.onKeyPress=new m.v,this.onKeyUp=new m.v,this.onMouseDown=new m.v,this.onMouseEnter=new m.v,this.onMouseLeave=new m.v,this.onMouseMove=new m.v,this.onMouseOut=new m.v,this.onMouseOver=new m.v,this.onMouseUp=new m.v,this.onPaste=new m.v,this.onSelectionChange=new m.v,this.onActivate=new m.v,this.onAddUndo=new m.v,this.onBeforeAddUndo=new m.v,this.onBeforeExecCommand=new m.v,this.onBeforeGetContent=new m.v,this.onBeforeRenderUI=new m.v,this.onBeforeSetContent=new m.v,this.onChange=new m.v,this.onClearUndos=new m.v,this.onDeactivate=new m.v,this.onDirty=new m.v,this.onExecCommand=new m.v,this.onGetContent=new m.v,this.onHide=new m.v,this.onInit=new m.v,this.onInitNgModel=new m.v,this.onLoadContent=new m.v,this.onNodeChange=new m.v,this.onPostProcess=new m.v,this.onPostRender=new m.v,this.onPreInit=new m.v,this.onPreProcess=new m.v,this.onProgressState=new m.v,this.onRedo=new m.v,this.onRemove=new m.v,this.onReset=new m.v,this.onResizeEditor=new m.v,this.onSaveContent=new m.v,this.onSetAttrib=new m.v,this.onObjectResizeStart=new m.v,this.onObjectResized=new m.v,this.onObjectSelected=new m.v,this.onSetContent=new m.v,this.onShow=new m.v,this.onSubmit=new m.v,this.onUndo=new m.v,this.onVisualAid=new m.v}}C.ɵfac=function(e){return new(e||C)},C.ɵdir=w.lG({type:C,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}});const y=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],b=(e,n,t)=>(0,p.R)(e,n).pipe((0,v.R)(t)),f=(e,n)=>"string"==typeof e?e.split(",").map((e=>e.trim())):Array.isArray(e)?e:n;let S=0;const D=e=>void 0!==e&&"textarea"===e.tagName.toLowerCase(),M=e=>void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" "),E=()=>{},P=e=>null==e;var R=t(18106),_=t(12285),O=t(18810),B=t(93982);const U=(()=>{let e={script$:null};return{load:(n,t)=>e.script$||(e.script$=(0,R.P)((()=>{const e=n.createElement("script");return e.referrerPolicy="origin",e.type="application/javascript",e.src=t,n.head.appendChild(e),(0,p.R)(e,"load").pipe((0,_.q)(1),(0,O.h)(void 0))})).pipe((0,B.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{e={script$:null}}}})();var A=t(37654),I=t(47948),k=t(18205),x=t(18968),j=t(52900),K=t(94128),z=t(83210);function N(e,n){}const F=new a.O("TINYMCE_SCRIPT_SRC"),G={provide:h.JU,useExisting:(0,d.Gp)((()=>V)),multi:!0};class V extends C{constructor(e,n,t,o){super(),this.platformId=t,this.tinymceScriptSrc=o,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=E,this.destroy$=new u.x,this.initialise=()=>{const e={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:(n=this.init&&this.init.plugins,t=this.plugins,M(n).concat(M(t))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,b(e,"init",this.destroy$).subscribe((()=>{this.initEditor(e)})),((e,n,t)=>{(e=>{const n=f(e.ignoreEvents,[]);return f(e.allowedEvents,y).filter((e=>y.includes(e)&&!n.includes(e)))})(e).forEach((o=>{const i=e[o];b(n,o.substring(2),t).subscribe((t=>{i.observers.length>0&&e.ngZone.run((()=>i.emit({event:t,editor:n})))}))}))})(this,e,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(e)}};var n,t;D(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular((()=>{g().init(e)}))},this._elementRef=e,this.ngZone=n}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(e?"readonly":"design"):this._editor.setMode(e?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(P(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}ngAfterViewInit(){(0,s.q4)(this.platformId)&&(this.id=this.id||(e=>{const n=(new Date).getTime(),t=Math.floor(1e9*Math.random());return S++,"tiny-angular_"+t+S+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==g()?this.initialise():this._element&&this._element.ownerDocument&&U.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,v.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==g()&&g().remove(this._editor)}createElement(){const e="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?e:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,D(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return P(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){b(e,"blur",this.destroy$).subscribe((()=>{this.ngZone.run((()=>this.onTouchedCallback()))})),b(e,this.modelEvents,this.destroy$).subscribe((()=>{this.ngZone.run((()=>this.emitOnChange(e)))})),"string"==typeof this.initialValue&&this.ngZone.run((()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.emitOnChange(e),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)}))}emitOnChange(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}V.ɵfac=function(e){return new(e||V)(A.Y(I.SB),A.Y(k.R),A.Y(l.Lb),A.Y(F,8))},V.ɵcmp=w.Xp({type:V,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[x._([G]),j.q,K.j],decls:1,vars:0,template:function(e,n){1&e&&z.Y(0,N,0,0,"ng-template")},dependencies:[r.e,c.u],styles:["[_nghost-%COMP%]{display:block}"]});var $=t(10012);class T{}T.ɵfac=function(e){return new(e||T)},T.ɵmod=w.oA({type:T}),T.ɵinj=$.cJ({imports:[V]});var L=t(38256),Z=t(57165),Y=t(50478),q=t(27805),H=t(63289),J=t(53373),Q=t(5419),X=t(28588),W=t(6174),ee=t(78525);class ne{constructor(e,n){this.data=e,this.dialog=n,this.content=null,this.content=e}}ne.ɵfac=function(e){return new(e||ne)(A.Y(i.m),A.Y(W.s))},ne.ɵcmp=w.Xp({type:ne,selectors:[["rich-text-block-editor-dialog"]],standalone:!0,features:[K.j],decls:9,vars:2,consts:[[3,"initialValue"],["editor",""],[1,"dynamic-flex-row","dynamic-flex-end"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-info",3,"mat-dialog-close"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(e,n){if(1&e){const e=L.E();Z._U(0,"editor",0,1),Z.Tg(2,"div",2)(3,"button",3)(4,"span"),Y._(5,"cancel"),Z.qZ()(),Z.Tg(6,"button",4),q.N("click",(function(){H.CH(e);const t=J.M(1);return n.content=t.editor.getContent(),H.Kt(n.dialog.close(n.content))})),Z.Tg(7,"span"),Y._(8,"ok"),Z.qZ()()()}if(2&e){let e;Q.Q("initialValue",null!==(e=n.content)&&void 0!==e?e:""),X.x(3),Q.Q("mat-dialog-close",null)}},dependencies:[o.I,ee.ZT,T,V],encapsulation:2,changeDetection:0})}}]);
//# sourceMappingURL=6086.client.chunk.61e17c336f81bce8a317.js.map