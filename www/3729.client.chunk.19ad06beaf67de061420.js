"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3729],{97372:(t,e,i)=>{i.d(e,{i:()=>U});var n=i(85230),o=i(61373),s=i(32461),a=i(69147),l=i(71714),r=i(54285),p=i(90090),h=i(38662),u=i(14151),c=i(5617),d=i(88912),m=i(58138),_=i(92156),g=i(97740),f=i(40486),v=i(59656),y=i(56274),w=i(41080),C=i(2492),x=i(12900),b=i(67550),M=i(77177),D=i(31644);function P(t,e){if(1&t&&(p.Tg(0,"div"),h._(1),p.qZ()),2&t){const t=u.o();c.x(1),d.Oq(t.data)}}function T(t,e){if(1&t&&p._U(0,"div",3),2&t){const t=u.o();m.Q("innerHTML",t.data,_.oJ)}}function O(t,e){1&t&&g.Gk(0)}const E=function(t){return{$implicit:t}};function R(t,e){if(1&t&&f.Y(0,O,1,0,"ng-container",4),2&t){const t=u.o();m.Q("ngTemplateOutlet",t.template)("ngTemplateOutletContext",v.VK(2,E,t.data))}}class Y{constructor(t,e){this._changeDetector=t,this._element=e,this._enterFn=()=>null,this._leaveFn=()=>null,this.allowHtml=!1}registerHoverEvents(t,e){this._enterFn=t,this._leaveFn=e}invalidateVisuals(){this.cssClass&&this._element.nativeElement.classList.add(this.cssClass),this._changeDetector.detectChanges()}mouseEnter(){this._enterFn()}mouseLeave(){this._leaveFn()}}Y.ɵfac=function(t){return new(t||Y)(y.Y(w.s),y.Y(C.SB))},Y.ɵcmp=x.Xp({type:Y,selectors:[["tooltip-popup"]],hostBindings:function(t,e){1&t&&b.N("mouseenter",(function(){return e.mouseEnter()}))("mouseleave",(function(){return e.mouseLeave()}))},decls:3,vars:3,consts:[[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngIf"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(f.Y(0,P,2,1,"div",0),f.Y(1,T,1,1,"div",1),f.Y(2,R,1,4,"ng-template",2)),2&t&&(m.Q("ngIf",!e.template&&!e.allowHtml),c.x(1),m.Q("ngIf",!e.template&&e.allowHtml),c.x(1),m.Q("ngIf",e.template))},dependencies:[M.O,D.t],styles:["[_nghost-%COMP%]\r\n{\r\n    display: block;\r\n    position: absolute;\r\n    padding: 2px 4px;\r\n    border-radius: 3px;\r\n    font-size: 0.9em;\r\n    max-width: 300px;\r\n    user-select: text;\r\n}"],changeDetection:0});const I=new(i(13556).O)("TOOLTIP_OPTIONS");var N=i(34961),L=i(24677),q=i(7633);class S{constructor(t){this.template=t}static ngTemplateContextGuard(t,e){return!0}}S.ɵfac=function(t){return new(t||S)(y.Y(q.Rg))},S.ɵdir=x.lG({type:S,selectors:[["","tooltipTemplate",""]]});var z=i(84432),H=i(20264),A=i(905),V=i(8878),j=i(11817),Q=i(22390);const k={delay:200,position:{offset:N.I.MouseEnter,placement:N.X.TopStart},allowSelection:!1,tooltipRenderer:Y,tooltipCssClass:null,stopPropagation:!1,enterAnimation:o.B,exitAnimation:s.S};class U{constructor(t,e,i,n,o,s,l){this._viewContainerRef=t,this._injector=e,this._element=i,this._animationsPlayer=n,this._document=o,this._position=s,this._showRequest=!1,this._keepOpen=!1,this._timeout=null,this.allowHtml=!1,this._options=(0,a.l7)(!0,{},k,l),this._enterAnimation=this._animationsPlayer.build(this._options.enterAnimation),this._exitAnimation=this._animationsPlayer.build(this._options.exitAnimation)}get tooltipOptions(){return this._options}set tooltipOptions(t){this._options=(0,a.l7)(!0,{},this._options,t),this._enterAnimation=this._animationsPlayer.build(this._options.enterAnimation),this._exitAnimation=this._animationsPlayer.build(this._options.exitAnimation)}ngOnChanges(t){(0,l.$)("tooltipVisible")in t&&(this.tooltipVisible?this._showTooltip():this._hideTooltip())}ngOnDestroy(){this._timeout&&clearTimeout(this._timeout),this._destroyTooltip()}mouseLeave(t){this._options.stopPropagation&&t.stopPropagation(),(0,r.fp)(this.tooltipVisible)&&setTimeout((()=>{this._keepOpen||(this._showRequest=!1,this._hideTooltip())}),10)}mouseMove(t){this._options.stopPropagation&&t.stopPropagation(),this._showRequest=!0,this._tooltipComponent||(0,r.EN)(this.tooltipVisible)||((0,r.EN)(this._timeout)&&clearTimeout(this._timeout),this._timeout=setTimeout((()=>{this._timeout=null,this._showRequest&&(this._showTooltip(t),this._showRequest=!1)}),this._options.delay))}_showTooltip(t){this._createTooltip(),this._tooltipElement&&(this._showData(),this._position.placeElement(this._tooltipElement,this._element.nativeElement,{placement:this._options.position.placement,offset:this._options.position.offset,flip:!0,mouseEvent:t,autoUpdate:!1}).toPromise().then((t=>(0,L.e)(t))))}_hideTooltip(){this._destroyTooltip()}_destroyTooltip(){if(this._tooltipComponent){const t=this._tooltipComponent,e=this._tooltipElement,i=this._exitAnimation.create(e);i.onDone((()=>{t.destroy(),i.destroy()})),this._tooltipComponent=void 0,this._tooltipElement=void 0,i.play()}}_createTooltip(){this._destroyTooltip(),this._tooltipComponent=this._viewContainerRef.createComponent(this._options.tooltipRenderer,{injector:this._injector}),this._tooltipElement=this._tooltipComponent.hostView.rootNodes[0],this._document.body.appendChild(this._tooltipElement),this._enterAnimation.create(this._tooltipElement).play()}_showData(){this._tooltipComponent&&(this._tooltipComponent.instance.allowHtml=this.allowHtml,this._tooltipComponent.instance.data=this.tooltip,this._tooltipComponent.instance.template=this.template??this.tooltipTemplateChild?.template,this._tooltipComponent.instance.cssClass=this._options.tooltipCssClass,this._tooltipComponent.instance.registerHoverEvents((()=>{this._options.allowSelection&&(this._keepOpen=!0,this._showRequest=!1)}),(()=>{setTimeout((()=>{this._keepOpen=!1,this._showRequest||this._hideTooltip(),this._showRequest=!1}),5)})),this._tooltipComponent.instance.invalidateVisuals())}}U.ɵfac=function(t){return new(t||U)(y.Y(H.s_),y.Y(A.z),y.Y(C.SB),y.Y(Q._),y.Y(n.K),y.Y(z.Vr),y.Y(I,8))},U.ɵdir=x.lG({type:U,selectors:[["","tooltip",""]],contentQueries:function(t,e,i){if(1&t&&V.Su(i,S,5),2&t){let t;V.iG(t=V.CR())&&(e.tooltipTemplateChild=t.first)}},hostBindings:function(t,e){1&t&&b.N("mouseleave",(function(t){return e.mouseLeave(t)}))("mousemove",(function(t){return e.mouseMove(t)}))},inputs:{tooltip:"tooltip",allowHtml:"allowHtml",template:"template",tooltipOptions:"tooltipOptions",tooltipVisible:"tooltipVisible"},features:[j.T]})},24677:(t,e,i)=>{function n(t){Object.assign(t.target.style,{top:"0",left:"0",transform:`translate(${t.x}px, ${t.y}px)`})}i.d(e,{e:()=>n})},19277:(t,e,i)=>{i.d(e,{M:()=>f});var n=i(17305),o=i(71714),s=i(28393),a=i(60541),l=i(40433),r=i(16056),p=i(56274),h=i(41080),u=i(2492),c=i(12900),d=i(8878),m=i(67550),_=i(99654),g=i(11817);class f{constructor(t,e){this.changeDetector=t,this.element=e,this.history=(0,n.f3)(r.nR),this.initialized=!1,this.isDragging=!1,this.moved=!1,this.lastMouseDownPosition={x:0,y:0},this.lastMouseDownNodePosition={x:0,y:0},this.nodePosition={x:0,y:0},this.ɵAllOutputs=[],this.ɵInputs={},this.ɵOutputs={},this.destroySubject=new s.x,this.zoomLevel=1,this.element.nativeElement.classList.add("relations-node"),this.updatePosition(),this.observer=new ResizeObserver((()=>this.updateRelations())),this.observer.observe(this.element.nativeElement)}get id(){return this.metadata?.id??""}get allOutputs(){return this.ɵAllOutputs}get inputs(){return this.ɵInputs}get outputs(){return this.ɵOutputs}get destroy(){return this.destroySubject.asObservable()}ngOnChanges(t){(0,o.$)("metadata")in t&&this.metadata&&(this.metadata.nodeMetadata?.coordinates&&(this.nodePosition=this.metadata.nodeMetadata.coordinates,this.updatePosition()),this.metadataSet())}ngOnDestroy(){this.observer?.disconnect()}invalidateVisuals(){this.changeDetector.detectChanges(),this.initialized||(this.initialized=!0,this.initEndpoints())}initialize(){}onMouseDown(t){this.moved=!1,this.isDragging=!0,this.lastMouseDownPosition={x:t.clientX,y:t.clientY},this.lastMouseDownNodePosition={x:this.nodePosition.x,y:this.nodePosition.y},t.stopImmediatePropagation()}onMouseMove(t){this.isDragging&&(this.moved=!0,this.nodePosition={x:this.lastMouseDownNodePosition.x+1*(t.clientX-this.lastMouseDownPosition.x)/this.zoomLevel,y:this.lastMouseDownNodePosition.y+1*(t.clientY-this.lastMouseDownPosition.y)/this.zoomLevel},this.updatePosition(),t.stopImmediatePropagation(),t.preventDefault(),this.updateRelations())}onMouseUp(t){this.isDragging&&(this.moved&&this.history.getNewState(),this.isDragging=!1,t.stopImmediatePropagation(),t.preventDefault())}initEndpoints(){const t=()=>{this.ɵInputs={},this.inputsChildren?.forEach((t=>{t.name&&(this.ɵInputs[t.name]=t)})),Object.freeze(this.ɵInputs)},e=()=>{this.ɵAllOutputs=this.outputsChildren.toArray(),this.ɵOutputs={},this.outputsChildren?.forEach((t=>{t.name&&(this.ɵOutputs[t.name]=t)})),Object.freeze(this.ɵOutputs)};this.inputsChildren?.changes.subscribe((()=>t())),this.outputsChildren?.changes.subscribe((()=>e())),t(),e()}updateRelations(){this.inputsChildren.forEach((t=>{t.updateRelation()})),this.outputsChildren.forEach((t=>{t.updateRelation()}))}updatePosition(){this.element.nativeElement.style.left=`${this.nodePosition.x}px`,this.element.nativeElement.style.top=`${this.nodePosition.y}px`,this.metadata?.nodeMetadata?.coordinates&&(this.metadata.nodeMetadata.coordinates.x=this.nodePosition.x,this.metadata.nodeMetadata.coordinates.y=this.nodePosition.y)}metadataSet(){}}f.ɵfac=function(t){return new(t||f)(p.Y(h.s),p.Y(u.SB))},f.ɵdir=c.lG({type:f,viewQuery:function(t,e){if(1&t&&(d.Gf(l.P,5),d.Gf(a.n,5)),2&t){let t;d.iG(t=d.CR())&&(e.inputsChildren=t),d.iG(t=d.CR())&&(e.outputsChildren=t)}},hostBindings:function(t,e){1&t&&m.N("mousedown",(function(t){return e.onMouseDown(t)}))("mousemove",(function(t){return e.onMouseMove(t)}),!1,_.Jf)("mouseup",(function(t){return e.onMouseUp(t)}),!1,_.Jf)},features:[g.T]})},44346:(t,e,i)=>{i.d(e,{S:()=>p});var n=i(56274),o=i(2492),s=i(12900),a=i(46170),l=i(25457),r=i(88188);class p{constructor(t,e,i){this._element=t,this._relationManager=e,this._canvas=i,this._isDragging=!1,this._isHighlighted=!1,this._lastMouseDownPosition={x:0,y:0},this.zoomLevel=1,this.parentCoordiantes={x:0,y:0}}get parentId(){return this.parent?.id??""}ngOnInit(){if(!this.parent)throw new Error("Every input or output endpoint must have parent specified")}getCoordinates(){return{x:this.parentCoordiantes.x+this._element.nativeElement.offsetLeft+this._element.nativeElement.offsetWidth/2,y:this.parentCoordiantes.y+this._element.nativeElement.offsetTop+this._element.nativeElement.offsetHeight/2}}highlight(){this._isHighlighted=!0}cancelHighlight(){this._isHighlighted=!1}}p.ɵfac=function(t){return new(t||p)(n.Y(o.SB),n.Y(l.J),n.Y(r.F))},p.ɵdir=s.lG({type:p,hostVars:2,hostBindings:function(t,e){2&t&&a.ek("highlighted",e._isHighlighted)},inputs:{name:"name",zoomLevel:"zoomLevel",parentCoordiantes:"parentCoordiantes",parent:"parent"}})},29194:(t,e,i)=>{i.d(e,{e:()=>$});var n=i(14015),o=i(57095),s=i(82450),a=i(83580),l=i(40058),r=i(5545),p=i(43705),h=i(69147);class u{constructor(t){this.displayName=null,this.scope=null,h.Rl.bind(this)(t)}}var c=i(90090),d=i(58138),m=i(38662),_=i(5617),g=i(88912),f=i(40486),v=i(14151),y=i(56274),w=i(12900),C=i(89285),x=i(10073),b=i(20931),M=i(77177),D=i(39463),P=i(78596),T=i(24430),O=i(52548),E=i(86917),R=i(22369),Y=i(53829);function I(t,e){1&t&&c._U(0,"input",8),2&t&&d.Q("readonly",!0)}function N(t,e){if(1&t&&(c.Tg(0,"option",12),m._(1),c.qZ()),2&t){const t=e.$implicit;d.Q("value",t),_.x(1),g.Oq(t)}}function L(t,e){if(1&t&&(c.Tg(0,"select",9)(1,"option",10),m._(2,"---"),c.qZ(),f.Y(3,N,2,2,"option",11),c.qZ()),2&t){const t=v.o();_.x(3),d.Q("ngForOf",t.scopes)}}class q{constructor(t,e){this.data=t,this.scopes=[],this.form=e.build(new u(t.properties)),this.scopes=t.scopeRegister.scopes}}q.ɵfac=function(t){return new(t||q)(y.Y(r.m),y.Y(p.p))},q.ɵcmp=w.Xp({type:q,selectors:[["relations-node-properties-editor"]],standalone:!0,features:[C._([p.p]),x.j],decls:15,vars:5,consts:[[1,"dynamic-form-group",3,"formGroup"],[1,"dynamic-control-label"],["type","text","formControlName","displayName",1,"dynamic-form-control"],["class","dynamic-form-control","type","text","formControlName","scope",3,"readonly",4,"ngIf"],["class","dynamic-form-control","formControlName","scope",4,"ngIf"],[1,"dynamic-flex-row","dynamic-flex-end","dynamic-margin-top-small"],["type","button",1,"dynamic-btn","dynamic-btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"mat-dialog-close"],["type","text","formControlName","scope",1,"dynamic-form-control",3,"readonly"],["formControlName","scope",1,"dynamic-form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(c.Tg(0,"div",0)(1,"label",1),m._(2,"display name"),c.qZ(),c._U(3,"input",2),c.Tg(4,"label",1),m._(5,"scope"),c.qZ(),f.Y(6,I,1,1,"input",3),f.Y(7,L,4,1,"select",4),c.qZ(),c.Tg(8,"div",5)(9,"button",6)(10,"span"),m._(11,"cancel"),c.qZ()(),c.Tg(12,"button",7)(13,"span"),m._(14,"ok"),c.qZ()()()),2&t&&(d.Q("formGroup",e.form),_.x(6),d.Q("ngIf",!e.data.scopeConfigurable),_.x(1),d.Q("ngIf",e.data.scopeConfigurable),_.x(2),d.Q("mat-dialog-close",null),_.x(3),d.Q("mat-dialog-close",e.form.value))},dependencies:[n.e,b.sg,M.O,l.I,D.ZT,a.U,P.YN,T.Kr,O.Fj,P.EJ,E.JJ,E.JL,R.s,Y.u],encapsulation:2,changeDetection:0});var S=i(73573);class z{transform(t){return t?(0,S.Wg)(t):null}}z.ɵfac=function(t){return new(t||z)},z.ɵpipe=w.Yj({name:"toColor",type:z,pure:!0,standalone:!0});var H=i(16056),A=i(73221),V=i(46170),j=i(4028),Q=i(67550),k=i(91742),U=i(41080),Z=i(32247),F=i(40131),G=i(97372);function J(t,e,i,n,o,s,a){try{var l=t[s](a),r=l.value}catch(t){return void i(t)}l.done?e(r):Promise.resolve(r).then(n,o)}function X(t,e){if(1&t&&(c.Tg(0,"span",5),A.AL(1,"toColor"),m._(2,"{}"),c.qZ()),2&t){const t=v.o();V.Ud("color",A.lc(1,3,null==t.parent||null==t.parent.metadata?null:t.parent.metadata.scope)),d.Q("tooltip",null==t.parent||null==t.parent.metadata?null:t.parent.metadata.scope)}}function B(t,e){if(1&t){const t=j.E();c.Tg(0,"button",6),Q.N("click",(function(){k.CH(t);const e=v.o();return k.Kt(e.destroySubject.next())})),c._U(1,"span",7),c.qZ()}}class ${constructor(t,e,i,n){this.dialog=t,this.changeDetector=e,this.scopeRegister=i,this.history=n}editProperties(){var t,e=this;return(t=function*(){const t=yield(0,s.n)(e.dialog.open(q,{title:"edit properties",width:"30vw",data:{properties:{displayName:e.parent?.metadata?.displayName||e.name||e.parent?.metadata?.id||"",scope:e.parent?.metadata?.scope??""},scopeConfigurable:e.parent?.metadata?.nodeMetadata?.scopeConfigurable??!1,scopeRegister:e.scopeRegister}}).afterClosed());t&&e.parent?.metadata&&(e.parent.metadata.displayName=t.displayName??void 0,e.parent.metadata.scope=t.scope??void 0,e.history.getNewState(),e.changeDetector.detectChanges())},function(){var e=this,i=arguments;return new Promise((function(n,o){var s=t.apply(e,i);function a(t){J(s,n,o,a,l,"next",t)}function l(t){J(s,n,o,a,l,"throw",t)}a(void 0)}))})()}}$.ɵfac=function(t){return new(t||$)(y.Y(Z.J),y.Y(U.s),y.Y(F.a),y.Y(H.nR))},$.ɵcmp=w.Xp({type:$,selectors:[["relations-node-header"]],inputs:{parent:"parent",destroySubject:"destroySubject",name:"name"},standalone:!0,features:[x.j],decls:6,vars:3,consts:[[1,"header-content"],["class","dynamic-margin-horizontal-extra-small dynamic-bold",3,"tooltip","color",4,"ngIf"],["type","button",1,"dynamic-btn-icon","edit-icon",3,"click"],[1,"fas","fa-pen"],["type","button","class","dynamic-btn-icon destroy-icon",3,"click",4,"ngIf"],[1,"dynamic-margin-horizontal-extra-small","dynamic-bold",3,"tooltip"],["type","button",1,"dynamic-btn-icon","destroy-icon",3,"click"],[1,"fas","fa-times"]],template:function(t,e){1&t&&(c.Tg(0,"div",0),m._(1),c.qZ(),f.Y(2,X,3,5,"span",1),c.Tg(3,"button",2),Q.N("click",(function(){return e.editProperties()})),c._U(4,"span",3),c.qZ(),f.Y(5,B,2,0,"button",4)),2&t&&(_.x(1),g.Oq((null==e.parent||null==e.parent.metadata?null:e.parent.metadata.displayName)||e.name||(null==e.parent||null==e.parent.metadata?null:e.parent.metadata.id)),_.x(1),d.Q("ngIf",null==e.parent||null==e.parent.metadata?null:e.parent.metadata.scope),_.x(3),d.Q("ngIf",e.destroySubject))},dependencies:[n.e,M.O,o.z,G.i,z],encapsulation:2,changeDetection:0})},40433:(t,e,i)=>{i.d(e,{P:()=>d});var n=i(14015),o=i(44346),s=i(13780),a=i(31937),l=i(35767),r=i(12900),p=i(67550),h=i(99654),u=i(39238),c=i(10073);class d extends o.S{ngOnDestroy(){this._relation&&this._relation.destroy()}addRelation(t){if(this._relation){if(this._relation.start?.x===t.start?.x&&this._relation.start?.y===t.start?.y)return!1;this._relation.destroy()}return this._relation=t,!0}endRelation(t){this.addRelation(t)&&this.updateRelation()}updateRelation(){this._relation&&(this._relation.end=this.getCoordinates(),this._relation.input=this,this._relation.invalidateVisuals())}_onMouseEnter(t){t.buttons===s.t.LEFT&&this._relationManager.setActiveInput(this),this._relation?.highlight()}_onMouseLeave(t){t.buttons===s.t.LEFT&&this._relationManager.setActiveInput(null),this._relation?.cancelHighlight()}_onMouseDown(t){t.stopImmediatePropagation(),t.preventDefault(),this._lastMouseDownPosition={x:t.clientX,y:t.clientY},this._tempRelation=this._relation,this._relation=null,this._isDragging=!0}_onMouseMove(t){this._isDragging&&(t.stopImmediatePropagation(),t.preventDefault(),this._tempRelation&&(this._tempRelation.end={x:this.getCoordinates().x+1*(t.clientX-this._lastMouseDownPosition?.x)/this.zoomLevel,y:this.getCoordinates().y+1*(t.clientY-this._lastMouseDownPosition?.y)/this.zoomLevel},this._tempRelation.invalidateVisuals()))}_onMouseUp(t){this._isDragging&&(this._isDragging=!1,t.stopImmediatePropagation(),t.preventDefault(),this._tempRelation?.invalidateVisuals(a.r))}}d.ɵfac=function(){let t;return function(e){return(t||(t=l.n5(d)))(e||d)}}(),d.ɵcmp=r.Xp({type:d,selectors:[["relation-node-input"]],hostBindings:function(t,e){1&t&&p.N("mouseenter",(function(t){return e._onMouseEnter(t)}))("mouseleave",(function(t){return e._onMouseLeave(t)}))("mousedown",(function(t){return e._onMouseDown(t)}))("mousemove",(function(t){return e._onMouseMove(t)}),!1,h.Jf)("mouseup",(function(t){return e._onMouseUp(t)}),!1,h.Jf)},standalone:!0,features:[u.q,c.j],decls:0,vars:0,template:function(t,e){},dependencies:[n.e],encapsulation:2,changeDetection:0})},60541:(t,e,i)=>{i.d(e,{n:()=>c});var n=i(14015),o=i(44346),s=i(31937),a=i(35767),l=i(12900),r=i(67550),p=i(99654),h=i(39238),u=i(10073);class c extends o.S{constructor(){super(...arguments),this._relations=[]}get relations(){return this._relations}ngOnDestroy(){if(this._relations){const t=[...this._relations];for(const e of t)e.destroy()}}startRelation(){const t=this._canvas.createRelation();return t.start=this.getCoordinates(),t.output=this,t.destroying.subscribe((()=>{const e=this._relations.indexOf(t);e>=0&&this._relations.splice(e,1)})),this._relations.push(t),t}updateRelation(){if(this._relations)for(const t of this._relations)t.start=this.getCoordinates(),t.invalidateVisuals()}_onMouseDown(t){t.stopImmediatePropagation(),t.preventDefault(),this._isDragging=!0,this._lastMouseDownPosition={x:t.clientX,y:t.clientY},this._relation=this.startRelation()}_onMouseEnter(t){this._relations?.forEach((t=>t?.highlight()))}_onMouseLeave(t){this._relations?.forEach((t=>t?.cancelHighlight()))}_onMouseMove(t){this._isDragging&&(t.stopImmediatePropagation(),t.preventDefault(),this._relation&&(this._relation.end={x:this.getCoordinates().x+1*(t.clientX-this._lastMouseDownPosition.x)/this.zoomLevel,y:this.getCoordinates().y+1*(t.clientY-this._lastMouseDownPosition.y)/this.zoomLevel},this._relation.invalidateVisuals()))}_onMouseUp(t){this._isDragging&&(this._isDragging=!1,t.stopImmediatePropagation(),t.preventDefault(),this._relation?.invalidateVisuals(s.r))}}c.ɵfac=function(){let t;return function(e){return(t||(t=a.n5(c)))(e||c)}}(),c.ɵcmp=l.Xp({type:c,selectors:[["relation-node-output"]],hostBindings:function(t,e){1&t&&r.N("mousedown",(function(t){return e._onMouseDown(t)}))("mouseenter",(function(t){return e._onMouseEnter(t)}))("mouseleave",(function(t){return e._onMouseLeave(t)}))("mousemove",(function(t){return e._onMouseMove(t)}),!1,p.Jf)("mouseup",(function(t){return e._onMouseUp(t)}),!1,p.Jf)},standalone:!0,features:[h.q,u.j],decls:0,vars:0,template:function(t,e){},dependencies:[n.e],encapsulation:2,changeDetection:0})}}]);
//# sourceMappingURL=3729.client.chunk.19ad06beaf67de061420.js.map