{"version":3,"file":"2828.client.chunk.47a0a50937206cf49456.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataTemplate/node/dataTemplateNode.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/handlebars-components/src/dynamicItems/dataTemplate/metadata/dataTemplate.relationsMetadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/modules/codeEditor/misc/types/languageModels/handlebarsLanguageModel.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef } from '@angular/core';\nimport { RelationsNodeBase, RelationNodeInputSAComponent, RelationNodeOutputSAComponent, RelationsNodeHeaderSAComponent } from '@anglr/dynamic/relations-editor';\nimport { TitledDialogService } from '@anglr/common/material';\nimport { HandlebarsLanguageModel, CodeEditorDialogComponent } from '@anglr/dynamic';\nimport { isPresent } from '@jscrpt/common';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@anglr/common/material\";\n/**\n * Relations node component for data template\n */\n\nexport class DataTemplateNodeSAComponent extends RelationsNodeBase {\n  //######################### constructor #########################\n  constructor(changeDetector, element, dialog) {\n    super(changeDetector, element);\n    this.dialog = dialog;\n  } //######################### protected methods - template bindings #########################\n\n  /**\n   * Shows code editor\n   */\n\n\n  showCodeEditor() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const result = yield lastValueFrom(_this.dialog.open(CodeEditorDialogComponent, {\n        title: 'Code editor',\n        width: '75vw',\n        height: '75vh',\n        data: {\n          content: _this.metadata?.relationsOptions?.template ?? '',\n          languageModel: HandlebarsLanguageModel\n        }\n      }).afterClosed());\n\n      if (isPresent(result)) {\n        if (_this.metadata?.relationsOptions) {\n          _this.metadata.relationsOptions.template = result.content;\n\n          _this.history.getNewState();\n        }\n      }\n    })();\n  }\n\n}\n\nDataTemplateNodeSAComponent.ɵfac = function DataTemplateNodeSAComponent_Factory(t) {\n  return new (t || DataTemplateNodeSAComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.TitledDialogService));\n};\n\nDataTemplateNodeSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DataTemplateNodeSAComponent,\n  selectors: [[\"data-template-node\"]],\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 20,\n  vars: 11,\n  consts: [[\"name\", \"data template\", 3, \"parent\", \"destroySubject\"], [1, \"node-content\"], [1, \"inputs-outputs\"], [1, \"inputs\"], [1, \"input\"], [\"name\", \"template\", 3, \"parentCoordiantes\", \"zoomLevel\", \"parent\"], [\"name\", \"data\", 3, \"parentCoordiantes\", \"zoomLevel\", \"parent\"], [1, \"outputs\"], [1, \"output\"], [\"name\", \"output\", 3, \"parentCoordiantes\", \"zoomLevel\", \"parent\"], [\"type\", \"button\", 1, \"dynamic-btn\", \"dynamic-btn-primary\", 3, \"click\"]],\n  template: function DataTemplateNodeSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"relations-node-header\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵelement(5, \"relation-node-input\", 5);\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵtext(7, \"template\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵelement(9, \"relation-node-input\", 6);\n      i0.ɵɵelementStart(10, \"div\");\n      i0.ɵɵtext(11, \"data\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"div\");\n      i0.ɵɵtext(15, \"output\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"relation-node-output\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function DataTemplateNodeSAComponent_Template_button_click_17_listener() {\n        return ctx.showCodeEditor();\n      });\n      i0.ɵɵelementStart(18, \"span\");\n      i0.ɵɵtext(19, \"template\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"parent\", ctx)(\"destroySubject\", ctx.destroySubject);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"parentCoordiantes\", ctx.nodePosition)(\"zoomLevel\", ctx.zoomLevel)(\"parent\", ctx);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"parentCoordiantes\", ctx.nodePosition)(\"zoomLevel\", ctx.zoomLevel)(\"parent\", ctx);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"parentCoordiantes\", ctx.nodePosition)(\"zoomLevel\", ctx.zoomLevel)(\"parent\", ctx);\n    }\n  },\n  dependencies: [RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent, RelationNodeOutputSAComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DataTemplateNodeSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'data-template-node',\n      standalone: true,\n      imports: [RelationsNodeHeaderSAComponent, RelationNodeInputSAComponent, RelationNodeOutputSAComponent],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<relations-node-header [parent]=\\\"this\\\" [destroySubject]=\\\"destroySubject\\\" name=\\\"data template\\\"></relations-node-header>\\n\\n<div class=\\\"node-content\\\">\\n    <div class=\\\"inputs-outputs\\\">\\n        <div class=\\\"inputs\\\">\\n            <div class=\\\"input\\\">\\n                <relation-node-input [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" name=\\\"template\\\" [parent]=\\\"this\\\"></relation-node-input>\\n                <div>template</div>\\n            </div>\\n            \\n            <div class=\\\"input\\\">\\n                <relation-node-input [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" name=\\\"data\\\" [parent]=\\\"this\\\"></relation-node-input>\\n                <div>data</div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"outputs\\\">\\n            <div class=\\\"output\\\">\\n                <div>output</div>\\n                <relation-node-output [parentCoordiantes]=\\\"nodePosition\\\" [zoomLevel]=\\\"zoomLevel\\\" name=\\\"output\\\" [parent]=\\\"this\\\"></relation-node-output>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <button type=\\\"button\\\" class=\\\"dynamic-btn dynamic-btn-primary\\\" (click)=\\\"showCodeEditor()\\\">\\n        <span>template</span>\\n    </button>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i1.TitledDialogService\n    }];\n  }, null);\n})();","import { DataTemplateNodeSAComponent } from '../node/dataTemplateNode.component';\n/**\n * Data template relations metadata\n */\n\nexport class DataTemplateRelationsEditorMetadata {\n  //######################### constructor #########################\n  constructor() {\n    //######################### public properties - implementation of RelationsEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    this.metaInfo = {\n      name: 'Data template',\n      description: 'Renders data into template',\n      group: 'Data'\n    };\n    /**\n     * @inheritdoc\n     */\n\n    this.nodeDefinition = DataTemplateNodeSAComponent;\n    Object.freeze(this);\n  }\n\n}","import { LanguageModel } from './languageModel';\n/**\n * Handlebars language model for code editor\n */\n\nexport const HandlebarsLanguageModel = new LanguageModel('handlebars', 'hbs', editor => {\n  return editor.getModel()?.getValue() ?? '';\n});"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","DataTemplateNodeSAComponent","constructor","changeDetector","element","dialog","super","this","showCodeEditor","fn","_this","result","lastValueFrom","open","title","width","height","data","content","metadata","relationsOptions","template","languageModel","afterClosed","history","getNewState","self","args","arguments","apply","err","undefined","t","type","selectors","standalone","features","decls","vars","consts","rf","ctx","destroySubject","nodePosition","zoomLevel","dependencies","encapsulation","changeDetection","DataTemplateRelationsEditorMetadata","metaInfo","name","description","group","nodeDefinition","Object","freeze","HandlebarsLanguageModel","editor","getModel","getValue"],"sourceRoot":""}