{"version":3,"file":"4714.client.chunk.a986b1c8ab6d2e42f199.js","mappings":"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","sources":["webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/form/src/components/formComponentBase/formComponentBase.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/form/src/dynamicItems/formGroup/formGroup.metadata.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/form/src/dynamicItems/formGroup/formGroup.component.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/form/src/dynamicItems/formGroup/type.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/form/src/misc/tokens.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout-editor/src/decorators/layoutEditorMetadata/layoutEditorMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/components/layoutComponentBase/layoutComponentBase.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/layout/src/extensions/componentStyling/componentStyling.extension.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/relations/src/decorators/dynamicOutput/dynamicOutput.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/decorators/dynamicMetadata/dynamicClassMetadata.decorator.js","webpack://ng-universal-demo/./node_modules/@anglr/dynamic/es2020/src/misc/dynamicItemExtensionBase.js"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport { ChangeDetectorRef, Directive, ElementRef, Inject, Injector, Input, Optional } from '@angular/core';\nimport { AbstractControl, FormControl, Validators } from '@angular/forms';\nimport { LayoutComponentBase } from '@anglr/dynamic/layout';\nimport { LOGGER } from '@anglr/common';\nimport { DynamicOutput } from '@anglr/dynamic/relations';\nimport { FORM_COMPONENT_CONTROL } from '../../misc/tokens';\nimport { FormComponentControlType } from '../../misc/enums';\nimport { getControlForType, getFormControl } from '../../misc/utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\n/**\n * Base component for form component\n */\n\nexport class FormComponentBase extends LayoutComponentBase {\n  //######################### constructor #########################\n  constructor(_changeDetector, _element, _injector, _parentControl, _logger) {\n    super(_changeDetector, _element, _injector, _logger);\n    this._parentControl = _parentControl; //######################### protected properties #########################\n\n    /**\n     * Form component control\n     */\n\n    this.control = new FormControl();\n  } //######################### public properties - inputs #########################\n\n  /**\n   * Form component value\n   */\n\n\n  set value(value) {\n    const oldValue = this.value;\n    this.valueOutput = value;\n\n    if (value !== oldValue) {\n      this.control?.patchValue(value);\n    }\n  }\n\n  get value() {\n    return this.valueOutput;\n  }\n  /**\n   * Indication whether form component is required\n   */\n\n\n  set required(value) {\n    this._required = value;\n\n    if (value === true) {\n      this.control?.addValidators(Validators.required);\n      return;\n    }\n\n    this.control?.removeValidators(Validators.required);\n  }\n\n  get required() {\n    return this._required;\n  }\n  /**\n   * Indication whether form component is disabled\n   */\n\n\n  set disabled(value) {\n    this._disabled = value;\n\n    if (value === true) {\n      this.control?.disable();\n      return;\n    }\n\n    this.control?.enable();\n  }\n\n  get disabled() {\n    return this._disabled;\n  } //######################### protected methods - _onOptionsSet implementation #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsSet() {\n    if (!this.options) {\n      return;\n    }\n\n    this.controlSubscription?.unsubscribe();\n    this.controlSubscription = null;\n    this.control = this._getFormControl(this.options?.controlName, this._parentControl, FormComponentControlType.FormControl, this.value);\n\n    this._registerValidations();\n\n    this.controlSubscription = this.control?.valueChanges?.subscribe(value => {\n      this.valueOutput = value;\n    });\n  } //######################### protected methods #########################\n\n  /**\n   * Registers component-specific validators\n   */\n\n\n  _registerValidations() {} //######################### private methods #########################\n\n  /**\n   * Gets form component control for control name\n   * @param controlName Form component control name\n   * @param parentControl Parent form control\n   * @param defaultControlType Default control type when parent does not exists or not contains control with specified name\n   * @param initValue Initial value for control\n   * @returns Specified type of control\n   */\n\n\n  _getFormControl(controlName, parentControl, defaultControlType = FormComponentControlType.FormControl, initValue) {\n    let control = getFormControl(controlName, parentControl, defaultControlType, initValue);\n\n    if (!control) {\n      this.logger?.warn('FormComponentBase: Unable to find control with name {@name}', {\n        name: controlName\n      });\n      control = getControlForType(defaultControlType, initValue);\n    }\n\n    if (this.required) {\n      control.addValidators(Validators.required);\n    }\n\n    if (this.disabled) {\n      control.disable();\n    }\n\n    return control;\n  }\n\n}\n\nFormComponentBase.ɵfac = function FormComponentBase_Factory(t) {\n  return new (t || FormComponentBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(FORM_COMPONENT_CONTROL, 8), i0.ɵɵdirectiveInject(LOGGER, 8));\n};\n\nFormComponentBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: FormComponentBase,\n  inputs: {\n    value: \"value\",\n    required: \"required\",\n    disabled: \"disabled\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature]\n});\n\n__decorate([DynamicOutput(), __metadata(\"design:type\", Object)], FormComponentBase.prototype, \"valueOutput\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(FormComponentBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Injector\n    }, {\n      type: i1.AbstractControl,\n      decorators: [{\n        type: Inject,\n        args: [FORM_COMPONENT_CONTROL]\n      }, {\n        type: Optional\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGGER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, {\n    value: [{\n      type: Input\n    }],\n    required: [{\n      type: Input\n    }],\n    disabled: [{\n      type: Input\n    }],\n    valueOutput: []\n  });\n})();","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Form group layout metadata loader\n */\nexport const FormGroupLayoutMetadataLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    return new (yield import('./metadata/formGroup.layoutMetadata')).FormGroupLayoutEditorMetadata();\n  });\n\n  return function FormGroupLayoutMetadataLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();","import { __decorate } from \"tslib\";\nimport { Component, ChangeDetectionStrategy, Injector } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LayoutComponentRendererSADirective } from '@anglr/dynamic/layout';\nimport { LayoutEditorMetadata } from '@anglr/dynamic/layout-editor';\nimport { FormGroupLayoutMetadataLoader } from './formGroup.metadata';\nimport { FORM_COMPONENT_CONTROL } from '../../misc/tokens';\nimport { FormComponentBase } from '../../components';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n/**\n * Component used for displaying stack panel layout\n */\n\nfunction FormGroupSAComponent_ng_container_0_ng_template_1_Template(rf, ctx) {}\n\nfunction FormGroupSAComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FormGroupSAComponent_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const type_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"layoutComponentRenderer\", type_r1)(\"layoutComponentRendererInjector\", ctx_r0._formInjector);\n  }\n}\n\nlet FormGroupSAComponent = class FormGroupSAComponent extends FormComponentBase {\n  //######################### protected methods #########################\n\n  /**\n   * Called on initialzation of component, options are already set\n   */\n  onInit() {\n    this._formInjector = Injector.create({\n      parent: this.injector,\n      providers: [{\n        provide: FORM_COMPONENT_CONTROL,\n        useValue: this.options?.controlName ? this._parentControl?.get(this.options.controlName) : null\n      }]\n    });\n  }\n\n};\n\nFormGroupSAComponent.ɵfac = /* @__PURE__ */function () {\n  let ɵFormGroupSAComponent_BaseFactory;\n  return function FormGroupSAComponent_Factory(t) {\n    return (ɵFormGroupSAComponent_BaseFactory || (ɵFormGroupSAComponent_BaseFactory = i0.ɵɵgetInheritedFactory(FormGroupSAComponent)))(t || FormGroupSAComponent);\n  };\n}();\n\nFormGroupSAComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: FormGroupSAComponent,\n  selectors: [[\"form-group\"]],\n  standalone: true,\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"layoutComponentRenderer\", \"layoutComponentRendererInjector\"]],\n  template: function FormGroupSAComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, FormGroupSAComponent_ng_container_0_Template, 2, 2, \"ng-container\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.options == null ? null : ctx.options.children);\n    }\n  },\n  dependencies: [CommonModule, i1.NgForOf, LayoutComponentRendererSADirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\nFormGroupSAComponent = __decorate([LayoutEditorMetadata(FormGroupLayoutMetadataLoader)], FormGroupSAComponent);\nexport { FormGroupSAComponent };\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(FormGroupSAComponent, [{\n    type: Component,\n    args: [{\n      selector: 'form-group',\n      standalone: true,\n      imports: [CommonModule, LayoutComponentRendererSADirective],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<ng-container *ngFor=\\\"let type of options?.children\\\">\\n    <ng-template [layoutComponentRenderer]=\\\"type\\\" [layoutComponentRendererInjector]=\\\"_formInjector\\\"></ng-template>\\n</ng-container>\"\n    }]\n  }], null, null);\n})();","import { ComponentStylingExtension } from '@anglr/dynamic/layout';\nimport { FormGroupSAComponent } from './formGroup.component';\nexport default FormGroupSAComponent;\nexport const extensions = [ComponentStylingExtension];","import { InjectionToken } from '@angular/core';\n/**\n * Injection token for form component control\n */\n\nexport const FORM_COMPONENT_CONTROL = new InjectionToken('FORM_COMPONENT_CONTROL');","import { DynamicClassMetadata } from '@anglr/dynamic';\n/**\n * Sets layout editor metadata to class on which is this decorator applied\n * @param metadataLoader - Layout editor metadata loader function used for obtaining metadata\n */\n\nexport function LayoutEditorMetadata(metadataLoader) {\n  return DynamicClassMetadata(metadataLoader, 'layoutEditorMetadata');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { ChangeDetectorRef, Directive, ElementRef, Inject, Injector, Optional } from '@angular/core';\nimport { LOGGER } from '@anglr/common';\nimport { isEmptyObject, nameof } from '@jscrpt/common';\nimport * as i0 from \"@angular/core\";\n/**\n * Base component for layout component\n */\n\nexport class LayoutComponentBase {\n  //######################### constructor #########################\n  constructor(changeDetector, componentElement, injector, logger) {\n    this.changeDetector = changeDetector;\n    this.componentElement = componentElement;\n    this.injector = injector;\n    this.logger = logger; //######################### protected fields #########################\n\n    /**\n     * Array of extensions that are registered for component\n     */\n\n    this.extensions = [];\n    /**\n     * Indication whether initialization was already done\n     */\n\n    this.initialized = false;\n    /**\n     * Indication whether was component destroyed\n     */\n\n    this.destroyed = false;\n  } //######################### protected properties #########################\n\n  /**\n   * Gets element that is used within extension\n   */\n\n\n  get element() {\n    return this.componentElement;\n  }\n  /**\n   * Gets options that are used within extension\n   */\n\n\n  get extensionsOptions() {\n    return this.options;\n  } //######################### public methods - implementation of OnDestroy #########################\n\n  /**\n   * Called when component is destroyed\n   */\n\n\n  ngOnDestroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    for (const ext of this.extensions) {\n      ext.destroy();\n    }\n\n    this.onDestroy();\n  } //######################### public methods - implementation of LayoutComponent #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) {\n        return;\n      }\n\n      _this.initialized = true;\n      const extensionsOptions = _this.extensionsOptions;\n      yield _this.onInit();\n      yield _this.onOptionsSet();\n\n      if (extensionsOptions) {\n        for (const extension of _this.extensions) {\n          yield extension.initialize(_this.injector, _this.element, _this);\n        }\n      }\n\n      yield _this.afterInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  ngOnChanges(changes) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      //options has changed\n      if (nameof('options') in changes) {\n        yield _this2.onOptionsSet();\n        const extensionsOptions = _this2.extensionsOptions; //set options in extensions\n\n        if (extensionsOptions) {\n          for (const extension of _this2.extensions) {\n            yield extension.optionsChange(extensionsOptions);\n          }\n        }\n\n        if (!_this2.initialized) {\n          return;\n        }\n\n        yield _this2.onOptionsChange();\n      }\n\n      delete changes[nameof('options')];\n\n      if (!isEmptyObject(changes)) {\n        _this2.onChanges(changes);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  registerExtensions(extensions) {\n    this.extensions = extensions;\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  invalidateVisuals() {\n    this.changeDetector.detectChanges();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialzation of component, options are already set\n   */\n\n\n  onInit() {}\n  /**\n   * Called right after initialization finished, including extesions\n   */\n\n\n  afterInit() {}\n  /**\n   * Called on change of options, after initialization\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Occurs when some property changes on component\n   * @param _changes - Changes that occured on component\n   */\n\n\n  onChanges(_changes) {}\n  /**\n   * Called everytime options are set, after initialization and later\n   */\n\n\n  onOptionsSet() {}\n  /**\n   * Called when component is being destroyed\n   */\n\n\n  onDestroy() {}\n\n}\n\nLayoutComponentBase.ɵfac = function LayoutComponentBase_Factory(t) {\n  return new (t || LayoutComponentBase)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(LOGGER, 8));\n};\n\nLayoutComponentBase.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: LayoutComponentBase,\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LayoutComponentBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOGGER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();","import { DynamicItemExtensionBase } from '@anglr/dynamic';\nimport { isPresent } from '@jscrpt/common';\n/**\n * Extension that applies common component styling to component\n */\n\nexport class ComponentStylingExtension extends DynamicItemExtensionBase {\n  //######################### public methods - overrides #########################\n\n  /**\n   * @inheritdoc\n   */\n  onInit() {\n    this._applyStyling();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  onOptionsChange() {\n    this._applyStyling();\n  } //######################### protected methods #########################\n\n  /**\n   * Applies component styling to element\n   */\n\n\n  _applyStyling() {\n    const options = this.options;\n    const style = this.element?.nativeElement.style;\n\n    if (this.element) {\n      if (isPresent(this.lastCssClass)) {\n        for (const cssClass of this.lastCssClass.split(' ')) {\n          if (cssClass) {\n            this.element.nativeElement.classList.remove(cssClass);\n          }\n        }\n      }\n\n      this.lastCssClass = options?.cssClass;\n\n      if (options?.cssClass) {\n        for (const cssClass of options.cssClass.split(' ')) {\n          if (cssClass) {\n            this.element?.nativeElement.classList.add(cssClass);\n          }\n        }\n      }\n    }\n\n    if (isPresent(style)) {\n      if (options?.margin) {\n        if (isPresent(options.margin.bottom)) {\n          style.marginBottom = options.margin.bottom;\n        }\n\n        if (isPresent(options.margin.right)) {\n          style.marginRight = options.margin.right;\n        }\n\n        if (isPresent(options.margin.top)) {\n          style.marginTop = options.margin.top;\n        }\n\n        if (isPresent(options.margin.left)) {\n          style.marginLeft = options.margin.left;\n        }\n      }\n\n      if (options?.padding) {\n        if (isPresent(options.padding.bottom)) {\n          style.paddingBottom = options.padding.bottom;\n        }\n\n        if (isPresent(options.padding.right)) {\n          style.paddingRight = options.padding.right;\n        }\n\n        if (isPresent(options.padding.top)) {\n          style.paddingTop = options.padding.top;\n        }\n\n        if (isPresent(options.padding.left)) {\n          style.paddingLeft = options.padding.left;\n        }\n      }\n\n      if (options?.textStyling) {\n        if (isPresent(options.textStyling.fontSize)) {\n          style.fontSize = options.textStyling.fontSize;\n        }\n\n        if (isPresent(options.textStyling.fontWeight)) {\n          style.fontWeight = options.textStyling.fontWeight.toString();\n        }\n      }\n    }\n  }\n\n}","import { Subject } from 'rxjs';\n/**\n * Creates dynamic output for property\n */\n\nexport function DynamicOutput() {\n  return function (target, propertyKey) {\n    const prop = propertyKey;\n    Object.defineProperty(target, `${prop}Change`, {\n      get: function () {\n        if (!this[`ɵ${prop}Change`]) {\n          this[`ɵ${prop}Change`] = new Subject();\n        }\n\n        return this[`ɵ${prop}Change`];\n      }\n    });\n    Object.defineProperty(target, prop, {\n      get: function () {\n        return this[`ɵ${prop}`];\n      },\n      set: function (value) {\n        this[`ɵ${prop}`] = value;\n        this[`${prop}Change`].next();\n      }\n    });\n  };\n}","//TODO: rework also with symbol\n\n/**\n * Sets dynamic metadata to class on which is this decorator applied\n * @param metadataLoader - Metadata loader function used for obtaining metadata\n * @param propertyName - Name of property where will be metadata instance stored\n */\nexport function DynamicClassMetadata(metadataLoader, propertyName) {\n  if (ngDesignerMetadata) {\n    return function (target) {\n      target[propertyName] = metadataLoader();\n      return target;\n    };\n  }\n\n  return function (target) {\n    return target;\n  };\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Dynamic item extension base class\n */\nexport class DynamicItemExtensionBase {\n  //######################### constructor #########################\n  constructor(metadata) {\n    this.metadata = metadata;\n    /**\n     * Indication whether was extension initialized\n     */\n\n    this.initialized = false;\n  } //######################### public methods - implementation of DynamicItemExtension #########################\n\n  /**\n   * @inheritdoc\n   */\n\n\n  initialize(injector, element, instance) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.initialized = true;\n      _this.injector = injector;\n      _this.element = element;\n      _this.instance = instance;\n      yield _this.onInit();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  optionsChange(options) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.options = options;\n\n      if (!_this2.initialized) {\n        return;\n      }\n\n      yield _this2.onOptionsChange();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n\n\n  destroy() {\n    this.onDestroy();\n  } //######################### protected methods #########################\n\n  /**\n   * Called on initialization of component\n   */\n\n\n  onInit() {}\n  /**\n   * Called on change of options of component\n   */\n\n\n  onOptionsChange() {}\n  /**\n   * Called on destruction of component\n   */\n\n\n  onDestroy() {}\n\n}"],"names":["FormComponentBase","constructor","_changeDetector","_element","_injector","_parentControl","_logger","super","this","control","value","oldValue","valueOutput","patchValue","required","_required","removeValidators","addValidators","disabled","_disabled","enable","disable","onOptionsSet","options","controlSubscription","unsubscribe","_getFormControl","controlName","_registerValidations","valueChanges","subscribe","parentControl","defaultControlType","initValue","logger","warn","name","t","type","inputs","features","Object","prototype","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","FormGroupLayoutMetadataLoader","fn","_ref","FormGroupLayoutEditorMetadata","self","args","arguments","apply","err","undefined","FormGroupSAComponent_ng_container_0_ng_template_1_Template","rf","ctx","FormGroupSAComponent_ng_container_0_Template","type_r1","$implicit","ctx_r0","_formInjector","FormGroupSAComponent","onInit","parent","injector","providers","provide","useValue","get","selectors","standalone","decls","vars","consts","template","children","dependencies","encapsulation","changeDetection","extensions","FORM_COMPONENT_CONTROL","LayoutEditorMetadata","metadataLoader","_asyncToGenerator","LayoutComponentBase","changeDetector","componentElement","initialized","destroyed","element","extensionsOptions","ngOnDestroy","ext","destroy","onDestroy","ngOnInit","_this","extension","initialize","afterInit","ngOnChanges","changes","_this2","optionsChange","onOptionsChange","onChanges","registerExtensions","invalidateVisuals","detectChanges","_changes","ComponentStylingExtension","_applyStyling","style","nativeElement","lastCssClass","cssClass","split","classList","remove","add","margin","bottom","marginBottom","right","marginRight","top","marginTop","left","marginLeft","padding","paddingBottom","paddingRight","paddingTop","paddingLeft","textStyling","fontSize","fontWeight","toString","DynamicOutput","target","propertyKey","prop","defineProperty","set","next","DynamicClassMetadata","propertyName","DynamicItemExtensionBase","metadata","instance"],"sourceRoot":""}