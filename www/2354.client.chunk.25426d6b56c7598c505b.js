"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[2354],{78710:(t,e,s)=>{s.d(e,{U:()=>R});var r=s(14392),i=s(12987),n=s(13816),o=s(41410),a=s(40760),h=s(78072);class c{constructor(){this._viewContainerChange=new h.x}get viewContainer(){return this._viewContainer}set viewContainer(t){this._viewContainer=t,this._viewContainerChange.next()}get viewContainerChange(){return this._viewContainerChange.asObservable()}}var l=s(37654),_=s(47948),u=s(432),d=s(97873),p=s(13341),g=s(71876),m=s(76986),v=s(31061);const C=(0,v.oQ)([(0,v.IO)("@*",(0,v.pV)(),{optional:!0})]),b=(0,v.X$)("animateChildren",[(0,v.eR)(":enter, :leave",[(0,v._7)(C)])]);var f=s(57165),w=s(50478),y=s(28588),E=s(4149),O=s(83210),S=s(52455),M=s(5419),V=s(66382),x=s(84570),Y=s(11500),D=s(15704),F=s(97503);function L(t,e){if(1&t&&(f.Tg(0,"div"),w._(1),f.qZ()),2&t){const t=e.$implicit;y.x(1),E.Oq(t)}}function z(t,e){if(1&t&&(f.Tg(0,"div",1),O.Y(1,L,2,1,"div",2),f.qZ()),2&t){const t=S.o();M.Q("ngClass",null==t.options?null:t.options.wrapperDivClass)("@slideInOut",void 0),y.x(1),M.Q("ngForOf",null==t.errors?null:t.errors.errorMessages)}}class H{constructor(t){this._changeDetector=t,this.animate=!0}show(t,e){this.errors=t,this.options=e,this._changeDetector.detectChanges()}}H.ɵfac=function(t){return new(t||H)(l.Y(V.s))},H.ɵcmp=p.Xp({type:H,selectors:[["default-validation-errors"]],hostVars:1,hostBindings:function(t,e){2&t&&x.d("@animateChildren",e.animate)},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&O.Y(0,z,2,3,"div",0),2&t&&M.Q("ngIf",null==e.errors||null==e.errors.errorMessages?null:e.errors.errorMessages.length)},dependencies:[Y.m,D.sg,F.O],styles:["[_nghost-%COMP%]\n{\n    display: contents;\n}"],data:{animation:[m.x,b]},changeDetection:0});class T{constructor(t){this._viewContainer=t}show(t,e){if(this._errors=t,this._options=e,e.template)this._renderTemplate();else{if(!e.component)throw new Error("Missing template or component for rendering validation errors!");this._renderComponent()}}hide(){this._viewContainer.clear(),this._component=null,this._template=null}_renderComponent(){this._component||(this._component=this._viewContainer.createComponent(this._options.component)),this._component.instance.show(this._errors,this._options)}_renderTemplate(){this._template?(this._template.context={$implicit:this._errors,options:this._options},this._template.detectChanges()):this._template=this._viewContainer.createEmbeddedView(this._options.template,{$implicit:this._errors,options:this._options})}}T.ɵfac=function(t){return new(t||T)(l.Y(u.s_))},T.ɵcmp=p.Xp({type:T,selectors:[["default-validation-errors-container"]],decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%]\n{\n    display: contents;\n}"],changeDetection:0});var j=s(81267),k=s(10012),I=s(55163);const G={required:"Field is required.",number:"Value must be number.",pattern:"Value is not valid.",minValue:"Value is too small.",maxValue:"Value is too big.",minlength:"Value is short.",maxlength:"Value is too long."};class q{constructor(t,e,s){this._stringLocalization=t,this._ignoredValidationErrors=e,this._errorMessages=(0,n.l7)(!0,{},G,s)}getErrors(t,e){const s=(0,n.l7)(!0,{},this._errorMessages,e);if(!t||!t.errors)return null;const r={errors:Object.keys(t.errors).filter((t=>this._ignoredValidationErrors.indexOf(t)<0)),errorMessages:[]};return r.errors.forEach((e=>{const i=t.errors[e];s[e]?r.errorMessages.push(this._stringLocalization.get(s[e],t.errors)):(0,I.HD)(i)?r.errorMessages.push(i):Array.isArray(i)&&i.forEach((e=>{(0,I.HD)(e)&&r.errorMessages.push(this._stringLocalization.get(e,t.errors))}))})),r}}q.ɵfac=function(t){return new(t||q)(j.LF(i.oF),j.LF(g.SZ),j.LF(g.xY,8))},q.ɵprov=k.Yz({token:q,factory:q.ɵfac,providedIn:"root"});class B{constructor(t,e){this._errorMessagesExtractor=t,this._options=(0,n.l7)(!0,{},Q,e)}create(t,e,s,r){return new this._options.rendererType(this._errorMessagesExtractor,t,e,s,r,this._options)}}B.ɵfac=function(t){return new(t||B)(j.LF(q),j.LF(g.gt,8))},B.ɵprov=k.Yz({token:B,factory:B.ɵfac,providedIn:"root"});const Q={prefix:"ng-",suffix:"-error",wrapperDivClass:"validation-error-div",rendererType:class{constructor(t,e,s,r,i,n){this._errorMessagesExtractor=t,this._control=e,this._containerView=s,this._injector=r,this._isSubmittedOrDirty=i,this._options=n,this._initialize()}destroy(){this._containerView.viewContainer.clear(),this._container=null}update(t,e){let s=!1;return this._lastErrors=this._errorMessagesExtractor.getErrors(this._control,e),this._lastErrors?this._isSubmittedOrDirty((()=>{const e=(0,n.l7)(!0,{},this._options,t);this._container.instance.show(this._lastErrors,e),s=!0}),(()=>{this._container.instance.hide(),s=!1})):(this._container.instance.hide(),s=!1),s}_initialize(){this._container=this._containerView.viewContainer.createComponent(this._options.container,{injector:this._injector}),this._container.instance.hide()}},component:H,container:T},$={cssClass:"has-error"};class A{constructor(t){this._element=t,this._options=null,this._invalidControls=[],this._options=(0,n.l7)(!0,{},$)}registerControl(t){this._invalidControls.find((e=>e==t))||this._invalidControls.push(t),this._updateStatus()}unregisterControl(t){this._invalidControls.find((e=>e==t))&&this._invalidControls.splice(this._invalidControls.indexOf(t),1),this._updateStatus()}_updateStatus(){this._invalidControls.length?this._element.nativeElement.classList.add(this._options.cssClass):this._element.nativeElement.classList.remove(this._options.cssClass)}}A.ɵfac=function(t){return new(t||A)(l.Y(_.SB))},A.ɵdir=p.lG({type:A,selectors:[["","groupHasError",""]]});var X=s(29405),Z=s(48215),N=s(10415),P=s(26399);class R{constructor(t,e,s,r,i,o,h,c,l,_,u){this._element=t,this._rendererFactory=e,this._viewContainer=s,this._groupHasError=r,this._formControl=i,this._formControlName=o,this._ngModel=h,this._submittedSvc=c,this._containerView=l,this._stringLocalization=_,this._injector=u,this._subscriptions=new a.w0,this._id=(0,n.Ox)(10),this._previousDirty=!1,this._hasErrors=!1}get control(){return this._formControl?.control||this._formControlName?.control||this._ngModel?.control}ngOnInit(){var t;this._containerView??(this._containerView=new c),(t=this._containerView).viewContainer??(t.viewContainer=this._viewContainer),this._registerMutationObserver(),this._subscriptions.add(this._stringLocalization.textsChange.subscribe((()=>this._updateStatus()))),this._subscriptions.add(this.control.statusChanges.subscribe((()=>this._updateStatus()))),this._submittedSvc&&this._subscriptions.add(this._submittedSvc.submittedChange.subscribe((()=>this._isSubmittedOrDirty((()=>this._updateStatus())))))}ngAfterViewInit(){this.renderer=this._rendererFactory.create(this.control,this._containerView,this._injector,this._isSubmittedOrDirty),this._updateStatus()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._groupHasError?.unregisterControl(this._id),this._observer?.disconnect(),this.renderer?.destroy()}_updateStatus(){if(!this.renderer)return;const t={};this.errorsTemplate?t.template=this.errorsTemplate:this.errorsComponent&&(t.component=this.errorsComponent),this._previousDirty=this.control.dirty,this._hasErrors=this.renderer.update(t,this.errorMessages),this._toggleGroupHasError()}_toggleGroupHasError(){this._groupHasError&&this._isSubmittedOrDirty((()=>this._groupHasError.registerControl(this._id)),(()=>this._groupHasError.unregisterControl(this._id)),this._hasErrors)}_isSubmittedOrDirty(t,e=(()=>{}),s=!0){(this._submittedSvc?.submitted||this.control?.dirty)&&s?t():e()}_registerMutationObserver(){this._observer=new MutationObserver((()=>{this.control.dirty!=this._previousDirty&&this._updateStatus()})),this._observer.observe(this._element.nativeElement,{attributeFilter:["class"],attributes:!0})}}R.ɵfac=function(t){return new(t||R)(l.Y(_.SB),l.Y(B),l.Y(u.s_),l.Y(A,12),l.Y(X.oH,8),l.Y(Z.u,8),l.Y(N.O,8),l.Y(P.G,8),l.Y(c,8),l.Y(i.oF),l.Y(d.z))},R.ɵdir=p.lG({type:R,selectors:[["","hasError",""]],inputs:{errorMessages:"errorMessages",errorsComponent:"errorsComponent",errorsTemplate:"errorsTemplate"}}),(0,r.gn)([o.r,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Function,Function,Boolean]),(0,r.w6)("design:returntype",void 0)],R.prototype,"_isSubmittedOrDirty",null)},26399:(t,e,s)=>{s.d(e,{G:()=>n});var r=s(78072),i=s(10012);class n{constructor(){this._submittedChangeSubject=new r.x,this._submitted=!1}get submitted(){return this._submitted}get submittedChange(){return this._submittedChangeSubject.asObservable()}setSubmitted(t=!0){this._submitted!=t&&(this._submitted=t,this._submittedChangeSubject.next())}}n.ɵfac=function(t){return new(t||n)},n.ɵprov=i.Yz({token:n,factory:n.ɵfac})},68266:(t,e,s)=>{s.d(e,{n:()=>i});var r=s(89033);function i(t,e){return(0,r.n)(t,{defaultValue:e})}}}]);
//# sourceMappingURL=2354.client.chunk.25426d6b56c7598c505b.js.map